(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[27],{2891:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(8),a=n(1),c=n(99),o=n(18),i=n(0),s=n.n(i),l=n(19),u=n(58);function b(){var t=Object(o.a)(["\n\tcolor: ",";\n\twidth: 0;\n\tposition: relative;\n\tfont-weight: 500;\n\tfont-family: inherit;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ",";\n\tfont-size: 1rem;\n\ttext-align: ",";\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\theight: ",";\n\tborder-bottom-right-radius: ",";\n\tborder-top-right-radius: ",";\n\tborder-bottom-left-radius: ",";\n\tborder-top-left-radius: ",";\n\tpadding-right: 0.625rem;\n\tpadding-left: ",";\n\t-webkit-appearance: textfield;\n\tborder-left: ",';\n\n\t@media (min-width: 768px) {\n\t\tpadding-right: 4.5625rem;\n\t}\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t[type="number"] {\n\t\t-moz-appearance: textfield;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ',";\n\t}\n"]);return b=function(){return t},t}var d=l.default.input(b(),(function(t){var e=t.error,n=t.theme;return e?n.red1:n.text1}),(function(t){return t.theme.bg3}),(function(t){var e=t.align;return e&&e}),(function(t){return"sm"===t.size?"48px":"56px"}),(function(t){return t.reverse?"0":"1.125rem"}),(function(t){return t.reverse?"0":"1.125rem"}),(function(t){return t.reverse?"1.125rem":"0"}),(function(t){return t.reverse?"1.125rem":"0"}),(function(t){var e=t.noBorder;return t.reverse?"1.375rem":e?"0.625rem":"1.5rem"}),(function(t){var e=t.theme;return t.noBorder?"none":"3px solid ".concat(e.modalBG)}),(function(t){return t.theme.text3})),f=RegExp("^\\d*(?:\\\\[.])?\\d*$"),j=s.a.memo((function(t){var e=t.value,n=t.onUserInput,o=t.placeholder,i=t.size,s=Object(c.a)(t,["value","onUserInput","placeholder","size"]);return Object(a.jsx)(d,Object(r.a)(Object(r.a)({},s),{},{value:e,onChange:function(t){var e;(""===(e=t.target.value.replace(/,/g,"."))||f.test(Object(u.d)(e)))&&n(e)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",size:i,type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:o||"0.0",minLength:1,maxLength:79,spellCheck:"false"}))}))},2960:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n(262),a=n.n(r),c=n(725),o=n.n(c),i=n(532),s=n.n(i),l=n(0),u=n.n(l),b=n(2847),d=n(233);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var a=r.forwardedRef,c=s()(r,["forwardedRef"]),i=Object(b.a)(t,c),l=o()(i,3),d=l[0],f=l[1],m=l[2],p=j(j({},c),{},{t:d,i18n:f,tReady:m});return e.withRef&&a?p.ref=a:!e.withRef&&a&&(p.forwardedRef=a),u.a.createElement(n,p)}r.displayName="withI18nextTranslation(".concat(Object(d.a)(n),")"),r.WrappedComponent=n;return e.withRef?u.a.forwardRef((function(t,e){return u.a.createElement(r,Object.assign({},t,{forwardedRef:e}))})):r}}},3011:function(t,e,n){"use strict";var r=n(8),a=n(1),c=n(59),o=n(2),i=n.n(o),s=n(24),l=n(40),u=n(0),b=n(67),d=n(41),f=n(46),j=n(51),m=n(45),p=n(214),h=n(38),O=function(){var t=Object(d.a)(),e=t.account,n=t.library,r=Object(f.e)(j.f),a=Object(f.e)(j.B),o=Object(u.useMemo)((function(){return Object(m.a)()}),[]),O=Object(u.useMemo)((function(){return o.getTokens()}),[]),x=Object(u.useMemo)((function(){return o.getWethToken()}),[]),v=function(t,e,n){var r=Object(u.useState)([]),a=Object(l.a)(r,2),c=a[0],o=a[1],d=function(){var r=Object(s.a)(i.a.mark((function r(){var a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=5;break}return r.next=3,Object(b.f)(t,e,n);case 3:a=r.sent,o(a);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(u.useEffect)((function(){d()}),[e,t]),Object(u.useMemo)((function(){return c.length>0?c:[]}),[e,c,t])}(Object(u.useMemo)((function(){return[].concat(Object(c.a)(O),[x])}),[x,O]),e,window.ethereum||n),w=Object(p.d)([e]),g=Object(u.useMemo)((function(){return v.find((function(t){return t.token.symbol===x.symbol}))}),[v]),k=Object(u.useMemo)((function(){return v.filter((function(t){return t.token.symbol!==x.symbol}))}),[v]),y=Object(u.useMemo)((function(){var t=w[e]?w[e].toExact():null,n=new h.BigNumber(t*Math.pow(10,18));return{token:w[e]?w[e].currency:void 0,balance:n}}),[w]),B=Object(u.useMemo)((function(){if(g&&y){var t=g.balance;return void 0!==y.token&&(t=y.balance.plus(g.balance)),t}}),[y,g]),T=Object(u.useMemo)((function(){return Object(j.I)({tokenBalances:k,wethTokenBalance:g,tokenToFind:r})}),[r,k,g]),E=Object(u.useMemo)((function(){return Object(j.I)({tokenBalances:k,wethTokenBalance:g,tokenToFind:a})}),[a,k,g]);return Object(u.useMemo)((function(){return{quoteTokenBalance:E,baseTokenBalance:T,totalEthBalance:B,ethBalance:y,wethBalance:g,tokensBalance:k}}),[e,r,a,v,T,E])};e.a=function(t){return function(e){var n=O();return Object(a.jsx)(t,Object(r.a)(Object(r.a)({},e),n))}}},3104:function(t,e,n){"use strict";var r=n(1),a=n(2),c=n.n(a),o=n(24),i=n(40),s=n(2892),l=n(0),u=n(46),b=n(51),d=n(9),f=n(41),j=n(151),m=n(376),p=n(167);e.a=function(t){var e=Object(l.useState)(!1),n=Object(i.a)(e,2),a=n[0],h=n[1],O=Object(f.a)(),x=O.account,v=(O.library,Object(u.e)(b.E)),w=v.address,g=v.token,k=t.web3,y=Object(u.d)(),B=function(){var e=Object(o.a)(c.a.mark((function e(){var n,r,a,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.a)(k.getProvider());case 3:return n=e.sent,r=w||n.contractAddresses.erc20Proxy,a=new m.ERC20TokenContract(g.address,n.getProvider()),o=d.vb,e.next=9,a.approve(r,o).sendTransactionAsync({from:x});case 9:return i=e.sent,h(!0),e.next=13,k.awaitTransactionSuccessAsync(i);case 13:i&&(h(!1),y(Object(p.r)())),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),h(!1),t.onDismiss();case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){B()}),[v]),Object(r.jsx)(s.b,{onDismiss:a?function(){return null}:t.onDismiss,pendingText:a?"Unlocking":"Waiting for confirmation"})}},3880:function(t,e,n){},3881:function(t,e,n){},3910:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(18),c=n(2858),o=n(1180),i=n(142),s=n(195),l=function(t){return Object(r.jsx)(i.ApolloProvider,{client:Object(s.b)(),children:t.children})},u=n(714),b=n(2),d=n.n(b),f=n(24),j=n(38),m=n(46),p=(n(3880),n(41)),h=n(51),O=n(279),x=n(0),v=n.n(x),w=n(726),g=n(2868),k=n(719),y=n.n(k),B=n(721),T=n(19),E=n(2847);function S(){var t=Object(a.a)(["\n\tcolor: ",";\n\tfont-size: 1rem;\n\tfont-weight: 700;\n"]);return S=function(){return t},t}function N(){var t=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\n\t& .card-body {\n\t\tpadding: 24px 20px 20px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\t& .card-body {\n\t\t\tpadding: 24px;\n\t\t}\n\t}\n"]);return N=function(){return t},t}var D=Object(T.default)(g.b)(N()),F=T.default.span(S(),(function(t){var e=t.theme,n=t.variant;return n?e[n]:e.text1})),M=function(t){var e=Object(p.a)().account,n="NATIVE"===Object(m.e)(h.b),a=Object(m.d)(),c=Object(m.e)(h.e),o=Object(m.e)(h.n),i=Object(E.a)().t,l=function(){var t=Object(f.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.c)(e);case 2:n=t.sent,a(Object(O.l)(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(x.useEffect)((function(){(function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,l();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(w.a)(Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,l();case 3:case"end":return t.stop()}}),t)}))),3e4);var u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t?n?"".concat(t.dividedBy("1e18").toFixed(3)," ETH"):o?"".concat(t.dividedBy("1e18").multipliedBy(o).toFixed(3)," USD"):"- USD":"-"},b=u(c&&c.totalLiquidity),v=u(c&&c.totalCollateralETH),g=u(c&&c.totalBorrowsETH),k=u(c&&c.availableBorrowsETH),T=c&&"".concat(c.currentLiquidationThreshold.toFixed(0)," %")||"-",S=c&&"".concat(c.ltv.toFixed(0)," %")||"-",N="-";c&&c.totalBorrowsETH.gt(0)&&(N=c&&c.healthFactor.dividedBy("1e18").toFixed(3),new j.BigNumber(N));var M=[{dataField:"total_liquidity",text:i("borrow.totalLiquidity"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.totalLiquidity})}},{dataField:"total_collateral",text:i("borrow.totalCollateral"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.totalCollateralETH})}},{dataField:"total_borrows",text:i("borrow.totalBorrows"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.totalBorrowsETH})}},{dataField:"available",text:i("borrow.available"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.availableBorrowsETH})}},{dataField:"liquidation_threshold",text:i("borrow.liquidationThreshold"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.currentLiquidationThreshold})}},{dataField:"ltv",text:"LTV",formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.ltv})}},{dataField:"health_factor",text:i("borrow.healthFactor"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.healthFactor})}}];return Object(r.jsxs)(D,{children:[Object(r.jsx)(y.a,{wrapperClasses:"d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden global-overall__table mb-0",bootstrap4:!0,keyField:"id",remote:!0,data:[{totalLiquidity:b,totalCollateralETH:v,totalBorrowsETH:g,availableBorrowsETH:k,currentLiquidationThreshold:T,ltv:S,healthFactor:N}],columns:M}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:M,data:[{totalLiquidity:b,totalCollateralETH:v,totalBorrowsETH:g,availableBorrowsETH:k,currentLiquidationThreshold:T,ltv:S,healthFactor:N}],direction:"rtl",withoutBorder:!0})]})},L=n(2863),z=n(2972),C=n(286);function A(){var t=Object(a.a)(["\n\t{\n\t\treserves {\n\t\t\tid\n\t\t\tname\n\t\t\tsymbol\n\t\t\tdecimals\n\t\t\tliquidityRate\n\t\t\tvariableBorrowRate\n\t\t\tprice {\n\t\t\t\tpriceInEth\n\t\t\t}\n\t\t\tstableBorrowRate\n\t\t\taverageStableBorrowRate\n\t\t\taToken {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]);return A=function(){return t},t}var R=n.n(C)()(A()),H=n(209),q=n(8),W=n(40),_=n(13),P=n(3011),I=n(45),U=n(67),G=n(167),V=n(2867),K=n(3248),J=n(99),$=n(16),Q=n(21),Y=n(25),X=n(26),Z=n(373),tt=n(9),et=n(2865),nt=n(2891);function rt(){var t=Object(a.a)(["\n\t",";\n\talign-items: center;\n\tmargin-top: 10px;\n\tcolor: ",";\n\topacity: 0.5;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tline-height: 1rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t}\n"]);return rt=function(){return t},t}function at(){var t=Object(a.a)(["\n\talign-items: center;\n\theight: 56px;\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tbackground-color: ",";\n\tcolor: ",";\n\tborder-bottom-left-radius: 18px;\n\tborder-top-left-radius: 18px;\n\tbox-shadow: none;\n\toutline: none;\n\tcursor: pointer;\n\tuser-select: none;\n\tborder: none;\n\tpadding: 0.875rem 0.625rem;\n\tmin-width: 116px;\n\twidth: 116px;\n\ttext-align: center;\n\n\t@media (min-width: 768px) {\n\t\tmin-width: 116px;\n\t\twidth: 116px;\n\t\tpadding: 0.625rem 1rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 700;\n\t\ttext-align: left;\n\t}\n\n\t:focus,\n\t:hover {\n\t\tbackground-color: ",";\n\t\toutline: none;\n\t}\n"]);return at=function(){return t},t}function ct(){var t=Object(a.a)(["\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tmargin-left: 15px;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t\tmargin-right: auto;\n\t}\n"]);return ct=function(){return t},t}function ot(){var t=Object(a.a)(["\n\t",";\n\tposition: relative;\n\tborder-radius: 0.42rem;\n"]);return ot=function(){return t},t}function it(){var t=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (min-width: 768px) {\n\t\tjustify-content: space-between;\n\t}\n"]);return it=function(){return t},t}function st(){var t=Object(a.a)(["\n\t",";\n\talign-items: center;\n\tcolor: ",";\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding: 0;\n"]);return st=function(){return t},t}function lt(){var t=Object(a.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tflex: 1;\n"]);return lt=function(){return t},t}function ut(){var t=Object(a.a)(["\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t\tfont-weight: 700;\n\t}\n"]);return ut=function(){return t},t}function bt(){var t=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 34px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 36px;\n\t}\n"]);return bt=function(){return t},t}function dt(){var t=Object(a.a)(["\n\t",";\n\talign-items: center;\n\n\tpadding: 0.625rem 0 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding-top: 0.75rem;\n\t}\n"]);return dt=function(){return t},t}var ft=T.default.div(dt(),(function(t){return t.theme.flexRowNoWrap})),jt=T.default.div(bt()),mt=T.default.span(ut(),(function(t){return t.theme.text1})),pt=T.default.div(lt()),ht=T.default.div(st(),(function(t){return t.theme.flexRowNoWrap}),(function(t){return t.theme.text1})),Ot=T.default.span(it()),xt=T.default.div(ot(),(function(t){return t.theme.flexColumnNoWrap})),vt=T.default.span(ct()),wt=T.default.button(at(),(function(t){return t.theme.bg3}),(function(t){return t.theme.text1}),(function(t){return t.theme.bg1})),gt=T.default.div(rt(),(function(t){return t.theme.flexRowNoWrap}),(function(t){return t.theme.text1})),kt=function(t){Object(Y.a)(n,t);var e=Object(X.a)(n);function n(){var t;Object($.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={valueStr:t.props.value?Object(U.c)(t.props.value,t.props.decimals,t.props.valueFixedDecimals):""},t._updateValue=function(e){var n=Object(U.g)(e||"0",t.props.decimals);t.props.min&&n.isLessThan(t.props.min)||(t.props.onUserInput(n),t.setState({valueStr:e}))},t}return Object(Q.a)(n,[{key:"render",value:function(){var t=this.props,e=t.label,n=void 0===e?"Input":e,a=t.disable,c=void 0!==a&&a,o=t.selected,i=t.hideInput,s=void 0!==i&&i,l=t.id,u=t.showBalance,b=void 0===u||u,d=t.balanceText,f=t.token,j=void 0===f?void 0:f,m=this.state.valueStr,p=j?new _.k(1,j.address,j.decimals,j.symbol,j.name):void 0;return Object(r.jsx)(xt,{id:l,children:Object(r.jsxs)(jt,{children:[!s&&Object(r.jsx)(ht,{children:Object(r.jsx)(et.b,{children:Object(r.jsx)(mt,{children:n})})}),Object(r.jsxs)(ft,{style:s?{padding:"0",borderRadius:"0.42rem"}:{},selected:c,children:[Object(r.jsx)(wt,{selected:!!o,className:"open-currency-select-button",children:Object(r.jsxs)(Ot,{children:[j&&Object(r.jsx)(V.a,{currency:p,size:"24px"}),Object(r.jsx)(vt,{className:"token-symbol-container",active:Boolean(o),children:(o&&(null===o||void 0===o?void 0:o.length)>20?((null===o||void 0===o?void 0:o.slice(0,4))+"..."+(null===o||void 0===o?void 0:o.slice((null===o||void 0===o?void 0:o.length)-5,null===o||void 0===o?void 0:o.length))).toUpperCase():o.toUpperCase())||"Select"})]})}),!s&&Object(r.jsx)(pt,{children:Object(r.jsx)(nt.a,{className:"token-amount-input pl-3 ",value:m,onUserInput:this._updateValue})})]}),o&&b&&Object(r.jsx)(gt,{children:d()})]})})}}]),n}(v.a.Component);kt.getDerivedStateFromProps=function(t,e){var n=t.decimals,r=t.value,a=t.valueFixedDecimals,c=e.valueStr;return r?r&&!Object(U.g)(c||"0",n).eq(r)?{valueStr:Object(U.c)(r,n,a)}:null:{valueStr:""}};var yt=n(2866),Bt=(n(50),n(200)),Tt=n(215),Et=n(2960);function St(){var t=Object(a.a)(["\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n"]);return St=function(){return t},t}function Nt(){var t=Object(a.a)(["\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n"]);return Nt=function(){return t},t}function Dt(){var t=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ",";\n\tfont-size: 1rem;\n\tfont-weight: 500;\n"]);return Dt=function(){return t},t}function Ft(){var t=Object(a.a)(["\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n"]);return Ft=function(){return t},t}var Mt=T.default.h4(Ft()),Lt=T.default.div(Dt(),(function(t){return t.theme.text3})),zt=Object(T.default)(Bt.h.black)(Nt()),Ct=T.default.button(St()),At=function(t){Object(Y.a)(n,t);var e=Object(X.a)(n);function n(){var t;Object($.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={amount:null,error:{btnMsg:null,cardMsg:null}},t.componentDidMount=function(){var e=t.props,n=e.ethBalance,r=e.t;n.isLessThan(tt.nb.gasTransferToken)&&(Tt.c.error(r("errors.notEnoughGas")),t.setState({error:{btnMsg:"Error",cardMsg:r("errors.notEnoughGas")}}))},t.submit=Object(f.a)(d.a.mark((function e(){var n,r,a,c,o,i,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.tokenBalance,a=n.isEth,c=n.wethToken,o=n.aToken,i=n.isLending,!a){e.next=5;break}s=Object(q.a)(Object(q.a)({},c),{},{symbol:"ETH"}),e.next=10;break;case 5:if(!r){e.next=9;break}s=r.token,e.next=10;break;case 9:return e.abrupt("return",null);case 10:l=t.state.amount||new j.BigNumber(0),t.props.onSubmit(l,s,o,a,i);case 12:case"end":return e.stop()}}),e)}))),t._reset=function(){t.setState({amount:null})},t._closeModal=function(){t._reset()},t.setMax=function(){var e=t.props,n=e.tokenBalance,r=e.isEth,a=e.ethBalance,c=e.isLending,o=e.aToken;if(r){var i=c?a:o.balance||new j.BigNumber(0);t.setState({amount:i})}else n&&t.setState({amount:c?n.balance:o.balance||new j.BigNumber(0)})},t.updateAmount=function(e){t.setState({amount:e})},t}return Object(Q.a)(n,[{key:"render",value:function(){var t,e,n,a,i=this.context,s=this.props,l=s.tokenBalance,u=s.closeModal,b=s.ethBalance,d=s.isEth,f=s.wethToken,m=s.aToken,p=s.isLending,h=s.show,O=s.t,x=(Object(J.a)(s,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","isLending","show","t"]),this.state),v=x.error,w=x.amount,g=m.liquidityRate;if(d)a=f.displayDecimals,n=18,e=p?b:m.balance||new j.BigNumber(0),t=Object(U.e)("ETH");else{if(!l)return null;var k=l.token,y=l.balance;a=k.displayDecimals,n=k.decimals,e=p?y:m.balance||new j.BigNumber(0),t=Object(U.e)(k.symbol)}var B=l.token,T=p?"Deposit ":"Withdraw ",E=Object(U.c)(e,n,a),S=v&&v.btnMsg?"Error":T+t,N=null===w||w&&w.isGreaterThan(e);return Object(r.jsx)(Z.a,{show:h,onHide:u,centered:!0,children:Object(r.jsx)(Z.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(Mt,{children:[O(p?"Deposit":"withdraw")," ",t]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(kt,{decimals:n,min:0,max:e,onUserInput:this.updateAmount,value:w,token:B,selected:t,showBalance:!1,label:O(p?"wantToDeposit":"wantToWithdraw"),placeholder:new j.BigNumber(1).div(new j.BigNumber(10).pow(a)).toString(),valueFixedDecimals:a})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(yt.a,{children:[Object(r.jsxs)(Lt,{children:[Object(r.jsx)(et.c,{children:Object(r.jsx)(zt,{fontWeight:500,color:i.text1,children:O("interestAPR")})}),Object(r.jsx)(et.c,{children:Object(r.jsxs)(zt,{color:i.text1,fontWeight:500,children:[g.div("1e27").multipliedBy(100).toFixed(5)," %"]})})]}),Object(r.jsxs)(Lt,{children:[Object(r.jsx)(et.c,{children:Object(r.jsx)(zt,{fontWeight:500,color:i.text1,children:O("amount")})}),Object(r.jsx)(et.c,{children:Object(r.jsx)(zt,{color:i.text1,fontWeight:500,children:E})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(Ct,{className:"btn btn-".concat(p?"primary":"warning"),disabled:N,onClick:this.submit,children:S})})]})})})}}]),n}(v.a.Component);At.contextType=T.ThemeContext;var Rt=Object(Et.a)()(At),Ht=n(107),qt=void 0;function Wt(){var t=Object(a.a)(["\n\tfont-weight: 500;\n\tfont-size: 0.875rem;\n\tcolor: ",";\n\n\t&.font-size-base {\n\t\tfont-size: 1rem;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 700;\n\n\t\t&.label {\n\t\t\tfont-weight: 500;\n\t\t}\n\t}\n"]);return Wt=function(){return t},t}function _t(){var t=Object(a.a)(["\n\tfont-weight: 400;\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 400;\n\t}\n"]);return _t=function(){return t},t}function Pt(){var t=Object(a.a)(["\n\tcolor: ",";\n\tfont-size: 1rem;\n\tmargin-right: 10px;\n\tfont-weight: 700;\n"]);return Pt=function(){return t},t}function It(){var t=Object(a.a)(["\n\twidth: 32px;\n\theight: 32px;\n\tborder-radius: 32px;\n\tbackground-color: ",";\n\n\t@media (max-width: 991px) {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder-radius: 24px;\n\t}\n"]);return It=function(){return t},t}var Ut=T.default.div(It(),(function(t){return t.theme.text1})),Gt=T.default.span(Pt(),(function(t){return t.theme.text1})),Vt=T.default.span(_t(),(function(t){return t.theme.text1})),Kt=T.default.span(Wt(),(function(t){return t.theme.text1})),Jt=Object(P.a)((function(t){var e=Object(x.useState)(!1),n=Object(W.a)(e,2),a=n[0],c=n[1],o=Object(x.useState)(!1),i=Object(W.a)(o,2),s=i[0],l=(i[1],Object(x.useState)(!1)),u=Object(W.a)(l,2),b=u[0],O=(u[1],Object(x.useState)(!1)),v=Object(W.a)(O,2),w=v[0],g=v[1],k=Object(x.useState)(!1),T=Object(W.a)(k,2),S=T[0],N=T[1],D=Object(x.useState)(),F=Object(W.a)(D,2),M=F[0],L=F[1],z=Object(x.useState)(!0),C=Object(W.a)(z,2),A=C[0],R=C[1],P=Object(x.useState)(),J=Object(W.a)(P,2),$=J[0],Q=J[1],Y=Object(x.useState)({field:!1,order:"desc"}),X=Object(W.a)(Y,2),Z=X[0],tt=X[1],et=Object(E.a)().t,nt=Object(p.a)().account,rt=Object(m.d)(),at=Object(m.e)(h.a),ct=Object(m.e)(h.F),ot=t.tokensBalance,it=t.ethBalance,st=t.totalEthBalance,lt=t.wethBalance,ut=(Object(m.e)(h.c),Object(m.e)(h.b)),bt=Object(x.useMemo)((function(){var t=at.map((function(t){var e=t.token,n=t.balance,r=e.symbol,a=Object(I.d)(e),c=ot.find((function(t){return t.token.symbol===r}));if(s){if(a&&st.isEqualTo(0)&&n&&n.isEqualTo(0))return null;if(c&&c.balance.isEqualTo(0)&&n&&n.isEqualTo(0))return null}if(b&&!e.isStableCoin)return null;var o,i,l=a?st||new j.BigNumber(0):c&&c.balance||new j.BigNumber(0);if(nt&&n){var u=Object(U.c)(n,e.decimals,e.displayDecimals),d=Object(U.c)(l,e.decimals,e.displayDecimals),f=ct&&ct.find((function(t){return t.c_id===e.c_id}));"NATIVE"===ut?(o=Number(d),i=Number(u)):(o=f?f.price_usd.multipliedBy(new j.BigNumber(d)).toNumber():"-",i=f?f.price_usd.multipliedBy(new j.BigNumber(u)).toNumber():"-")}else o="-",i="-";var m=t.liquidityRate.dividedBy("1e27").multipliedBy(100).toNumber(),p=a?"Ethereum":e.name,h=a?"ETH":e.symbol.toUpperCase();return{token:e,symbol:r,tokenSymbol:h,tokenName:p,displayBalance:o,displayDepositBalance:i,apy:m,balance:n,tokB:l,isEthToken:a,tokenD:t}}));return Object(Ht.d)(t,Z)}),[at,Z]),dt=function(){g(!1)},ft=function(){var t=Object(f.a)(d.a.mark((function t(e,n,r,a,c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N(!0),t.prev=1,!c){t.next=7;break}return t.next=5,rt(Object(G.o)(e,n,r,a,H.c.Aave,it,lt,st));case 5:t.next=9;break;case 7:return t.next=9,rt(Object(G.q)(e,n,r,a));case 9:return t.prev=9,N(!1),dt(),t.finish(9);case 13:case"end":return t.stop()}}),t,null,[[1,,9,13]])})));return function(e,n,r,a,c){return t.apply(this,arguments)}}(),jt=Object(I.a)().getWethToken(),mt=lt?lt.balance.plus(it):new j.BigNumber(0),pt=[{dataField:"tokenName",text:et("token"),formatter:function(t,e,n){var a=new _.k(1,e.token.address,e.token.decimals,e.token.symbol,e.token.name);return Object(r.jsxs)("div",{className:"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4",children:[Object(r.jsx)(Ut,{children:Object(r.jsx)(V.a,{currency:a})}),Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0",children:[Object(r.jsx)(Gt,{children:e.tokenSymbol}),Object(r.jsx)(Vt,{children:e.tokenName})]})]},n)},sort:!0},{dataField:"displayBalance",text:et("borrow.balance"),formatter:function(t,e,n){return Object(r.jsx)(Kt,{children:"number"===typeof e.displayBalance?"".concat(e.displayBalance," ").concat(e.tokenSymbol):e.displayBalance})},sort:!0},{dataField:"displayDepositBalance",text:et("borrow.depositBalance"),formatter:function(t,e,n){return Object(r.jsx)(Kt,{children:"number"===typeof e.displayDepositBalance?"".concat(e.displayDepositBalance," ").concat(e.tokenSymbol):e.displayDepositBalance})},sort:!0},{dataField:"apy",text:"APY",formatter:function(t,e,n){return Object(r.jsxs)(Kt,{children:[e.apy.toFixed(6)," %"]})},sort:!0},{dataField:"actions",text:et("table.actions"),formatter:function(t,e,n,a){var c=a.openLendingModal,o=a.openUnLendingModal,i=e.balance,s=e.tokB,l=e.tokenD,u=e.isEthToken,b=e.token;return Object(r.jsxs)("div",{className:"d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100",children:[Object(r.jsx)(K.StyledLink,{children:Object(r.jsx)(K.TradeButton,{onClick:c.bind(qt,l,u,s,b),disabled:s.isEqualTo(0),children:et("deposit")})}),Object(r.jsx)(K.StyledLink,{children:Object(r.jsx)(K.TradeButton,{variant:"warning",onClick:o.bind(qt,l,u,s,b),disabled:i&&i.isEqualTo(0),children:et("withdraw")})})]})},isAction:!0,formatExtraData:{openLendingModal:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],o=e[2],i=e[3];L(r),g(!0),a?(c(!0),Q(Object(q.a)(Object(q.a)({},lt),{},{balance:o}))):(c(!1),Q(ot.find((function(t){return t.token===i})))),R(!0)},openUnLendingModal:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],o=e[2],i=e[3];L(r),a?(c(!0),Q(Object(q.a)(Object(q.a)({},lt),{},{balance:o}))):(c(!1),Q(ot.find((function(t){return t.token===i})))),g(!0),R(!1)}}}];return Object(r.jsxs)("div",{className:"d-flex flex-column",children:[Object(r.jsx)(y.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table",bootstrap4:!0,remote:!0,keyField:"id",data:bt,columns:pt,onTableChange:function(t,e){"sort"===t&&tt({field:e.sortField,order:e.sortOrder})}}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:pt,data:bt,direction:"rtl"}),w&&M&&Object(r.jsx)(Rt,{show:w,tokenBalance:$,isSubmitting:S,onSubmit:ft,aToken:M,closeModal:dt,ethBalance:mt,isEth:a,wethToken:jt,isLending:A})]})})),$t=n(2871);function Qt(){var t=Object(a.a)(["\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n"]);return Qt=function(){return t},t}function Yt(){var t=Object(a.a)(["\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n"]);return Yt=function(){return t},t}function Xt(){var t=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ",";\n\tfont-size: 1rem;\n\tfont-weight: 500;\n"]);return Xt=function(){return t},t}function Zt(){var t=Object(a.a)(["\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n"]);return Zt=function(){return t},t}var te=T.default.h4(Zt()),ee=T.default.div(Xt(),(function(t){return t.theme.text3})),ne=Object(T.default)(Bt.h.black)(Yt()),re=T.default.button(Qt()),ae=function(t){var e=t.tokenBalance,n=t.closeModal,a=t.ethBalance,i=t.isEth,s=t.wethToken,l=t.aToken,u=t.availableForBorrow,b=t.show,d=(Object(J.a)(t,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","availableForBorrow","show"]),Object(x.useState)({btnMsg:null,cardMsg:null})),f=Object(W.a)(d,2),m=f[0],p=f[1],h=Object(x.useState)(new j.BigNumber(0)),O=Object(W.a)(h,2),v=O[0],w=O[1],g=Object(E.a)().t,k=Object($t.a)();Object(x.useEffect)((function(){a.isLessThan(tt.nb.gasTransferToken)&&(Tt.c.error(g("errors.notEnoughGas")),p({btnMsg:"Error",cardMsg:g("errors.notEnoughGas")}))}),[a]);var y,B,T,S=l.variableBorrowRate,N=e.token,D=u;if(i)T=s.displayDecimals,B=18,y=Object(U.e)("ETH");else{if(!e)return null;T=N.displayDecimals,B=N.decimals,D=u,y=Object(U.e)(N.symbol)}var F=Object(U.c)(D,B,T),M=m&&m.btnMsg?"Error":"Borrow "+y,L=null===v||v&&v.isGreaterThan(D);return Object(r.jsx)(Z.a,{show:b,onHide:n,centered:!0,children:Object(r.jsx)(Z.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(te,{children:[g("borrow.title")," ",y]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(kt,{decimals:B,min:0,max:D,onUserInput:function(t){w(t)},value:v,token:N,selected:y,showBalance:!1,label:g("wantToBorrow"),placeholder:new j.BigNumber(1).div(new j.BigNumber(10).pow(T)).toString(),valueFixedDecimals:T})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(yt.a,{children:[Object(r.jsxs)(ee,{children:[Object(r.jsx)(et.c,{children:Object(r.jsx)(ne,{fontWeight:500,color:k.text1,children:g("borrow.borrowRate")})}),Object(r.jsx)(et.c,{children:Object(r.jsxs)(ne,{color:k.text1,fontWeight:500,children:[S.div("1e27").multipliedBy(100).toFixed(5)," %"]})})]}),Object(r.jsxs)(ee,{children:[Object(r.jsx)(et.c,{children:Object(r.jsx)(ne,{fontWeight:500,color:k.text1,children:g("borrow.available")})}),Object(r.jsx)(et.c,{children:Object(r.jsx)(ne,{color:k.text1,fontWeight:500,children:F})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(re,{className:"btn btn-".concat(m&&m.btnMsg?"danger":"primary"),disabled:L,onClick:function(){var n;if(i)n=Object(q.a)(Object(q.a)({},s),{},{symbol:"ETH"});else{if(!e)return null;n=e.token}t.onSubmit(v,n,l,i)},children:M})})]})})})};function ce(){var t=Object(a.a)(["\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n"]);return ce=function(){return t},t}function oe(){var t=Object(a.a)(["\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n"]);return oe=function(){return t},t}function ie(){var t=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ",";\n\tfont-size: 1rem;\n\tfont-weight: 500;\n"]);return ie=function(){return t},t}function se(){var t=Object(a.a)(["\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n"]);return se=function(){return t},t}var le=T.default.h4(se()),ue=T.default.div(ie(),(function(t){return t.theme.text3})),be=Object(T.default)(Bt.h.black)(oe()),de=T.default.button(ce()),fe=function(t){var e,n=t.tokenBalance,a=t.closeModal,i=t.ethBalance,s=t.isEth,l=t.wethToken,u=t.aToken,b=t.borrowedBalance,d=t.show,f=(Object(J.a)(t,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","borrowedBalance","show"]),Object(x.useState)({btnMsg:null,cardMsg:null})),p=Object(W.a)(f,2),h=p[0],O=p[1],v=Object(x.useState)(null),w=Object(W.a)(v,2),g=w[0],k=w[1],y=Object(x.useState)(!1),B=Object(W.a)(y,2),T=(B[0],B[1]),S=(Object(m.d)(),Object(E.a)().t),N=Object($t.a)();Object(x.useEffect)((function(){i.isLessThan(tt.nb.gasTransferToken)&&(Tt.c.error(S("errors.notEnoughGas")),O({btnMsg:"Error",cardMsg:S("errors.notEnoughGas")})),T(s?i.isLessThanOrEqualTo(b):n.balance.isLessThanOrEqualTo(b))}),[i,n]);var D,F,M,L=new j.BigNumber(0),z=new j.BigNumber(0),C=n.token;if(s)F=l.displayDecimals,D=18,L=b||new j.BigNumber(0),e=Object(U.e)("ETH"),z=i,M=L.minus(i);else{if(!n)return null;F=C.displayDecimals,D=C.decimals,L=b||new j.BigNumber(0),e=Object(U.e)(C.symbol),M=L.minus(n.balance),z=n.balance}var A=Object(U.c)(L,D,F),R=Object(U.c)(z,D,F),H=(Object(U.c)(M,D,F+1),h&&h.btnMsg?"Error":"Repay "+e),_=null===g||g&&g.isGreaterThan(L)||g&&g.isEqualTo(0);return Object(r.jsx)(Z.a,{show:d,onHide:a,centered:!0,children:Object(r.jsx)(Z.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(le,{children:[S("repay")," ",e]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(kt,{decimals:D,min:0,max:L,onUserInput:function(t){k(t)},value:g,token:C,selected:e,showBalance:!1,label:S("wantToRepay"),placeholder:new j.BigNumber(1).div(new j.BigNumber(10).pow(F)).toString(),valueFixedDecimals:F})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(yt.a,{children:[Object(r.jsxs)(ue,{children:[Object(r.jsx)(et.c,{children:Object(r.jsx)(be,{fontWeight:500,color:N.text1,children:S("borrow.amountBorrowed")})}),Object(r.jsx)(et.c,{children:Object(r.jsx)(be,{color:N.text1,fontWeight:500,children:A})})]}),Object(r.jsxs)(ue,{children:[Object(r.jsx)(et.c,{children:Object(r.jsx)(be,{fontWeight:500,color:N.text1,children:S("borrow.amountAvailable")})}),Object(r.jsx)(et.c,{children:Object(r.jsx)(be,{color:N.text1,fontWeight:500,children:R})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(de,{className:"btn btn-".concat(h&&h.btnMsg?"danger":"primary"),disabled:_,onClick:function(){var e;if(s)e=Object(q.a)(Object(q.a)({},l),{},{symbol:"ETH"});else{if(!n)return null;e=n.token}var r=g||new j.BigNumber(0);t.onSubmit(r,e,u,s)},children:H})})]})})})},je=void 0;function me(){var t=Object(a.a)(["\n\tfont-weight: 500;\n\tfont-size: 0.875rem;\n\tcolor: ",";\n\n\t&.font-size-base {\n\t\tfont-size: 1rem;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 700;\n\n\t\t&.label {\n\t\t\tfont-weight: 500;\n\t\t}\n\t}\n"]);return me=function(){return t},t}function pe(){var t=Object(a.a)(["\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n\tcolor: ",";\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 400;\n\t}\n"]);return pe=function(){return t},t}function he(){var t=Object(a.a)(["\n\tcolor: ",";\n\tfont-size: 1rem;\n\tmargin-right: 10px;\n\tfont-weight: 500;\n"]);return he=function(){return t},t}function Oe(){var t=Object(a.a)(["\n\twidth: 32px;\n\theight: 32px;\n\tborder-radius: 32px;\n\tbackground-color: ",";\n\n\t@media (max-width: 991px) {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder-radius: 24px;\n\t}\n"]);return Oe=function(){return t},t}var xe=T.default.div(Oe(),(function(t){return t.theme.text1})),ve=T.default.span(he(),(function(t){return t.theme.text1})),we=T.default.span(pe(),(function(t){return t.theme.text1})),ge=T.default.span(me(),(function(t){return t.theme.text1})),ke=Object(P.a)((function(t){var e=Object(x.useState)(!1),n=Object(W.a)(e,2),a=n[0],c=n[1],o=Object(x.useState)(!1),i=Object(W.a)(o,2),s=i[0],l=(i[1],Object(x.useState)(!1)),u=Object(W.a)(l,2),b=u[0],O=(u[1],Object(E.a)().t),v=Object(x.useState)(!1),w=Object(W.a)(v,2),g=w[0],k=w[1],T=Object(x.useState)(!1),S=Object(W.a)(T,2),N=S[0],D=S[1],F=Object(x.useState)(!1),M=Object(W.a)(F,2),L=M[0],z=M[1],C=Object(x.useState)(),A=Object(W.a)(C,2),R=A[0],P=A[1],J=Object(x.useState)(!0),$=Object(W.a)(J,2),Q=$[0],Y=$[1],X=Object(x.useState)(),Z=Object(W.a)(X,2),tt=Z[0],et=Z[1],nt=Object(x.useState)(new j.BigNumber(0)),rt=Object(W.a)(nt,2),at=rt[0],ct=rt[1],ot=Object(x.useState)(new j.BigNumber(0)),it=Object(W.a)(ot,2),st=it[0],lt=it[1],ut=Object(x.useState)({field:!1,order:"desc"}),bt=Object(W.a)(ut,2),dt=bt[0],ft=bt[1],jt=Object(p.a)().account,mt=Object(m.e)(h.d),pt=Object(m.e)(h.e),ht=Object(m.d)(),Ot=Object(m.e)(h.a),xt=Object(m.e)(h.F),vt=t.tokensBalance,wt=t.ethBalance,gt=t.totalEthBalance,kt=t.wethBalance,yt=(Object(m.e)(h.c),Object(m.e)(h.b)),Bt=Object(x.useMemo)((function(){var t=Ot.map((function(t){var e=t.token,n=t.balance,r=t.borrowBalance,a=e.symbol,c=mt.find((function(e){return e.aToken.id===t.address})),o=Object(I.d)(e),i=vt.find((function(t){return t.token.symbol===a}));if(s&&r&&r.isEqualTo(0))return null;if(b&&!e.isStableCoin)return null;var l,u,d=o?gt||new j.BigNumber(0):i&&i.balance||new j.BigNumber(0),f=new j.BigNumber(0),m=new j.BigNumber(0);if(jt&&r&&c&&pt){var p=c.price.priceInEth,h=pt.availableBorrowsETH;f=pt.availableBorrowsETH,m=h.dividedBy(new j.BigNumber(p).div(new j.BigNumber(10).pow(e.decimals))).integerValue(j.BigNumber.ROUND_DOWN);var O=Object(U.c)(r,e.decimals,e.displayDecimals),x=Object(U.c)(m,e.decimals,e.displayDecimals),v=xt&&xt.find((function(t){return t.c_id===e.c_id}));"NATIVE"===yt?(l=Number(x),u=Number(O)):(l=v?v.price_usd.multipliedBy(new j.BigNumber(x)).toNumber():"-",u=v?v.price_usd.multipliedBy(new j.BigNumber(O)).toNumber():"-")}else l="-",u="-";var w=t.variableBorrowRate.dividedBy("1e27").multipliedBy(100).toNumber(),g=o?"Ethereum":e.name,k=o?"ETH":e.symbol.toUpperCase();return{token:e,symbol:a,tokenSymbol:k,tokenName:g,displayAvailableForBorrowBalance:l,availableBalanceForBorrowToken:m,displayBorrowedBalance:u,availableForBorrow:f,borrowBalance:r,apy:w,balance:n,tokB:d,isEthToken:o,tokenD:t}}));return Object(Ht.d)(t,dt)}),[Ot,dt]),Tt=function(){k(!1)},Et=function(){D(!1)},St=function(){var t=Object(f.a)(d.a.mark((function t(e,n,r,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(z(!0),t.prev=1,!Q){t.next=7;break}return t.next=5,ht(Object(G.k)(e,n,r,a,H.c.Aave,wt,kt,gt));case 5:t.next=9;break;case 7:return t.next=9,ht(Object(G.p)(e,n,r,a,H.c.Aave,wt,kt,gt));case 9:return t.prev=9,z(!1),Q?Tt():Et(),t.finish(9);case 13:case"end":return t.stop()}}),t,null,[[1,,9,13]])})));return function(e,n,r,a){return t.apply(this,arguments)}}(),Nt=Object(I.a)().getWethToken(),Dt=kt?kt.balance.plus(wt):new j.BigNumber(0),Ft=[{dataField:"tokenName",text:O("token"),formatter:function(t,e,n){var a=new _.k(1,e.token.address,e.token.decimals,e.token.symbol,e.token.name);return Object(r.jsxs)("div",{className:"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4",children:[Object(r.jsx)(xe,{children:Object(r.jsx)(V.a,{currency:a})}),Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0",children:[Object(r.jsx)(ve,{className:"font-weight-bold",children:e.tokenSymbol}),Object(r.jsx)(we,{className:"font-weight-bold",children:e.tokenName})]})]},n)},sort:!0},{dataField:"displayAvailableForBorrowBalance",text:O("borrow.available"),formatter:function(t,e,n){return Object(r.jsx)(ge,{children:"number"===typeof e.displayAvailableForBorrowBalance?"".concat(e.displayAvailableForBorrowBalance," ").concat(e.tokenSymbol):e.displayAvailableForBorrowBalance})},sort:!0},{dataField:"displayBorrowedBalance",text:O("borrow.borrowBalance"),formatter:function(t,e,n){return Object(r.jsx)(ge,{children:"number"===typeof e.displayBorrowedBalance?"".concat(e.displayBorrowedBalance," ").concat(e.tokenSymbol):e.displayBorrowedBalance})},sort:!0},{dataField:"apy",text:O("borrow.borrowRate"),formatter:function(t,e,n){return Object(r.jsxs)(ge,{children:[e.apy.toFixed(6)," %"]})},sort:!0},{dataField:"actions",text:O("table.actions"),formatter:function(t,e,n,a){var c=a.openBorrowModal,o=a.openRepayModal,i=e.tokB,s=e.tokenD,l=e.isEthToken,u=e.token,b=e.borrowBalance,d=e.availableBalanceForBorrowToken,f=e.availableForBorrow;return Object(r.jsxs)("div",{className:"d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100",children:[Object(r.jsx)(K.StyledLink,{children:Object(r.jsx)(K.TradeButton,{onClick:c.bind(je,s,l,i,u,d),disabled:f.isEqualTo(0)||!jt,children:O("borrow.title")})}),Object(r.jsx)(K.StyledLink,{children:Object(r.jsx)(K.TradeButton,{variant:"warning",onClick:o.bind(je,s,l,i,u,b),disabled:b&&b.isEqualTo(0)||!jt,children:O("repay")})})]})},isAction:!0,formatExtraData:{openBorrowModal:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4];P(r),k(!0),a?(c(!0),et(Object(q.a)(Object(q.a)({},kt),{},{balance:o}))):(c(!1),et(vt.find((function(t){return t.token===i})))),ct(s),Y(!0)},openRepayModal:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4];P(r),a?(c(!0),et(Object(q.a)(Object(q.a)({},kt),{},{balance:o}))):(c(!1),et(vt.find((function(t){return t.token===i})))),lt(s||new j.BigNumber(0)),D(!0),Y(!1)}}}],Mt=Object(r.jsxs)(r.Fragment,{children:[g&&R&&Object(r.jsx)(ae,{show:g,tokenBalance:tt,isSubmitting:L,availableForBorrow:at,onSubmit:St,aToken:R,closeModal:Tt,ethBalance:Dt,isEth:a,wethToken:Nt}),N&&R&&Object(r.jsx)(fe,{show:N,tokenBalance:tt,isSubmitting:L,onSubmit:St,borrowedBalance:st,aToken:R,closeModal:Et,ethBalance:Dt,isEth:a,wethToken:Nt})]});return Object(r.jsxs)("div",{className:"d-flex flex-column",children:[Object(r.jsx)(y.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table",bootstrap4:!0,remote:!0,keyField:"id",data:Bt,columns:Ft,onTableChange:function(t,e){"sort"===t&&ft({field:e.sortField,order:e.sortOrder})}}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:Ft,data:Bt,direction:"rtl"}),Mt]})}));function ye(){var t=Object(a.a)(["\n\tborder-radius: 18px !important;\n\tcolor: ",";\n\tbackground-color: rgba(135, 220, 225, 0.15);\n\twhite-space: nowrap;\n\tpadding: 14px 24px;\n\tmin-height: 56px;\n\tfont-weight: 500;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (max-width: 767px) {\n\t\tpadding: 6px 15px;\n\t\tfont-size: 1rem;\n\t\tmin-height: 32px;\n\t\tborder-radius: 12px !important;\n\t}\n\n\t&:hover {\n\t\tcolor: ",";\n\t}\n\n\t&.active {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t}\n"]);return ye=function(){return t},t}function Be(){var t=Object(a.a)(["\n\tflex-grow: initial !important;\n\n\tpadding: 0 10px 10px;\n\n\t@media (max-width: 767px) {\n\t\tpadding: 0 5px 10px;\n\t}\n\n\t&:first-child {\n\t\t@media (max-width: 767px) {\n\t\t\tpadding-left: 30px;\n\t\t}\n\t}\n\t&:last-child {\n\t\t@media (max-width: 767px) {\n\t\t\tpadding-right: 30px;\n\t\t}\n\t}\n"]);return Be=function(){return t},t}function Te(){var t=Object(a.a)(["\n\tmargin-left: -30px !important;\n\tmargin-right: -30px !important;\n\toverflow: auto;\n\n\t@media (min-width: 768px) {\n\t\tmargin-left: -10px !important;\n\t\tmargin-right: -10px !important;\n\t}\n"]);return Te=function(){return t},t}function Ee(){var t=Object(a.a)(["\n\tmargin: -10px 0 20px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 25px;\n\t}\n"]);return Ee=function(){return t},t}var Se,Ne,De=Object(T.default)(o.a)(Ee()),Fe=Object(T.default)(L.a)(Te()),Me=Object(T.default)(L.a.Item)(Be()),Le=Object(T.default)(L.a.Link)(ye(),(function(t){return t.theme.primary}),(function(t){return t.theme.primary}),(function(t){return t.theme.text1}),(function(t){return t.theme.primary})),ze=function(t){var e=Object(p.a)().account,n=Object(i.useQuery)(R,{client:Object(s.b)(),pollInterval:1e3}),a=n.loading,l=n.error,u=n.data,b=Object(m.d)(),j=Object(m.e)(h.c),v=Object(E.a)().t;return Object(x.useEffect)((function(){a||l||!u||(b(Object(O.k)(u.reserves)),j===H.b.NotLoaded?b(Object(O.c)(e)):b(Object(O.b)(e)))}),[a,u,e]),Object(w.a)(Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&u&&!a&&!l&&b(Object(O.b)(e));case 1:case"end":return t.stop()}}),t)}))),6e4),Object(r.jsx)(g.a,{children:Object(r.jsx)(z.a.Container,{defaultActiveKey:"deposit",children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(De,{xs:12,className:"d-flex flex-column-reverse flex-lg-row align-items-stretch align-items-lg-start justify-content-start justify-content-lg-between",children:Object(r.jsxs)(Fe,{fill:!0,variant:"pills",className:"d-flex flex-row align-items-center flex-nowrap",children:[Object(r.jsx)(Me,{children:Object(r.jsx)(Le,{eventKey:"deposit",children:v("deposit")})}),Object(r.jsx)(Me,{children:Object(r.jsx)(Le,{eventKey:"borrow",children:v("borrow.title")})})]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(z.a.Content,{className:"bg-transparent",children:[Object(r.jsx)(z.a.Pane,{eventKey:"deposit",children:Object(r.jsx)(Jt,{})}),Object(r.jsx)(z.a.Pane,{eventKey:"borrow",children:Object(r.jsx)(ke,{})})]})})]})})})},Ce=(n(3881),n(89)),Ae=n.n(Ce),Re=n(100),He=n(3104),qe=n(2892),We=(n(151),n(376),n(361),n(1140),Object(P.a)((function(t){var e=Object(x.useState)(!1),n=Object(W.a)(e,2),a=n[0],c=n[1],o=Object(p.a)().account,i=Object(m.e)(h.E),s=t.wethBalance,l=i.currentWethBalance,u=i.newWethBalance,b=t.web3,j=Object(m.d)(),O=u.minus(l).isGreaterThan(0)?"ETH":"wETH",v=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(Object(G.s)(s,u,o,b.getProvider()));case 3:return n=e.sent,c(!0),e.next=7,b.awaitTransactionSuccessAsync(n);case 7:e.sent&&(c(!1),j(Object(G.r)())),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),c(!1),t.onDismiss();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){v()}),[i]),Object(r.jsx)(qe.b,{onDismiss:a?function(){return null}:t.onDismiss,pendingText:a?"Wrapping...":"Convert ".concat(O)})}))),_e=Object(m.b)((function(t){return{step:Object(h.E)(t),gasInfo:Object(h.q)(t)}}),(function(t){return{onSubmitLendingToken:function(e,n,r,a,c){return t(function(t,e,n,r,a){return function(){var c=Object(f.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(h.m)(s),c.t0=l,c.next=c.t0===H.c.Aave?5:7;break;case 5:return u=o(Object(O.e)(t,e,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()}(e,n,r,a,c))},onSubmitUnLendingToken:function(e,n,r,a,c){return t(function(t,e,n,r,a){return function(){var c=Object(f.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(h.m)(s),c.t0=l,c.next=c.t0===H.c.Aave?5:7;break;case 5:return u=o(Object(O.m)(t,e,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()}(e,n,r,a,c))}}}))((function(t){var e=Object(x.useState)(!1),n=Object(W.a)(e,2),a=n[0],c=n[1],o=Object(p.a)().account,i=t.step,s=t.onSubmitLendingToken,l=t.onSubmitUnLendingToken,u=i.amount,b=i.token,j=i.isEth,m=i.defiToken,h=i.isLending,O=j?Object(U.e)("ETH"):Object(U.e)(b.symbol),v=j?18:i.token.decimals,w="".concat(Object(U.c)(i.amount,v,i.token.displayDecimals).toString()," ").concat(O),g=t.web3,k=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=7;break}return e.next=4,s(b,m,u,j,o);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,l(b,m,u,j,o);case 9:e.t0=e.sent;case 10:return n=e.t0,c(!0),e.next=14,g.awaitTransactionSuccessAsync(n);case 14:e.sent&&(c(!1),t.onDone(n)),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(0),c(!1),t.onDismiss();case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){k()}),[i]),Object(r.jsx)(qe.b,{onDismiss:a?function(){return null}:t.onDismiss,pendingText:a?"Pending Transaction...":"Confirm on ".concat(o," to ").concat(h?"deposit":"withdraw"," ").concat(w,".")})})),Pe=Object(m.b)((function(t){return{step:Object(h.E)(t),gasInfo:Object(h.q)(t)}}),(function(t){return{onSubmitBorrowToken:function(e,n,r,a,c){return t(function(t,e,n,r,a){return function(){var c=Object(f.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(h.m)(s),c.t0=l,c.next=c.t0===H.c.Aave?5:7;break;case 5:return u=o(Object(O.a)(t,e,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()}(e,n,r,a,c))},onSubmitRepayToken:function(e,n,r,a,c){return t(function(t,e,n,r,a){return function(){var c=Object(f.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(h.m)(s),c.t0=l,c.next=c.t0===H.c.Aave?5:7;break;case 5:return u=o(Object(O.f)(t,e,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()}(e,n,r,a,c))}}}))((function(t){var e=Object(x.useState)(!1),n=Object(W.a)(e,2),a=n[0],c=n[1],o=Object(p.a)().account,i=t.step,s=t.onSubmitBorrowToken,l=t.onSubmitRepayToken,u=i.amount,b=i.token,j=i.isEth,m=i.defiToken,h=i.isBorrow,O=j?Object(U.e)("ETH"):Object(U.e)(b.symbol),v=j?18:i.token.decimals,w="".concat(Object(U.c)(i.amount,v,i.token.displayDecimals).toString()," ").concat(O),g=t.web3,k=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=7;break}return e.next=4,s(b,m,u,j,o);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,l(b,m,u,j,o);case 9:e.t0=e.sent;case 10:return n=e.t0,c(!0),e.next=14,g.awaitTransactionSuccessAsync(n);case 14:e.sent&&(c(!1),t.onDone(n)),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(0),c(!1),t.onDismiss();case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){k()}),[i]),Object(r.jsx)(qe.b,{onDismiss:a?function(){return null}:t.onDismiss,pendingText:a?"Pending Transaction...":"Confirm on ".concat(o," to ").concat(h?"Borrow":"Repay"," ").concat(w,".")})})),Ie=function(t){var e=Object(x.useState)(!1),n=Object(W.a)(e,2),a=n[0],c=n[1],o=Object(x.useState)(null),i=Object(W.a)(o,2),s=i[0],l=i[1],u=Object(m.e)(h.E),b=Object(m.d)(),d=null!==u;Object(x.useEffect)((function(){(Se=new Ae.a(Ae.a.givenProvider||new Ae.a.providers.HttpProvider("https://mainnet.infura.io/v3/18f4df06d1f24e8c84a361712757187d"))).currentProvider&&(Ne=new Re.Web3Wrapper(Se.currentProvider))}),[]);var f=function(){c(!1),l(null),b(Object(G.h)(null))},j=function(t){c(!0),l(t)};return Object(r.jsxs)(r.Fragment,{children:[t.children,Object(r.jsx)(Z.a,{show:d,centered:!0,onHide:f,children:Object(r.jsx)(Z.a.Body,{className:"px-0 py-0",children:a?Object(r.jsx)(qe.d,{chainId:tt.l,hash:s,onDismiss:f}):Object(r.jsxs)(r.Fragment,{children:[u&&u.kind===tt.lb.ToggleTokenLock&&Object(r.jsx)(He.a,{onDismiss:f,web3:Ne}),u&&u.kind===tt.lb.WrapEth&&Object(r.jsx)(We,{onDismiss:f,web3:Ne}),u&&u.kind===tt.lb.LendingToken&&Object(r.jsx)(_e,{onDismiss:f,onDone:j,web3:Ne}),u&&u.kind===tt.lb.UnLendingToken&&Object(r.jsx)(_e,{onDismiss:f,onDone:j,web3:Ne}),u&&u.kind===tt.lb.RepayToken&&Object(r.jsx)(Pe,{onDismiss:f,onDone:j,web3:Ne}),u&&u.kind===tt.lb.BorrowToken&&Object(r.jsx)(Pe,{onDismiss:f,onDone:j,web3:Ne})]})})})]})};function Ue(){var t=Object(a.a)(["\n\tmargin-top: 40px;\n\n\t@media (max-width: 767px) {\n\t\tmargin-top: 20px;\n\t}\n"]);return Ue=function(){return t},t}var Ge=Object(T.default)(c.a)(Ue());e.default=function(t){return Object(r.jsx)(u.a,{children:Object(r.jsxs)(l,{children:[Object(r.jsx)(Ie,{}),Object(r.jsxs)(Ge,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(M,{})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(ze,{})})]})]})})}}}]);
//# sourceMappingURL=27.64030a2a.chunk.js.map