{"version":3,"sources":["state/user/actions.ts","state/spot/actions.js","lib/helper.js","state/application/actions.ts","state/multicall/actions.ts","constants/lists.ts","lib/exceptions/convertBalance.js","state/application/hooks.ts","utils/spot/currencyPairMetadata.js","common/markets.js","constants/multicall/index.ts","constants/v1/index.ts","hooks/useContract.ts","assets/images/question-mark.svg","assets/images/account/copy.svg","assets/images/close.svg","utils/aave/constants.ts","state/lists/actions.ts","assets/images/currencies/CAD.svg","assets/images/currencies/GBP.svg","assets/images/currencies/RUB.svg","assets/images/currencies/JPY.svg","assets/images/currencies/CHF.svg","assets/images/currencies/EUR.svg","assets/images/currencies/INR.svg","assets/images/currencies/CNY.svg","assets/images/currencies/NZD.svg","assets/images/currencies/USD.svg","assets/images/currencies/SGD.svg","assets/images/currencies/AUD.svg","assets/images/currencies/KRW.svg","assets/images/currencies/BTC.svg","assets/images/currencies/ETH.svg","assets/images/currencies/LINK.svg","assets/images/banners/banner_1.png","assets/images/banners/banner_2.png","assets/images/banners/banner_3.png","assets/images/banners/banner_4.png","assets/images/banners/banner_5.png","assets/images/banners/banner_6.png","state/user/hooks.tsx","utils/spot/contractWrapper.js","utils/spot/fills.js","lib/exceptions/error_messages.js","lib/exceptions/relayer.js","state/relayer/actions.js","utils/spot/orders.js","lib/exceptions/balance.js","utils/spot/stepModalGeneration.js","state/spotUI/actions.js","utils/spot/gasEstimation.js","state/currency/actions.ts","services/aave/aave.js","utils/bzx/contracts.js","assets/images/header/flag.svg","assets/images/header/bell.svg","assets/images/global/arrow-left.svg","common/relayer.js","assets/images/menu.svg","theme/index.tsx","utils/aave/types.ts","constants/abis/staking-rewards.ts","state/stake/hooks.ts","state/wallet/hooks.ts","state/transactions/actions.ts","utils/spot/transactions.js","utils/listSort.ts","state/lists/hooks.ts","hooks/Tokens.ts","utils/spot/timeUtils.js","hooks/useToggledVersion.ts","hooks/useDebounce.ts","state/aave/actions.js","serviceWorkerRegistration.js","components/RouteChanger/routeChanger.ts","components/AccountDetails/Copy.tsx","hooks/useCopyClipboard.ts","components/AccountDetails/index.tsx","constants/derivationPaths.js","constants/ledgerPaths.js","assets/images/providers/metamask.svg","assets/images/providers/walletconnect.svg","assets/images/providers/ledger.svg","assets/images/providers/trezor.svg","assets/images/providers/portis.svg","assets/images/providers/torus.svg","assets/images/providers/coinbase.svg","assets/images/providers/trustwallet-i.svg","components/ProvidersIcon/index.js","components/WalletModal/Option.tsx","components/WalletModal/LedgerAccounts.js","components/WalletModal/index.tsx","hooks/useIsWindowVisible.ts","state/application/updater.ts","state/lists/updater.ts","utils/retry.ts","state/multicall/updater.tsx","utils/chunkArray.ts","state/transactions/updater.tsx","state/user/updater.tsx","components/SplashScreen/index.js","assets/images/hero/hero_1.png","pages/Home/sections/Hero.js","assets/images/features/features_1.svg","assets/images/features/features_2.svg","assets/images/features/features_3.svg","assets/images/features/features_4.svg","components/FeatureItem/icon.js","components/FeatureItem/index.js","pages/Home/sections/Features.js","components/CustomCard/index.js","components/SparklineChart/index.js","pages/Home/sections/Currencies.js","pages/Home/sections/Banners.js","pages/Home/index.js","Routes.js","components/Web3ReactManager/index.tsx","components/TransactionHandler/index.js","App.js","reportWebVitals.js","utils/getLibrary.ts","i18n.js","state/application/reducer.ts","state/global/actions.ts","state/user/reducer.ts","state/burn/actions.ts","state/transactions/reducer.ts","state/swap/reducer.ts","state/mint/reducer.ts","state/lists/reducer.ts","state/spot/reducer.js","state/burn/reducer.ts","state/multicall/reducer.ts","state/account/reducer.ts","state/currency/reducer.ts","state/pools/reducer.js","state/balances/reducer.js","state/explore/reducer.js","state/market/reducer.js","state/governance/reducer.js","state/relayer/reducer.js","state/spotUI/reducer.js","state/aave/reducers.js","state/margin/actions.js","state/margin/reducer.js","state/index.ts","Providers.js","index.js","state/market/actions.js","state/transactions/hooks.tsx","utils/wrappedCurrency.ts","components/UI/Img/index.js","utils/spot/market.js","lib/exceptions/common.js","hooks/useParsedQueryString.ts","utils/spot/uiOrders.js","components/Modal/bootstrap.js","components/Form/index.js","hooks/index.ts","graphql/uniswap.js","graphql/balancer.js","graphql/curve.js","graphql/yearn.js","state/pools/actions.js","utils/spot/knownCurrencyPair.js","state/balances/actions.js","http/currency.ts","lib/exceptions/order.js","components/Loading/index.js","utils/isZero.ts","state/mint/actions.ts","state/governance/hooks.js","constants/abis/erc20.ts","hooks/usePrevious.ts","state/governance/actions.js","utils/known_tokens.js","utils/spot/tokenMetadata.js","utils/spot/tokenIEOMetadata.js","http/market.js","state/swap/actions.ts","state/selectors.js","hooks/useENSName.ts","utils/uriToHttp.ts","utils/prices.ts","data/Reserves.ts","hooks/Trades.ts","state/swap/hooks.ts","utils/index.ts","state/multicall/hooks.ts","utils/spot/transactionLink.js","utils/spot/tokens.js","state/account/actions.ts","assets/images/logo.svg","components/Logo/index.js","constants/headerRoutes.js","assets/images/global/arrow-down.svg","components/HeaderDropdown/index.js","components/Icons/User.js","components/HeaderDropdown/UserDropdown.js","components/HeaderDropdown/CurrencyDropdown.js","components/SideDrawer/Item/index.js","components/SideDrawer/index.js","components/Icons/Moon.js","components/Icons/Sun.js","components/ThemeToggler/index.js","components/HeaderDropdown/NotificationDropDown.js","components/Header/index.js","assets/images/socials/github.svg","assets/images/socials/youtube.svg","assets/images/socials/telegram.svg","assets/images/socials/twitter.svg","components/Socials/index.js","assets/images/footer/footer-desktop.png","assets/images/footer/footer-mobile.png","assets/images/footer_1.svg","assets/images/footer_2.svg","components/Footer/index.js","components/Page/index.js","utils/parseENSAddress.ts","components/CurrencyText/index.tsx","components/UI/Button/index.js","utils/contenthashToUri.ts","components/ResponsiveTable/index.js","assets/images/search.svg","utils/getTokenList.ts","utils/resolveENSContentHash.ts","hooks/useFetchListCallback.ts","data/V1.ts","hooks/useInterval.ts","hooks/useENS.ts","components/Loader/index.tsx","components/SearchModal/filtering.ts","theme/components.tsx","assets/images/account/external-link.svg","state/balances/hooks.js","http/governance.js","state/explore/actions.js","http/explore.js","constants/index.ts","constants/spot.js","constants/derivatives.js","hooks/useENSAddress.ts","connectors/NetworkConnector.ts","connectors/index.ts","utils/getDefiSdk.ts"],"names":["updateMatchesDarkMode","createAction","updateUserDarkMode","updateUserExpertMode","updateUserSlippageTolerance","updateUserDeadline","addSerializedToken","removeSerializedToken","addSerializedPair","removeSerializedPair","toggleURLWarning","setCurrencyPair","setMarketTokens","payload","baseToken","quoteToken","setMarketStats","setMarketsStats","fetchMarketPriceQuoteStart","fetchMarketPriceQuoteUpdate","fetchMarketPriceQuoteError","setMarkets","fetchERC20MarketsError","fetchMarketPriceEtherStart","fetchMarketPriceEtherError","fetchMarketPriceEtherUpdate","fetchMarketPriceTokensStart","fetchMarketPriceTokensUpdate","fetchMarketPriceTokensError","setMarketMakerStats","changeMarket","currencyPair","account","library","dispatch","getState","a","state","oldQuoteToken","market","knownTokens","getKnownTokens","setOrderBookState","ServerState","NotLoaded","setMarketFillState","newQuoteToken","getTokenBySymbol","quote","base","updateMarketPriceQuote","console","log","USE_RELAYER_MARKET_UPDATES","fetchPastMarketFills","updateMarketStats","getOrderbookAndUserOrders","spot","marketToString","getMarketStatsFromRelayer","marketStats","c_id","ethInUsd","getMarketPriceQuote","marketPriceQuoteData","Error","updateMarketPriceEther","getMarketPriceEther","marketPriceEtherData","updateMarketPriceTokens","tokenBalances","wethBalance","tBalances","getMarketPriceTokens","tokensPrices","updateERC20Store","getCurrencyPair","error","getOrderBook","updateERC20Markets","relayer","getRelayer","USE_ORDERBOOK_PRICES","getAllMarketsStatsFromRelayer","marketsStats","setMarketsStatsState","Done","length","singleMarket","find","m","pair","Promise","all","getAvailableMarkets","map","availableMarket","getCurrencyPairMarketDataAsync","marketData","bestAsk","bestBid","spreadInPercentage","markets","filter","value","toAbsoluteUrl","pathname","process","emitter","mitt","encodeQuery","data","query","d","encodeURIComponent","slice","formatMoney","amount","decimalCount","decimal","thousands","Math","abs","isNaN","negativeSign","i","parseInt","Number","toFixed","toString","j","substr","replace","e","toUnitAmount","baseAmount","tokenContract","decimals","DEFAULT_DECIMALS","amountBN","BigNumber","div","pow","sortedData","sortObj","field","_","orderBy","o","order","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","ApplicationModal","updateBlockNumber","setOpenModal","addPopup","removePopup","ADDRESS_REGEX","LOWER_HEX_REGEX","toCallKey","call","test","address","callData","parseCallKey","callKey","pcs","split","addMulticallListeners","removeMulticallListeners","fetchingMulticallResults","errorFetchingMulticallResults","updateMulticallResults","UNSUPPORTED_LIST_URLS","COINGECKO_LIST","DEFAULT_LIST_OF_LISTS","DEFAULT_ACTIVE_LIST_URLS","ConvertBalanceMustNotBeEqualException","currentEthBalance","newEthBalance","Object","setPrototypeOf","prototype","useBlockNumber","chainId","useActiveWeb3React","useSelector","application","blockNumber","useModalOpen","modal","openModal","useToggleModal","callback","open","useDispatch","modalEmitter","useCallback","emit","action","useWalletModalToggle","WALLET","useToggleSettingsMenu","SETTINGS","useAddPopup","content","key","useRemovePopup","useActivePopups","list","popupList","useMemo","item","show","mapCurrencyPairMetaToCurrencyPair","config","basePrecision","undefined","UI_DECIMALS_DISPLAYED_ORDER_SIZE","pricePrecision","UI_DECIMALS_DISPLAYED_PRICE_ETH","minAmount","maxAmount","MAX_AMOUNT_TOKENS_IN_UNITS","quotePrecision","allFilter","text","TOKENS_MARKET_PRICE_API_ENDPOINT","getMarketFilters","configMarketFilters","marketFilters","fetch","promisePriceEtherResolved","status","json","ethereum","priceTokenUSD","usd","reject","toUpperCase","availableMarkets","pairs","quoteId","promisePriceQuoteResolved","tokensBalance","accToken","tb","token","t","reduce","p","c","promisePriceTokensResolved","keys","forEach","id","priceStats","ind","findIndex","push","price_usd","price_usd_24h_change","usd_24h_change","MULTICALL_NETWORKS","ChainId","MAINNET","ROPSTEN","KOVAN","RINKEBY","GÃ–RLI","V1_FACTORY_ADDRESSES","Interface","V1_FACTORY_ABI","V1_EXCHANGE_ABI","useContract","ABI","withSignerIfPossible","getContract","useV1FactoryContract","useV1ExchangeContract","useTokenContract","tokenAddress","ERC20_ABI","useWETHContract","WETH","WETH_ABI","useENSRegistrarContract","ENS_ABI","useENSResolverContract","ENS_PUBLIC_RESOLVER_ABI","useBytes32TokenContract","ERC20_BYTES32_ABI","useMulticallContract","MULTICALL_ABI","useMerkleDistributorContract","MERKLE_DISTRIBUTOR_ADDRESS","MERKLE_DISTRIBUTOR_ABI","AAVE_ETH_TOKEN","LENDING_POOL_ADDRESS","CHAIN_ID","Mainnet","Ropsten","Kovan","AAVE_READER_ADDRESS","LENDING_POOL_CORE_ADDRESS","AAVE_GRAPH_URI","fetchTokenList","pending","fulfilled","rejected","addList","removeList","enableList","disableList","acceptListUpdate","serializeToken","symbol","name","deserializeToken","serializedToken","Token","useIsDarkMode","user","matchesDarkMode","userDarkMode","shallowEqual","useDarkModeManager","darkMode","toggleSetDarkMode","useExpertModeManager","expertMode","userExpertMode","toggleSetExpertMode","useUserSlippageTolerance","userSlippageTolerance","useUserTransactionTTL","userDeadline","useAddUserToken","useRemoveUserAddedToken","useUserAddedTokens","serializedTokensMap","tokens","values","contractWrappers","getContractWrappers","ContractWrappers","mapRelayerFillToFill","fill","known_tokens","amountQuote","filledTokenQuoteAmount","amountBase","filledTokenBaseAmount","tokenQuote","getTokenByAddress","tokenQuoteAddress","tokenBase","tokenBaseAddress","side","OrderSide","Buy","Sell","price","timestamp","Date","created_at","makerAddress","takerAddress","NETWORK_NAME","RelayerException","errorMsg","errorObject","str","candidate","firstOpen","indexOf","lastClose","lastIndexOf","substring","JSON","parse","getErrorResponseFrom0xConnectErrorMessage","reasonUnformated","validationErrors","reason","join","RELAYER_ERR","setOrders","setUserOrders","setMinOrderExpireTimeOnBooks","getMarketFillsFromRelayer","marketFillsResponse","fills","records","filteredFills","f","isKnownAddress","marketsFill","addMarketFills","getAllOrders","minOrderExpireTimeOnBooks","makerAddresses","uiOrders","filterExpiredOrdersOnBook","uiOrder","rawOrder","toLowerCase","expirationTimeSeconds","minus","gt","todayInSeconds","minSizeOrdersOnBook","getCurrencyPairByTokensSymbol","minAmountToken","unitsInTokenAmount","filled","size","lt","getAllOrdersAsUIOrders","getUserOrders","getUserOrdersAsUIOrders","myUIOrders","fetchTakerAndMakerFee","ethAccount","getBaseToken","getQuoteToken","buildLimitOrder","baseTokenAddress","quoteTokenAddress","exchangeAddress","exchange","getExpirationTimeOrdersFromConfig","makerFee","takerFee","makerFeeAssetData","takerFeeAssetData","submitLimitOrder","signedOrder","submitOrderAsync","submitResult","message","submitLimitMatchingOrder","gasInfo","getGasInfo","gasPrice","gasPriceInWei","feePercentange","getFeePercentage","FEE_PERCENTAGE","feeRecipient","getFeeRecipient","FEE_RECIPIENT","isBuy","allOrders","getOpenSellOrders","getOpenBuyOrders","buildMarketLimitMatchingOrders","orders","ordersToFill","amounts","remainingAmount","ethAmountRequired","total","currentValue","plus","ZERO","wethAssetData","getWethAssetData","takerWethFee","or","protocolFee","calculateWorstCaseProtocolFee","affiliateFeeAmount","multipliedBy","integerValue","ROUND_UP","totalEthAmount","isMarketBuyForwarder","isWeth","isWhackd","forwarder","orderSignatures","signature","marketBuyOrdersWithEth","sendTransactionAsync","from","gas","txHash","marketBuyOrdersFillOrKill","marketSellOrdersFillOrKill","amountInReturn","sumTakerAssetFillableOrders","submitMarketOrder","buildMarketOrders","window","alert","INSUFFICIENT_ORDERS_TO_FILL_AMOUNT_ERR","InsufficientOrdersAmountException","cancelOrder","cancelSignedOrder","then","transaction","baseTokenAssetData","assetDataUtils","encodeERC20AssetData","quoteTokenAssetData","getAllOrdersAsync","filteredOrders","orderMakerAddress","includes","devUtils","getOrderRelevantStates","callAsync","ordersInfo","ordersToUIOrders","getUserOrdersAsync","myOrders","params","sort","b","comparedTo","isLessThanOrEqualTo","isGreaterThanOrEqualTo","canBeFilled","amountsMaker","amountFill","filledAmount","isLessThan","available","isGreaterThan","makerTokenDecimals","getTokenByAssetData","makerAssetData","takerTokenDecimals","takerAssetData","buyAmount","tokenAmountInUnitsToBigNumber","eq","ROUND_CEIL","sortedOrders","getOrderWithTakerAndFeeConfigFromRelayer","orderConfigRequest","isCollectible","affiliateAddress","round","num","ROUND_FLOOR","USE_RELAYER_ORDER_CONFIG","client","getOrderConfigAsync","orderResult","feeRecipientAddress","senderAddress","ZERO_ADDRESS","NULL_BYTES","TAKER_FEE_PERCENTAGE","takerAssetAmount","isWethTaker","makerAssetAmount","MAKER_FEE_PERCENTAGE","salt","now","PROTOCOL_FEE_MULTIPLIER","times","baseTokenDecimals","baseTokenAmountInUnits","quoteTokenAmountInUnits","quoteTokenDecimals","quoteTokenAmountInBaseUnits","sum","index","web3","Web3","givenProvider","providers","HttpProvider","web3Wrapper","Web3Wrapper","currentProvider","tx","awaitTransactionSuccessAsync","InsufficientTokenBalanceException","quoteSymbol","createBuySellLimitMatchingSteps","wethTokenBalance","ethBalance","price_avg","buySellLimitMatchingFlow","tokenToUnlock","unlockTokenStep","getUnlockTokenStepIfNeeded","isSell","isBuyWithWethConditions","decodeAssetDataOrThrow","unlockFeeTokenStep","getUnlockFeeAssetStepIfNeeded","isWhackedBase","wrapEthStep","getWrapEthStepIfNeeded","kind","StepKind","BuySellLimitMatching","tokenBalance","isUnlocked","ToggleTokenLock","context","feeBalance","isQuote","forceWrap","wethAmountNeeded","balance","deltaWeth","WrapEth","currentWethBalance","newWethBalance","feeTokenAddress","createBuySellLimitSteps","orderFeeData","is_ieo","buySellLimitFlow","isWethQuote","BuySellLimit","createBuySellMarketSteps","buySellMarketFlow","unlockFeeStep","BuySellMarket","createRepayTokenSteps","defiToken","isEth","protocol","repayTokenFlow","getUnlockLendingTokenStepIfNeeded","RepayToken","isBorrow","createBorrowTokenSteps","borrowTokenFlow","BorrowToken","createLendingTokenSteps","lendingTokenFlow","LendingToken","isLending","Protocol","Aave","Bzx","setMakerAmountSelected","setOrderBuyPriceSelected","setOrderPriceSelected","setOrderSellPriceSelected","setStepsModalCurrentStep","setStepsModalPendingSteps","setStepsModalDoneSteps","stepsModalAdvanceStep","setOrderSecondsExpirationTime","startBuySellLimitMatchingSteps","selectors","totalEthBalance","quoteTokenBalance","searchToken","tokenToFind","baseTokenBalance","totalFilledAmount","takerFilledAmount","makerFilledAmount","totalMakerAmount","isEthAndWethNotEnoughBalance","isOtherQuoteTokenAndNotEnoughBalance","startBuySellLimitSteps","startBuySellMarketSteps","filledAmounts","ifOtherQuoteTokenAndNotEnoughBalance","createSignedOrder","orderSecondsExpirationTime","getExpirationTimeFromSeconds","provider","MetamaskSubprovider","signatureUtils","ecSignTypedDataOrderAsync","SignedOrderException","startLendingTokenSteps","startBorrowTokenSteps","startRepayTokenSteps","startUnLendingTokenSteps","unLendingTokenStep","UnLendingToken","updateWethBalance","wethToken","weth9","deposit","getTransactionOptions","withdraw","getGasEstimationInfoAsync","fetchFastAmountInWeiAsync","fetchedAmount","info","DEFAULT_GAS_PRICE","estimatedTimeMs","DEFAULT_ESTIMATED_TRANSACTION_TIME_MS","res","gasPriceInGwei","fast","fastWait","GWEI_IN_WEI","setCurrenciesRates","rates","changeSelectedCurrency","setGasPrice","changeGasPrice","type","setGasInfo","fetchCurrencies","axios","get","currencyExchangeRate","cryptoExchangeRate","cryptoRes","BTC","bitcoin","ETH","LINK","link","USDC","getGasPrice","updateGasInfo","fetchedGasInfo","Network","getATokenContractWrapper","partialTxData","ATokenContract","AtokenContract","getLendingPool","LendingPoolContract","getAaveReader","AaveReaderContract","getAaveGraphClient","ApolloClient","uri","getAllATokens","aaveReservesGQL","aTokens","tk","getWethToken","aTokenBalance","borrowBalance","lendingPool","getUserReserveData","userReserveData","erc20Token","ERC20TokenContract","getProvider","allowance","aToken","liquidityRate","variableBorrowRate","stableBorrowRate","getAllATokensV2","reservesAddresses","r","aaveBalances","aaveReader","getBatchATokensData","getAaveOverall","lendingPoolContract","getUserAccountData","userAccountData","userAcc","totalLiquidity","totalCollateralETH","totalBorrowsETH","totalFeesETH","availableBorrowsETH","currentLiquidationThreshold","ltv","healthFactor","getUpdateAToken","reserve","relayerSocket","Relayer","options","this","_orderbook","Orderbook","getOrderbookForWebsocketProvider","httpEndpoint","RELAYER_URL","websocketEndpoint","RELAYER_WS_URL","_client","HttpClient","_rateLimit","RateLimit","rps","_getOrdersAsync","sellOrders","buyOrders","orderConfig","asks","lowestPriceAsk","takerAssetAmountInUnits","makerAssetAmountInUnits","bids","highestPriceBid","spread","dividedBy","collectibleAddress","wethAddress","getOrdersAsync","makerAssetProxyId","AssetProxyId","ERC721","takerAssetProxyId","ERC20","makerAssetAddress","takerAssetAddress","result","record","apiOrders","RELAYER_RPS","page","perPage","headers","Headers","init","method","response","ok","startWebsocketMarketsSubscription","cb_onmessage","socket","WebSocket","requestAll","topic","requestId","uuidv1","onopen","event","send","stringify","onerror","close","onclose","setTimeout","onmessage","MEDIA_WIDTHS","upToExtraSmall","upToSmall","upToMedium","upToLarge","mediaWidthTemplates","accumulator","css","ThemeProvider","children","themeObject","white","black","text1","text2","text3","text4","bg1","bg2","bg3","bg4","bg5","backdrop","modalBG","advancedBG","primary1","primaryText1","secondary1","secondary2","bodyBg","splashBG","red1","green1","yellow1","blue1","danger","warning","success","primary","secondary","tertiary","colors","grids","sm","md","lg","shadow1","mediaWidth","flexColumnNoWrap","flexRowNoWrap","theme","TextWrapper","styled","Text","color","TYPE","main","props","fontWeight","body","fontSize","largeHeader","mediumHeader","subHeader","small","blue","yellow","darkGray","gray","italic","fontStyle","FixedGlobalStyle","createGlobalStyle","ThemedGlobalStyle","AaveLoadingState","AaveGlobalLoadingState","STAKING_REWARDS_ABI","STAKING_REWARDS_FACTORY_ABI","DAI","stakingRewardAddress","USDT","WBTC","useETHBalances","uncheckedAddresses","multicallContract","addresses","isAddress","results","useSingleContractMultipleData","memo","CurrencyAmount","ether","JSBI","BigInt","useTokenBalances","validatedTokens","validatedTokenAddresses","vt","balances","useMultipleContractSingleData","ERC20_INTERFACE","anyLoading","some","callState","loading","TokenAmount","useTokenBalancesWithLoadingIndicator","useTokenBalance","useCurrencyBalances","currencies","currency","ETHER","useCurrencyBalance","useAllTokenBalances","allTokens","useAllTokens","addTransaction","clearAllTransactions","finalizeTransaction","checkedTransaction","sortByListPriority","urlA","urlB","first","second","WrappedTokenInfo","tokenInfo","tags","logoURI","EMPTY_LIST","listCache","WeakMap","listToTokenMap","tokenMap","tagId","x","Boolean","set","useAllLists","lists","byUrl","combineMaps","map1","map2","1","3","4","5","42","useCombinedTokenMapFromUrls","urls","currentUrl","current","assign","useActiveListUrls","activeListUrls","url","useCombinedActiveList","DEFAULT_TOKEN_LIST","useCombinedInactiveList","allActiveListUrls","useInactiveListUrls","useDefaultTokenList","useUnsupportedTokenList","UNSUPPORTED_TOKEN_LIST","useIsListActive","BYTES32_REGEX","parseStringOrBytes32","bytes32","defaultValue","parseBytes32String","useTokensFromMap","includeUserAdded","userAddedTokens","mapWithoutUrls","newMap","useAllInactiveTokens","inactiveTokens","activeTokensAddresses","useIsUserAddedToken","currencyEquals","useIsTokenActive","activeTokens","useFoundOnInactiveList","searchQuery","filterTokens","useToken","tokenContractBytes32","tokenName","useSingleCallResult","NEVER_RELOAD","tokenNameBytes32","symbolBytes32","useCurrency","currencyId","isETH","floor","convertDateToUTCTimestamp","date","getTime","getTimezoneOffset","valueOf","REACT_APP_EXPIRE_ORDERS_TIME","seconds","toNumber","Version","DEFAULT_VERSION","v2","useToggledVersion","use","useParsedQueryString","v1","useDebounce","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","clearTimeout","initializeAaveData","setAaveLoadingState","setATokenBalance","setAaveReservesGQLResponse","setATokenBalances","setAaveUserAccountData","setAaveCurrency","initAave","getAaveReservesGQLResponse","Loading","aTokensData","fetchAave","lendingAToken","lendingPoolWrapper","unLendingAToken","aTokenWrapper","redeem","borrowAToken","borrow","repayAToken","amountRepay","ROUND_DOWN","repay","isLocalhost","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","RouteChanger","changeRouteHandler","history","path","on","off","Component","withRouter","CopyIcon","LinkStyledButton","TransactionStatusText","span","hasMargin","CopyHelper","timeout","isCopied","setIsCopied","staticCopy","didCopy","copy","hide","useCopyClipboard","setCopied","onClick","toCopy","src","require","default","ModifiedJazzicon","Jazzicon","UpperSection","InfoCard","AccountGroupingRow","AccountSection","YourAccount","AccountControl","AddressLink","ExternalLink","WalletName","WalletButtons","WalletLink","ChangeAccountContainer","AccountDetails","pendingTransactions","confirmedTransactions","ENSName","openOptions","connector","isMetaMask","SUPPORTED_WALLETS","k","injected","formatConnectorName","className","shortenAddress","style","marginLeft","hasENS","isENS","href","getEtherscanLink","label","StyledImage","img","icon","Icon","MetaMask","WalletConnect","Ledger","Trezor","TrustWallet","Portis","Torus","Coinbase","alt","button","active","OptionCard","OptionCardLeft","OptionCardClickable","selected","clickable","disabled","HeaderText","IconWrapper","Option","header","subheader","loadingColor","setLoadingColor","width","isMobile","height","ContentWrapper","LedgerContentWrapper","Select","Form","Control","lighten","option","LedgerAccount","accounts","setAccounts","selectedAccount","setSelectedAccount","accountsEthBalance","useTranslation","getAccounts","acc","onSubmit","preventDefault","toast","setAccount","onDone","Row","Group","as","Col","xs","Label","htmlSize","custom","onChange","target","variant","minWidth","Check","Wrapper","HeaderRow","empty","OptionGrid","WALLET_VIEWS","newTransactionsFirst","addedTime","WalletModal","useWeb3React","activate","LedgerPaths","selectedPath","setSelectedPath","customPath","setCustomPath","setSelected","useENSName","allTransactions","useAllTransactions","contextNetwork","NetworkContextName","sortedRecentTransactions","isTransactionRecent","receipt","hash","walletView","setWalletView","pendingWallet","setPendingWallet","isLedger","setIsLedger","pendingError","setPendingError","walletModalOpen","toggleWalletModal","previousAccount","usePrevious","activePrevious","connectorPrevious","handleConnectLedger","ledger","tryActivation","ledgerConnect","WalletConnectConnector","walletConnectProvider","wc","UnsupportedChainIdError","getOptions","isMetamask","mobile","mobileOnly","onHide","dialogClassName","backdropClassName","centered","Header","closeButton","Title","Body","Input","checked","placeholder","Button","VISIBILITY_STATE_SUPPORTED","document","isWindowVisible","visibilityState","useIsWindowVisible","focused","setFocused","listener","addEventListener","removeEventListener","Updater","windowVisible","setState","blockNumberCallback","max","getBlockNumber","removeListener","debouncedState","fetchList","useFetchListCallback","fetchAllListsCallback","debug","useInterval","listUrl","loadingRequestId","pendingUpdate","bump","getVersionUpgrade","version","VersionUpgrade","NONE","PATCH","MINOR","minVersionBump","MAJOR","waitRandom","min","ms","random","resolve","CancelledError","RetryableError","chunk","minBlockNumber","aggregate","obj","resultsBlockNumber","returnData","multicall","debouncedListeners","callListeners","latestBlockNumber","cancellations","useRef","listeningKeys","allListeners","listeners","keyListeners","blocksPerFetch","previousMin","Infinity","activeListeningKeys","unserializedOutdatedCallKeys","callResults","minDataBlockNumber","fetchingBlockNumber","outdatedListeningKeys","serializedOutdatedCallKeys","outdatedCallKeys","calls","chunkedCalls","items","maxChunkSize","numChunks","ceil","chunkSize","Array","ix","chunkArray","fn","rejectCancelled","n","minWait","maxWait","completed","promise","cancel","retry","fetchChunk","fetchBlockNumber","firstCallKeyIndex","curr","lastCallKeyIndex","lastBlockNumber","transactions","lastCheckedBlockNumber","blocksSinceCheck","minutesPending","shouldCheck","getTransactionReceipt","blockHash","contractAddress","to","transactionHash","transactionIndex","txn","summary","darkHandler","matches","matchMedia","addListener","loaded","SplashScreen","StyleButton","Hero","toggleConnectModal","Hero1","draggable","FeatureIcon","C","Feature1","Feature2","Feature3","Feature4","Feature","h3","Desc","FeatureItem","rel","iconName","title","description","desc","Features","dots","arrows","infinite","centerMode","slidesToShow","slidesToScroll","centerPadding","responsive","breakpoint","settings","dotsClass","Card","StyledCard","CustomCard","SparklineChart","hasError","series","y","currentData","chart","toolbar","zoom","enabled","sparkline","animations","dataLabels","markers","stroke","curve","xaxis","tickAmount","labels","axisBorder","axisTicks","crosshairs","tooltip","yaxis","plotOptions","grid","borderColor","clipMarkers","lines","gradient","opacityFrom","opacityTo","padding","top","bottom","minHeight","typingInterval","GotoMarketContainer","PoolsButton","TradeButton","StyledLink","Link","marketApi","MarketApi","coins","setCoins","setQuery","defaultCoins","getSearchedCoins","locale","ids","coin","pageSize","hasOwnProperty","columns","dataField","formatter","cell","row","image","paddingLeft","CurrencyText","current_price","price_change_percentage_24h","sparkline_in_7d","mobileColumns","cellContent","isAction","rowEvents","SearchIcon","wrapperClasses","bordered","classes","bootstrap4","remote","keyField","ResponsiveTable","Banners","banners","banner","HomePage","queryString","eth","err","aos","Page","disableAccountCheck","Dashboard","lazy","Platform","Pools","Swap","Spot","InstantSwap","Markets","Explore","ExploreTypeList","CoinDetails","Governance","CreateProposal","Proposals","Vote","History","Wallet","FiatOff","FiatOn","NFT","Borrow","TokenSets","Launchpad","LaunchpadItem","NewLaunchpad","Routes","selectedCurrency","classList","add","remove","fallback","component","exact","MessageWrapper","Message","h2","Web3ReactManager","networkActive","networkError","activateNetwork","triedEager","useEagerConnect","network","useInactiveListener","showLoader","setShowLoader","Loader","TransactionHandler","activePopups","confirmTransaction","Updaters","App","position","toastOptions","background","zIndex","boxShadow","borderRadius","duration","highlightColor","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","getLibrary","Web3Provider","pollingInterval","i18next","Backend","initReactI18next","backend","loadPath","fallbackLng","interpolation","escapeValue","createReducer","builder","addCase","removeAfterMs","popup","concat","nanoid","updateVersion","currentTimestamp","pairKey","token0Address","token1Address","Field","initialState","DEFAULT_THEME","INITIAL_ALLOWED_SLIPPAGE","DEFAULT_DEADLINE_FROM_NOW","URLWarningVisible","lastUpdateVersionTimestamp","serializedPair","token0","token1","tokenAAddress","tokenBAddress","approval","claim","txs","confirmedTime","independentField","INPUT","typedValue","OUTPUT","replaceSwapState","recipient","inputCurrencyId","outputCurrencyId","selectCurrency","otherField","switchCurrencies","typeInput","setRecipient","CURRENCY_A","otherTypedValue","resetMintState","noLiquidity","NEW_LIST_STATE","lastInitializedDefaultListOfLists","tokenList","errorMessage","u","lastInitializedSet","s","l","Set","newListOfListsSet","has","LIQUIDITY_PERCENT","enoughCoinBalance","saveAccount","haveEnoughBalance","currenciesRate","selectedGasPrice","Uniswap","isFinished","Balancer","Curve","Yearn","isUniswap","poolName","setPools","setListLoading","selectPool","selectedPool","clearSelectedPool","transformedBalance","overview","wallet","slug","deposits","debts","saveBalances","toggleLoading","setAccountOverview","setTransformedBalances","exploreSections","setExploreSection","marketCoins","prices","historical","30","market_cap","total_volume","setLoading","saveAllTokens","saveMarketCoins","saveSelectedCoin","setHistorical","setCoinPriceLoading","setCoinMarketPrices","spaces","proposals","setSpaces","setProposals","initialRelayerState","userOrders","accountMarketStats","ieoOrders","userIEOOrders","feePercentage","orderBookState","marketsStatsState","marketFillsState","MIN_ORDER_EXPIRATION_TIME_ON_ORDERBOOK","actions","parsedUrl","URL","searchParams","initialMarketState","tokensPrice","makerAddressesString","extract","getMakerAddresses","marketMakerStats","quoteInUsd","initialUIState","notifications","marketFills","userFills","userMarketFills","hasUnreadNotifications","stepsModal","doneSteps","currentStep","pendingSteps","orderPriceSelected","orderBuyPriceSelected","orderSellPriceSelected","makerAmountSelected","sidebarOpen","fiatType","startTour","openFiatOnRampModal","openFiatOnRampChooseModal","configData","isAffiliate","mf","isArray","newFills","newSteps","aaveReservesGQLResponse","aaveLoadingState","aaveGlobalLoadingState","it","newState","property","setSelectedMarket","setTrades","setOrderbook","setPositions","setAuthCode","setAuthCodeExpire","setPrivateData","setFee","setUserTrades","setLockedBalances","trades","orderbook","positions","fee","userTrades","lockedBalances","authCode","authCodeExpire","accessToPrivate","selectedMarket","DEFAULT_MARGIN_MARKET","selectedMarketStats","rootReducer","combineReducers","aave","swap","mint","burn","pools","explore","governance","spotUI","margin","PERSISTED_KEYS","store","configureStore","reducer","middleware","save","states","thunk","preloadedState","load","Providers","Web3ProviderNetwork","createWeb3ReactRoot","ReactDOM","render","StrictMode","getElementById","origin","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","api","days","fetchCoinMarketPrices","fetchMarketCoins","fetchSelectedCoin","fetchHistoricalData","useTransactionAdder","useHasPendingApproval","spender","wrappedCurrency","wrappedCurrencyAmount","currencyAmount","raw","BadSource","Img","tries","refresh","errorHandler","onError","filterMarketsByString","baseLowerCase","quoteLowerCase","filterMarketsByTokenSymbol","tokenSymbol","getTodayFillsUTC","startOfDay","setHours","startOfDayUtc","getTodayHighPriceFromFills","todayFills","getTodayLowerPriceFromFills","getTodayClosedOrdersFromFills","getLastPrice","marketToStringFromTokens","search","useLocation","parseArrays","ignoreQueryPrefix","ordersToUIOrdersWithOrdersInfo","ordersToUIOrdersWithoutOrderInfo","baseTokenEncoded","makerAssetTokenDecimals","takerAssetTokenDecimals","selectedTokenEncoded","orderInfo","orderTakerAssetFilledAmount","orderStatus","mergeByPrice","precision","initialValue","ordersByPrice","newSize","Modal","BSModal","InputGroupPrepend","Prepend","InputGroupAppend","Append","InputGroupText","InputGroupFormControl","FormControl","InputGroup","bg","useWeb3ReactCore","tried","setTried","isAuthorized","suppress","handleChainChanged","handleAccountsChanged","uniswapClient","cache","InMemoryCache","Api","orderDirection","gql","totalSupply","txCount","volumeUSD","balancerClient","liquidity","totalWeight","totalSwapVolume","swapFee","curveClient","virtualPrice","yearnClient","vaults","pricePerFullShare","vaultBalance","fetchPools","Apis","getCurrencyPairFromTokens","fetchBalances","defiSdk","getAccountBalances","fetchTransformedBalances","getBalances","customColor","useContext","ThemeContext","classNames","failed","viewBox","xmlns","cx","cy","strokeOpacity","strokeWidth","strokeLinecap","strokeLinejoin","mask","x1","y1","x2","y2","gradientUnits","stopColor","offset","stopOpacity","isZero","hexNumberString","useLogo","space","symbolIndex","file","formatProposal","proposal","msg","input","jsonParse","start","end","snapshot","bpt_voting_disabled","metadata","formatProposals","fromEntries","entries","shorten","limit","trim","ref","fetchSpaces","fetchProposals","KnownTokens","knownTokensMetadata","tokensMetaData","_tokens","_tokensIEO","updateTokens","tokenMetaData","mainnetAddress","primaryColor","displayDecimals","UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION","website","verisafe_sticker","listed","isStableCoin","symbolInLowerCaseScore","addressInLowerCase","_wethToken","getTokenIEOByAddress","assetData","isKnownSymbol","isIEOKnownAddress","isValidFillEvent","fillEvent","args","isERC20AssetData","getTokenByName","nameInLowerCaseScore","getTokens","findToken","findTokenOrFetchIt","_fetchTokenMetadata","pushToken","pushTokenIEO","addTokenByAddress","fetchTokenMetadaFromGecko","tokenData","thumbImage","thumb","getTokenMetadaDataFromContract","NETWORK_ID","owners","social","facebook_url","reddit_url","twitter_url","telegram_url","discord_url","bitcointalk_url","youtube_url","medium_url","endDate","mapTokensIEOMetaDataToTokenByNetworkId","ConfigIEO","getWethTokenFromTokensMetaDataByNetworkId","Config","contract","assetProxyId","isWethToken","baseURL","fetchAllCoins","fetchSelectedContract","fetchCoinHistorical","fetchHistorical","fetchContractHistorical","fetchHistoricalContract","fetchGlobalData","fetchSinglePrice","fetchSearch","fetchSearchedCoins","day","marketCoin","links","coingecko","paprika","paprikaId","diadata","chainlink","Price","priceFeed","Contract","ChainLinkABI","methods","latestRoundData","chainlinkPrice","answer","getMarketStats","getEthInUsd","getOrderPriceSelected","getMakerAmountSelected","getQuoteInUsd","getTokensPrice","getMarketMakerStats","getStepsModalCurrentStep","getIsAffiliate","getOrderSecondsExpirationTime","getOrderbookState","getDefiProtocol","getATokensData","getAaveCurrency","getAaveLoadingState","getAaveUserAccountData","getCurrentMarketFills","createSelector","getCurrentMarketTodayHighPrice","stats","price_max_24","getCurrentMarketTodayLowerPrice","price_min_24","getCurrentMarketTodayQuoteVolume","quote_volume_24","getCurrentMarketTodayClosedOrders","total_orders","getCurrentMarketLastPrice","last_price","getOpenOrders","OrderStatus","Fillable","o1","o2","getMySizeOrders","userOrder","mySizeOrders","getSpread","lowestPriceSell","highestPriceBuy","getSpreadInPercentage","absSpread","getTotalQuoteBuyOrders","getTotalBaseSellOrders","debouncedAddress","ensNodeArgument","namehash","registrarContract","resolverAddress","resolverAddressResult","resolverContract","changed","uriToHttp","BASE_FEE","Percent","ONE_HUNDRED_PERCENT","INPUT_FRACTION_AFTER_FEE","subtract","computeTradePriceBreakdown","trade","realizedLPFee","route","currentFee","multiply","priceImpactWithoutFeeFraction","priceImpact","priceImpactWithoutFee","numerator","denominator","inputAmount","quotient","computeSlippageAdjustedAmounts","allowedSlippage","pct","basisPointsToPercent","maximumAmountIn","minimumAmountOut","warningSeverity","lessThan","BLOCKED_PRICE_IMPACT_NON_EXPERT","ALLOWED_PRICE_IMPACT_HIGH","ALLOWED_PRICE_IMPACT_MEDIUM","ALLOWED_PRICE_IMPACT_LOW","formatExecutionPrice","inverted","executionPrice","invert","toSignificant","outputAmount","PairState","PAIR_INTERFACE","IUniswapV2PairABI","usePairs","currencyA","currencyB","pairAddresses","tokenA","tokenB","equals","Pair","getAddress","reserves","LOADING","INVALID","NOT_EXISTS","reserve0","reserve1","sortsBefore","EXISTS","usePair","useAllCommonPairs","bases","BASES_TO_CHECK_TRADES_AGAINST","basePairs","flatMap","otherBase","t0","t1","allPairCombinations","customBases","CUSTOM_BASES","customBasesA","customBasesB","allPairs","liquidityToken","useSwapState","useSwapActionHandlers","onCurrencySelection","onSwitchTokens","onUserInput","onChangeRecipient","tryParseAmount","typedValueParsed","parseUnits","BAD_RECIPIENT_ADDRESSES","involvesAddress","checksummedAddress","useDerivedSwapInfo","inputError","toggledVersion","inputCurrency","outputCurrency","recipientLookup","useENS","relevantTokenBalances","isExactIn","parsedAmount","bestTradeExactIn","currencyAmountIn","currencyOut","allowedPairs","Trade","maxHops","maxNumResults","useTradeExactIn","bestTradeExactOut","currencyIn","currencyAmountOut","useTradeExactOut","v2Trade","currencyBalances","v1Trade","useV1Trade","formattedTo","slippageAdjustedAmounts","slippageAdjustedAmountsV1","balanceIn","amountIn","parseCurrencyFromURLParameter","urlParam","valid","ENS_NAME_REGEX","queryParametersToSwapState","parsedQs","validatedRecipient","exactAmount","parseFloat","parseIndependentFieldURLParameter","exactField","useDefaultsFromURLSearch","setResult","parsed","ETHERSCAN_PREFIXES","prefix","chars","calculateGasMargin","mul","calculateSlippageAmount","slippage","divide","AddressZero","getSigner","connectUnchecked","getProviderOrSigner","getRouterContract","ROUTER_ADDRESS","IUniswapV2Router02ABI","escapeRegExp","string","isTokenOnList","defaultTokens","isMethodArg","isValidMethodArgs","every","xi","INVALID_RESULT","useCallsData","serializedCallKeys","callKeys","INVALID_CALL_STATE","syncing","LOADING_CALL_STATE","toCallState","callResult","contractInterface","fragment","decodeFunctionResult","methodName","callInputs","interface","getFunction","inputs","encodeFunctionData","Rinkeby","Ganache","tokensToTokenBalances","assetDatas","getBatchBalancesAndAssetProxyAllowances","allowances","_b","promiseTokenDataResolved","units","decimalsPerToken","formatTokenSymbol","tokenAmountInUnits","toFixedDecimals","tokenSymbolToDisplayString","haveBalance","Logo","LogoImage","hideOnMobile","routes","fiat","instantSwap","invest","tokenSets","loans","nft","launchpad","tools","rankings","accountRoutes","dashboard","Item","ItemInner","DropDown","DropDownItem","HeaderDropdown","ArrowDown","User","DropDownButton","deactivate","CurrencyLogo","FlagButton","BootstrapButton","i18n","selectDestinationCurrency","changeLanguage","lng","bind","IconContainer","TitleContainer","Collapse","BodyItem","SideDrawerItem","setOpen","setHeight","toggleOpen","getBoundingClientRect","Content","CloseButton","Backdrop","LogoContainer","LinkItem","SideDrawer","onDismiss","MoonIcon","SunIcon","ThemeToggler","toggleDarkMode","htmlFor","Moon","Sun","StyledBox","TxnBox","EmptyText","SeeAllButton","marginBottom","Container","right","scrolled","StyledNavbarBrand","Navbar","Brand","hasCallback","ThemeContainer","BackButton","MenuIcon","sidedrawer","setSidedrawer","setScrolled","scrollbarWidth","setScrollbarWidth","setCallback","handleUserScroll","scroll","scrollTop","handleResize","PaddingWidth","scrollDiv","createElement","appendChild","clientWidth","removeChild","_getScrollbarWidth","setModalCallback","removeModalCallback","expand","Nav","activeClassName","CurrencyDropdown","UserDropdown","socials","Twitter","Telegram","Youtube","Github","Socials","footer","desktop","FooterAbout","BG","imageOne","imageTwo","MobileSocials","CopyRight","List","ListContainer","Links","ul","Footer","DesktopImage","MobileImage","FooterBG","FooterSecondBG","Trans","i18nKey","company","PageContainer","hasBg","PageContent","h1","morePadding","scrollTo","parseENSAddress","ensAddress","ensName","ensPath","Floats","formattedValue","splitedValue","UTF_8_DECODER","TextDecoder","contenthashToUri","contenthash","buff","hex","startsWith","arr","Uint8Array","hexToUint8Array","codec","getCodec","rmPrefix","cid","CID","toB58String","multihash","decode","digest","HeaderTitle","HeaderValue","withoutBorder","direction","Value","withPadding","headerIndex","formatExtraData","col","colIndex","notCentered","tokenListValidator","Ajv","allErrors","compile","schema","getTokenList","resolveENSContentHash","parsedENS","contentHashUri","translatedUri","isLast","errors","dataPath","REGISTRAR_ABI","constant","outputs","payable","stateMutability","REGISTRAR_ADDRESS","RESOLVER_ABI","internalType","ensRegistrarContract","resolver","ensResolver","NETWORK_CHAIN_ID","networkLibrary","getNetworkLibrary","sendDispatch","useV1ExchangeAddress","MockV1Pair","etherAmount","tokenAmount","useMockV1Pair","v1PairAddress","ETHBalance","inputPair","outputPair","inputIsETH","outputIsETH","Route","TradeType","EXACT_INPUT","EXACT_OUTPUT","getTradeVersion","isV1","useV1TradeExchangeAddress","leading","savedCallback","tick","setInterval","clearInterval","nameOrAddress","validated","reverseLookup","lookup","useENSAddress","rotate","keyframes","StyledSVG","svg","rest","searchingAddress","lowerSearchParts","matchesSearch","sParts","sp","endsWith","useSortedTokensByQuery","symbolMatch","exactMatches","symbolSubtrings","ButtonText","TrashIcon","Trash","LinkIconWrapper","LinkIcon","LinkIconFeather","ExternalLinkIcon","handleClick","ctrlKey","metaKey","attrs","backgroundColor","darken","marginRight","CloseIcon","X","StyledInternalLink","rotateImg","Spinner","useMemoTokenBalances","walletTokens","walletBalances","ethRate","finalResult","underlying","transformedData","currentBalance","transformedBalances","cb","finalBalances","innerBalance","fiBalance","lowerAddress","balanceUSD","underlyingBalance","ub","transformedWalletBalance","request","create","fetchSingleSpace","fetchSingleProposal","fetchVotes","post","Accept","exploreApi","requestBaseURLs","trending","derivatives","topTokens","fetchTokens","fetchTokenSets","fetchTrending","fetchDerivatives","fetchDefiTokens","defiTokens","sortedTokens","sortBy","filteredTokens","losers","gainers","reverse","rebalancing_sets","platform","volume_24h","baseId","ProviderType","anonymous","indexed","PROXY_URL","REACT_APP_PROXY_URL","CONTRACTS","balancer","yVault","uniswap","REMOVE_CONTRACTS","COMP","MKR","AMPL","BalanceToken","GOVERNANCE_ADDRESS","UNI_ADDRESS","UNI","WETH_ONLY","SUGGESTED_BASES","BASES_TO_TRACK_LIQUIDITY_FOR","PINNED_PAIRS","ONE_BIPS","BIPS_BASE","PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN","MIN_ETH","exponentiate","POLLING_INTERVAL","UI_DECIMALS_DISPLAYED_SPREAD_PERCENT","IS_ORDER_LIMIT_MATCHING","REACT_APP_MATCH_LIMIT_ORDERS","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","REACT_APP_NOTIFICATIONS_LIMIT","REACT_APP_FILLS_LIMIT","REACT_APP_START_BLOCK_LIMIT","REACT_APP_COLLECTIBLES_SOURCE","REACT_APP_MAKER_FEE_PERCENTAGE","REACT_APP_TAKER_FEE_PERCENTAGE","REACT_APP_USE_RELAYER_ORDER_CONFIG","REACT_APP_LOGGER_ID","ONE_MINUTE_MS","REACT_APP_NETWORK_ID","UI_UPDATE_CHECK_INTERVAL","REACT_APP_COLLECTIBLE_ADDRESS","REACT_APP_UI_UPDATE_CHECK_INTERVAL","UPDATE_ETHER_PRICE_INTERVAL","REACT_APP_UPDATE_ETHER_PRICE_INTERVAL","UPDATE_TOKENS_PRICE_INTERVAL","REACT_APP_UPDATE_TOKENS_PRICE_INTERVAL","UPDATE_ERC20_MARKETS","REACT_APP_UPDATE_ERC20_MARKETS_INTERVAL","SIMPLE_SWAP_FIXED","NFT_REFERRER_ACCOUNT","ONE_INCH_REFERRER_ACCOUNT","ONE_INCH_FEE_PERCENTAGE","PARASWAP_REFERRER_ACCOUNT","BITREFILL_REF_TOKEN","CHANGE_NOW_FLOW","Cipher","EnjinWallet","Mist","CoinbaseWallet","Parity","Opera","Fallback","REACT_APP_CHANGE_NOW_FLOW","SIDE_SHIFT_TYPE","presaleAddresses","CAD","GBP","RUB","JPY","CHF","EUR","INR","CNY","NZD","USD","SGD","AUD","KRW","priceDiff","seeMore","short_description","ownershipToken","usdLiquidity","large","market_data","imageComponent","price_percentage_change_24h","TYPING_INTERVAL","supportedDEXes","paraswap","dexag","DEXesName","Weth","UniswapV2","Compound","CHAI","Oasis","Kyber","Bancor","zero_x","Zerox","MultiPath","ParaSwapPool","Swerve","SushiSwap","synthetix","ag","curvefi","godex","oneInch","coinSwitch","simpleSwap","stealthex","DefiSwap","LINKSWAP","changeNow","sideShift","DEXesImages","ApprovalState","UNKNOWN","NOT_APPROVED","PENDING","APPROVED","TX_DEFAULTS_TRANSFER","gasLimit","gasTransferToken","shouldValidate","debouncedName","addr","RequestError","code","MiniRpcProvider","batchWaitTimeMs","host","nextId","batchTimeoutId","batch","clearBatch","accept","statusText","byKey","sendAsync","jsonrpc","NetworkConnector","defaultChainId","invariant","supportedChainIds","currentChainId","AbstractConnector","NETWORK_URL","PORTIS_ID","InjectedConnector","walletconnect","rpc","bridge","qrcode","derivationPath","LedgerConnector","baseDerivationPath","trezor","TrezorConnector","manifestEmail","manifestAppUrl","walletlink","WalletLinkConnector","appName","portis","PortisConnector","dAppId","networks","torus","TorusConnector","metamask","walletConnect","trustWallet","coinbase","coinbase_mobile","DeFiSDK"],"mappings":"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","file":"static/js/main.99d98cdc.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\n\nexport interface SerializedToken {\n\tchainId: number;\n\taddress: string;\n\tdecimals: number;\n\tsymbol?: string;\n\tname?: string;\n}\n\nexport interface SerializedPair {\n\ttoken0: SerializedToken;\n\ttoken1: SerializedToken;\n}\n\nexport const updateMatchesDarkMode = createAction<{ matchesDarkMode: boolean }>(\"user/updateMatchesDarkMode\");\nexport const updateUserDarkMode = createAction<{ userDarkMode: boolean }>(\"user/updateUserDarkMode\");\nexport const updateUserExpertMode = createAction<{ userExpertMode: boolean }>(\"user/updateUserExpertMode\");\nexport const updateUserSlippageTolerance = createAction<{ userSlippageTolerance: number }>(\n\t\"user/updateUserSlippageTolerance\"\n);\nexport const updateUserDeadline = createAction<{ userDeadline: number }>(\"user/updateUserDeadline\");\nexport const addSerializedToken = createAction<{ serializedToken: SerializedToken }>(\"user/addSerializedToken\");\nexport const removeSerializedToken = createAction<{ chainId: number; address: string }>(\"user/removeSerializedToken\");\nexport const addSerializedPair = createAction<{ serializedPair: SerializedPair }>(\"user/addSerializedPair\");\nexport const removeSerializedPair = createAction<{ chainId: number; tokenAAddress: string; tokenBAddress: string }>(\n\t\"user/removeSerializedPair\"\n);\nexport const toggleURLWarning = createAction<void>(\"app/toggleURLWarning\");\n","import { createAction } from \"@reduxjs/toolkit\";\n\nimport { getKnownTokens } from \"../../utils/known_tokens\";\nimport { ServerState, USE_ORDERBOOK_PRICES, USE_RELAYER_MARKET_UPDATES } from \"../../constants\";\nimport {\n\tfetchPastMarketFills,\n\tgetOrderbookAndUserOrders,\n\tsetMarketFillState,\n\tsetMarketsStatsState,\n\tsetOrderBookState,\n} from \"../relayer/actions\";\nimport {\n\tgetAvailableMarkets,\n\tgetMarketPriceEther,\n\tgetMarketPriceQuote,\n\tgetMarketPriceTokens,\n\tmarketToString,\n} from \"../../common/markets\";\nimport { getAllMarketsStatsFromRelayer, getMarketStatsFromRelayer, getRelayer } from \"../../common/relayer\";\nimport { getCurrencyPair, getOrderBook } from \"../selectors\";\n\nexport const setCurrencyPair = createAction(\"market/CURRENCY_PAIR_set\");\n\nexport const setMarketTokens = createAction(\"market/MARKET_TOKENS_set\", ({ baseToken, quoteToken }) => {\n\treturn {\n\t\tpayload: { baseToken, quoteToken },\n\t};\n});\n\nexport const setMarketStats = createAction(\"market/MARKET_STATS_set\");\n\nexport const setMarketsStats = createAction(\"market/MARKETS_STATS_set\");\n\nexport const fetchMarketPriceQuoteStart = createAction(\"market/PRICE_QUOTE_fetch_request\");\n\nexport const fetchMarketPriceQuoteUpdate = createAction(\"market/PRICE_QUOTE_fetch_success\");\n// Market Price Quote Actions\nexport const fetchMarketPriceQuoteError = createAction(\"market/PRICE_QUOTE_fetch_failure\");\n\nexport const setMarkets = createAction(\"market/MARKETS_set\");\n\nexport const fetchERC20MarketsError = createAction(\"market/ERC20_MARKETS_TOKENS_fetch_failure\");\n\nexport const fetchMarketPriceEtherStart = createAction(\"market/PRICE_ETHER_fetch_request\");\n\nexport const fetchMarketPriceEtherError = createAction(\"market/PRICE_ETHER_fetch_failure\");\n\nexport const fetchMarketPriceEtherUpdate = createAction(\"market/PRICE_ETHER_fetch_success\");\n\nexport const fetchMarketPriceTokensStart = createAction(\"market/PRICE_TOKENS_fetch_request\");\n\nexport const fetchMarketPriceTokensUpdate = createAction(\"market/PRICE_TOKENS_fetch_success\");\n\nexport const fetchMarketPriceTokensError = createAction(\"market/PRICE_TOKENS_fetch_failure\");\n\nexport const setMarketMakerStats = createAction(\"market/MARKET_MAKER_STATS_set\");\n\nexport const changeMarket = (currencyPair, account, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst oldQuoteToken = state.market.quoteToken;\n\t\tconst knownTokens = getKnownTokens();\n\t\tdispatch(setOrderBookState(ServerState.NotLoaded));\n\t\tdispatch(setMarketFillState(ServerState.NotLoaded));\n\t\ttry {\n\t\t\tconst newQuoteToken = knownTokens.getTokenBySymbol(currencyPair.quote);\n\t\t\tdispatch(\n\t\t\t\tsetMarketTokens({\n\t\t\t\t\tbaseToken: knownTokens.getTokenBySymbol(currencyPair.base),\n\t\t\t\t\tquoteToken: newQuoteToken,\n\t\t\t\t})\n\t\t\t);\n\t\t\tdispatch(setCurrencyPair(currencyPair));\n\n\t\t\t// if quote token changed, update quote price\n\t\t\tif (oldQuoteToken !== newQuoteToken) {\n\t\t\t\ttry {\n\t\t\t\t\tawait dispatch(updateMarketPriceQuote());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t\tif (USE_RELAYER_MARKET_UPDATES) {\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(fetchPastMarketFills());\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(updateMarketStats());\n\t\t}\n\n\t\t// tslint:disable-next-line:no-floating-promises\n\t\tdispatch(getOrderbookAndUserOrders(account, library));\n\t};\n};\n\nexport const updateMarketStats = () => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst currencyPair = state.spot.currencyPair;\n\t\tconst market = marketToString(currencyPair);\n\t\ttry {\n\t\t\tconst marketStats = await getMarketStatsFromRelayer(market);\n\t\t\tif (marketStats) {\n\t\t\t\tdispatch(setMarketStats(marketStats));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nexport const updateMarketPriceQuote = () => {\n\treturn async (dispatch, getState) => {\n\t\tdispatch(fetchMarketPriceQuoteStart());\n\t\tconst state = getState();\n\t\ttry {\n\t\t\tconst quoteToken = state.market.quoteToken;\n\t\t\tif (quoteToken && quoteToken.c_id) {\n\t\t\t\t// if ethereum price is already fetched we use it\n\t\t\t\tif (quoteToken.c_id === \"ethereum\" && state.market.ethInUsd) {\n\t\t\t\t\tdispatch(fetchMarketPriceQuoteUpdate(state.market.ethInUsd));\n\t\t\t\t} else {\n\t\t\t\t\tconst marketPriceQuoteData = await getMarketPriceQuote(quoteToken.c_id);\n\t\t\t\t\tdispatch(fetchMarketPriceQuoteUpdate(marketPriceQuoteData));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Quote Token Need ID\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tdispatch(fetchMarketPriceQuoteError(err));\n\t\t}\n\t};\n};\n\nexport const fetchMarkets = () => {\n\treturn async (dispatch, getState) => {\n\t\tconst knownTokens = getKnownTokens();\n\t\tconst relayer = getRelayer();\n\t\tif (!USE_ORDERBOOK_PRICES) {\n\t\t\tconst marketsStats = await getAllMarketsStatsFromRelayer();\n\t\t\tdispatch(setMarketsStats(marketsStats));\n\t\t\tdispatch(setMarketsStatsState(ServerState.Done));\n\t\t\tconst state = getState();\n\t\t\tconst currencyPair = getCurrencyPair(state);\n\t\t\tconst market = marketToString(currencyPair);\n\t\t\tif (marketsStats && marketsStats.length > 0) {\n\t\t\t\tconst singleMarket = marketsStats.find((m) => m.pair === market);\n\t\t\t\tif (singleMarket) {\n\t\t\t\t\tdispatch(setMarketStats(singleMarket));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet markets = await Promise.all(\n\t\t\tgetAvailableMarkets().map(async (availableMarket) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst baseToken = knownTokens.getTokenBySymbol(availableMarket.base);\n\t\t\t\t\tconst quoteToken = knownTokens.getTokenBySymbol(availableMarket.quote);\n\t\t\t\t\tif (USE_ORDERBOOK_PRICES) {\n\t\t\t\t\t\tconst marketData = await relayer.getCurrencyPairMarketDataAsync(baseToken, quoteToken);\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcurrencyPair: availableMarket,\n\t\t\t\t\t\t\t...marketData,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcurrencyPair: availableMarket,\n\t\t\t\t\t\t\tbestAsk: null,\n\t\t\t\t\t\t\tbestBid: null,\n\t\t\t\t\t\t\tspreadInPercentage: null,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcurrencyPair: availableMarket,\n\t\t\t\t\t\tbestAsk: null,\n\t\t\t\t\t\tbestBid: null,\n\t\t\t\t\t\tspreadInPercentage: null,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tmarkets = markets.filter((value) => {\n\t\t\treturn value && value.currencyPair;\n\t\t});\n\n\t\tif (USE_RELAYER_MARKET_UPDATES) {\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(fetchPastMarketFills());\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(updateMarketStats());\n\t\t}\n\n\t\tif (markets && markets.length > 0) {\n\t\t\tdispatch(setMarkets(markets));\n\t\t}\n\t\treturn markets;\n\t};\n};\n\nexport const updateMarketPriceEther = () => {\n\treturn async (dispatch) => {\n\t\tdispatch(fetchMarketPriceEtherStart());\n\n\t\ttry {\n\t\t\tconst marketPriceEtherData = await getMarketPriceEther();\n\t\t\tdispatch(fetchMarketPriceEtherUpdate(marketPriceEtherData));\n\t\t} catch (err) {\n\t\t\tdispatch(fetchMarketPriceEtherError(err));\n\t\t}\n\t};\n};\n\nexport const updateMarketPriceTokens = (tokenBalances, wethBalance) => {\n\treturn async (dispatch) => {\n\t\tdispatch(fetchMarketPriceTokensStart());\n\t\ttry {\n\t\t\tlet tBalances = [];\n\t\t\twethBalance ? (tBalances = [...tokenBalances, wethBalance]) : (tBalances = [...tokenBalances]);\n\t\t\tconst tokensPrices = await getMarketPriceTokens(tBalances);\n\t\t\tdispatch(fetchMarketPriceTokensUpdate(tokensPrices));\n\t\t} catch (err) {\n\t\t\tdispatch(fetchMarketPriceTokensError(err));\n\t\t}\n\t};\n};\n\nexport const updateERC20Store = (account, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\ttry {\n\t\t\tconst knownTokens = getKnownTokens();\n\t\t\tconst currencyPair = getCurrencyPair(state);\n\t\t\tconst baseToken = knownTokens.getTokenBySymbol(currencyPair.base);\n\t\t\tconst quoteToken = knownTokens.getTokenBySymbol(currencyPair.quote);\n\n\t\t\tdispatch(setMarketTokens({ baseToken, quoteToken }));\n\t\t\tdispatch(getOrderbookAndUserOrders(account, library));\n\n\t\t\t// await dispatch(fetchMarkets());\n\t\t} catch (error) {\n\t\t\tconst knownTokens = getKnownTokens();\n\t\t\tconst currencyPair = getCurrencyPair(state);\n\t\t\tconst baseToken = knownTokens.getTokenBySymbol(currencyPair.base);\n\t\t\tconst quoteToken = knownTokens.getTokenBySymbol(currencyPair.quote);\n\n\t\t\tdispatch(setMarketTokens({ baseToken, quoteToken }));\n\t\t\tdispatch(getOrderBook());\n\t\t}\n\t};\n};\n\nexport const updateERC20Markets = () => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(fetchMarkets());\n\t\t\tif (USE_RELAYER_MARKET_UPDATES) {\n\t\t\t\tdispatch(updateMarketStats());\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tdispatch(fetchERC20MarketsError(error));\n\t\t}\n\t};\n};\n","import mitt from \"mitt\";\nimport { DEFAULT_DECIMALS } from \"../constants\";\nimport BigNumber from \"bignumber.js\";\nimport _ from \"lodash\";\n\nexport const toAbsoluteUrl = (pathname) => process.env.PUBLIC_URL + pathname;\n\nexport function getCurrentUrl(location) {\n\treturn location.pathname.split(/[?#]/)[0];\n}\n\nexport function checkIsActive(location, url) {\n\tconst current = getCurrentUrl(location);\n\tif (!current || !url) {\n\t\treturn false;\n\t}\n\n\tif (current === url) {\n\t\treturn true;\n\t}\n\n\tif (current.indexOf(url) > -1) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nexport const emitter = mitt();\n\nexport function encodeQuery(data) {\n\tlet query = \"\";\n\tfor (let d in data) query += encodeURIComponent(d) + \"=\" + encodeURIComponent(data[d]) + \"&\";\n\treturn query.slice(0, -1);\n}\n\nexport const formatMoney = (amount, decimalCount = 2, decimal = \".\", thousands = \",\") => {\n\ttry {\n\t\tdecimalCount = Math.abs(decimalCount);\n\t\tdecimalCount = isNaN(decimalCount) ? 2 : decimalCount;\n\n\t\tconst negativeSign = amount < 0 ? \"-\" : \"\";\n\n\t\tlet i = parseInt((amount = Math.abs(Number(amount) || 0).toFixed(decimalCount))).toString();\n\t\tlet j = i.length > 3 ? i.length % 3 : 0;\n\n\t\treturn (\n\t\t\tnegativeSign +\n\t\t\t(j ? i.substr(0, j) + thousands : \"\") +\n\t\t\ti.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) +\n\t\t\t(decimalCount\n\t\t\t\t? decimal +\n\t\t\t\t  Math.abs(amount - i)\n\t\t\t\t\t\t.toFixed(decimalCount)\n\t\t\t\t\t\t.slice(2)\n\t\t\t\t: \"\")\n\t\t);\n\t} catch (e) {\n\t\tconsole.log(e);\n\t}\n};\n\nexport function toUnitAmount(baseAmount, tokenContract = null) {\n\tconst decimals = tokenContract && tokenContract.decimals != null ? tokenContract.decimals : DEFAULT_DECIMALS;\n\n\tconst amountBN = new BigNumber(baseAmount.toString());\n\treturn amountBN.div(new BigNumber(10).pow(decimals));\n}\n\nexport const sortedData = (data, sortObj) => {\n\tif (!sortObj.field) {\n\t\treturn data;\n\t}\n\treturn _.orderBy(\n\t\tdata,\n\t\t[\n\t\t\tfunction (o) {\n\t\t\t\treturn o[sortObj.field] !== null\n\t\t\t\t\t? o[sortObj.field]\n\t\t\t\t\t: sortObj.order === \"asc\"\n\t\t\t\t\t? Number.MAX_SAFE_INTEGER\n\t\t\t\t\t: Number.MIN_SAFE_INTEGER;\n\t\t\t},\n\t\t],\n\t\t[sortObj.order || \"asc\"]\n\t);\n};\n","import { createAction } from \"@reduxjs/toolkit\";\nimport { TokenList } from \"@uniswap/token-lists\";\n\nexport type PopupContent =\n\t| {\n\t\t\ttxn: {\n\t\t\t\thash: string;\n\t\t\t\tsuccess: boolean;\n\t\t\t\tsummary?: string;\n\t\t\t};\n\t  }\n\t| {\n\t\t\tlistUpdate: {\n\t\t\t\tlistUrl: string;\n\t\t\t\toldList: TokenList;\n\t\t\t\tnewList: TokenList;\n\t\t\t\tauto: boolean;\n\t\t\t};\n\t  };\n\nexport enum ApplicationModal {\n\tWALLET,\n\tSETTINGS,\n\tSELF_CLAIM,\n\tADDRESS_CLAIM,\n\tCLAIM_POPUP,\n\tMENU,\n}\n\nexport const updateBlockNumber = createAction<{ chainId: number; blockNumber: number }>(\n\t\"application/updateBlockNumber\"\n);\nexport const setOpenModal = createAction<ApplicationModal | null>(\"application/setOpenModal\");\nexport const addPopup = createAction<{ key?: string; removeAfterMs?: number | null; content: PopupContent }>(\n\t\"application/addPopup\"\n);\nexport const removePopup = createAction<{ key: string }>(\"application/removePopup\");\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport interface Call {\n\taddress: string;\n\tcallData: string;\n}\n\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/;\nconst LOWER_HEX_REGEX = /^0x[a-f0-9]*$/;\nexport function toCallKey(call: Call): string {\n\tif (!ADDRESS_REGEX.test(call.address)) {\n\t\tthrow new Error(`Invalid address: ${call.address}`);\n\t}\n\tif (!LOWER_HEX_REGEX.test(call.callData)) {\n\t\tthrow new Error(`Invalid hex: ${call.callData}`);\n\t}\n\treturn `${call.address}-${call.callData}`;\n}\n\nexport function parseCallKey(callKey: string): Call {\n\tconst pcs = callKey.split(\"-\");\n\tif (pcs.length !== 2) {\n\t\tthrow new Error(`Invalid call key: ${callKey}`);\n\t}\n\treturn {\n\t\taddress: pcs[0],\n\t\tcallData: pcs[1],\n\t};\n}\n\nexport interface ListenerOptions {\n\t// how often this data should be fetched, by default 1\n\treadonly blocksPerFetch?: number;\n}\n\nexport const addMulticallListeners = createAction<{ chainId: number; calls: Call[]; options?: ListenerOptions }>(\n\t\"multicall/addMulticallListeners\"\n);\nexport const removeMulticallListeners = createAction<{ chainId: number; calls: Call[]; options?: ListenerOptions }>(\n\t\"multicall/removeMulticallListeners\"\n);\nexport const fetchingMulticallResults = createAction<{ chainId: number; calls: Call[]; fetchingBlockNumber: number }>(\n\t\"multicall/fetchingMulticallResults\"\n);\nexport const errorFetchingMulticallResults = createAction<{\n\tchainId: number;\n\tcalls: Call[];\n\tfetchingBlockNumber: number;\n}>(\"multicall/errorFetchingMulticallResults\");\nexport const updateMulticallResults = createAction<{\n\tchainId: number;\n\tblockNumber: number;\n\tresults: {\n\t\t[callKey: string]: string | null;\n\t};\n}>(\"multicall/updateMulticallResults\");\n","// used to mark unsupported tokens, these are hosted lists of unsupported tokens\n/**\n * @TODO add list from blockchain association\n */\nexport const UNSUPPORTED_LIST_URLS: string[] = [];\n\nconst COMPOUND_LIST = \"https://raw.githubusercontent.com/compound-finance/token-list/master/compound.tokenlist.json\";\nconst UMA_LIST = \"https://umaproject.org/uma.tokenlist.json\";\nconst AAVE_LIST = \"tokenlist.aave.eth\";\nconst SYNTHETIX_LIST = \"synths.snx.eth\";\nconst WRAPPED_LIST = \"wrapped.tokensoft.eth\";\nconst SET_LIST = \"https://raw.githubusercontent.com/SetProtocol/uniswap-tokenlist/main/set.tokenlist.json\";\nconst OPYN_LIST = \"https://raw.githubusercontent.com/opynfinance/opyn-tokenlist/master/opyn-v1.tokenlist.json\";\nconst ROLL_LIST = \"https://app.tryroll.com/tokens.json\";\nconst COINGECKO_LIST = \"https://tokens.coingecko.com/uniswap/all.json\";\nconst CMC_ALL_LIST = \"defi.cmc.eth\";\nconst CMC_STABLECOIN = \"stablecoin.cmc.eth\";\nconst KLEROS_LIST = \"t2crtokens.eth\";\nconst GEMINI_LIST = \"https://www.gemini.com/uniswap/manifest.json\";\n\n// lower index == higher priority for token import\nexport const DEFAULT_LIST_OF_LISTS: string[] = [\n\tCOMPOUND_LIST,\n\tAAVE_LIST,\n\tSYNTHETIX_LIST,\n\tUMA_LIST,\n\tWRAPPED_LIST,\n\tSET_LIST,\n\tOPYN_LIST,\n\tROLL_LIST,\n\tCOINGECKO_LIST,\n\tCMC_ALL_LIST,\n\tCMC_STABLECOIN,\n\tKLEROS_LIST,\n\tGEMINI_LIST,\n\t...UNSUPPORTED_LIST_URLS, // need to load unsupported tokens as well\n];\n\n// default lists to be 'active' aka searched across\nexport const DEFAULT_ACTIVE_LIST_URLS: string[] = [COINGECKO_LIST];\n","export class ConvertBalanceMustNotBeEqualException extends Error {\n\tconstructor(currentEthBalance, newEthBalance) {\n\t\tsuper(\n\t\t\t`Convert ETH/WETH values must not be equal, received: ${currentEthBalance.toString()} and ${newEthBalance.toString()}`\n\t\t);\n\t\t// Set the prototype explicitly.\n\t\tObject.setPrototypeOf(this, ConvertBalanceMustNotBeEqualException.prototype);\n\t}\n}\n","import { useCallback, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { AppDispatch, AppState } from \"../index\";\nimport { addPopup, ApplicationModal, PopupContent, removePopup, setOpenModal } from \"./actions\";\nimport { emitter } from \"../../lib/helper\";\n\nexport function useModalEmitter(callback: any): () => void {\n\treturn useCallback(() => {\n\t\temitter.emit(\"open-modal\", {\n\t\t\taction: () => {\n\t\t\t\tcallback();\n\t\t\t\temitter.emit(\"close-modal\");\n\t\t\t},\n\t\t});\n\t}, [callback]);\n}\n\nexport function useBlockNumber(): number | undefined {\n\tconst { chainId } = useActiveWeb3React();\n\n\treturn useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1]);\n}\n\nexport function useModalOpen(modal: ApplicationModal): boolean {\n\tconst openModal = useSelector((state: AppState) => state.application.openModal);\n\treturn openModal === modal;\n}\n\nexport function useToggleModal(modal: ApplicationModal): () => void {\n\tconst open = useModalOpen(modal);\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst modalEmitter = useModalEmitter(() => dispatch(setOpenModal(null)));\n\treturn useCallback(() => {\n\t\tdispatch(setOpenModal(open ? null : modal));\n\t\tmodalEmitter();\n\t}, [dispatch, modal, open]);\n}\n\nexport function useOpenModal(modal: ApplicationModal): () => void {\n\tconst dispatch = useDispatch<AppDispatch>();\n\treturn useCallback(() => dispatch(setOpenModal(modal)), [dispatch, modal]);\n}\n\nexport function useCloseModals(): () => void {\n\tconst dispatch = useDispatch<AppDispatch>();\n\treturn useCallback(() => dispatch(setOpenModal(null)), [dispatch]);\n}\n\nexport function useWalletModalToggle(): () => void {\n\treturn useToggleModal(ApplicationModal.WALLET);\n}\n\nexport function useToggleSettingsMenu(): () => void {\n\treturn useToggleModal(ApplicationModal.SETTINGS);\n}\n\nexport function useShowClaimPopup(): boolean {\n\treturn useModalOpen(ApplicationModal.CLAIM_POPUP);\n}\n\nexport function useToggleShowClaimPopup(): () => void {\n\treturn useToggleModal(ApplicationModal.CLAIM_POPUP);\n}\n\nexport function useToggleSelfClaimModal(): () => void {\n\treturn useToggleModal(ApplicationModal.SELF_CLAIM);\n}\n\n// returns a function that allows adding a popup\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\n\tconst dispatch = useDispatch();\n\n\treturn useCallback(\n\t\t(content: PopupContent, key?: string) => {\n\t\t\tdispatch(addPopup({ content, key }));\n\t\t},\n\t\t[dispatch]\n\t);\n}\n\n// returns a function that allows removing a popup via its key\nexport function useRemovePopup(): (key: string) => void {\n\tconst dispatch = useDispatch();\n\treturn useCallback(\n\t\t(key: string) => {\n\t\t\tdispatch(removePopup({ key }));\n\t\t},\n\t\t[dispatch]\n\t);\n}\n\n// get the list of active popups\nexport function useActivePopups(): AppState[\"application\"][\"popupList\"] {\n\tconst list = useSelector((state: AppState) => state.application.popupList);\n\treturn useMemo(() => list.filter((item) => item.show), [list]);\n}\n","import {\n\tMAX_AMOUNT_TOKENS_IN_UNITS,\n\tUI_DECIMALS_DISPLAYED_ORDER_SIZE,\n\tUI_DECIMALS_DISPLAYED_PRICE_ETH,\n} from \"../../constants\";\n\nexport const mapCurrencyPairMetaToCurrencyPair = (currencyPair) => {\n\tif (currencyPair.config) {\n\t\treturn {\n\t\t\tbase: currencyPair.base,\n\t\t\tquote: currencyPair.quote,\n\t\t\tconfig: {\n\t\t\t\tbasePrecision:\n\t\t\t\t\tcurrencyPair.config.basePrecision !== undefined\n\t\t\t\t\t\t? Number(currencyPair.config.basePrecision)\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_ORDER_SIZE,\n\t\t\t\tpricePrecision:\n\t\t\t\t\tcurrencyPair.config.pricePrecision !== undefined\n\t\t\t\t\t\t? Number(currencyPair.config.pricePrecision)\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_PRICE_ETH,\n\t\t\t\tminAmount: currencyPair.config.minAmount !== undefined ? currencyPair.config.minAmount : 0,\n\t\t\t\tmaxAmount:\n\t\t\t\t\tcurrencyPair.config.maxAmount !== undefined\n\t\t\t\t\t\t? Number(currencyPair.config.maxAmount)\n\t\t\t\t\t\t: MAX_AMOUNT_TOKENS_IN_UNITS,\n\t\t\t\tquotePrecision:\n\t\t\t\t\tcurrencyPair.config.quotePrecision !== undefined\n\t\t\t\t\t\t? Number(currencyPair.config.quotePrecision)\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_PRICE_ETH,\n\t\t\t},\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\tbase: currencyPair.base,\n\t\t\tquote: currencyPair.quote,\n\t\t\tconfig: {\n\t\t\t\tbasePrecision: UI_DECIMALS_DISPLAYED_ORDER_SIZE,\n\t\t\t\tpricePrecision: UI_DECIMALS_DISPLAYED_PRICE_ETH,\n\t\t\t\tminAmount: 0,\n\t\t\t\tmaxAmount: MAX_AMOUNT_TOKENS_IN_UNITS,\n\t\t\t\tquotePrecision: UI_DECIMALS_DISPLAYED_PRICE_ETH,\n\t\t\t},\n\t\t};\n\t}\n};\n","import { marketFilters } from \"../constants\";\nimport { pairs } from \"../constants\";\nimport BigNumber from \"bignumber.js\";\nimport { mapCurrencyPairMetaToCurrencyPair } from \"../utils/spot/currencyPairMetadata\";\n\nconst allFilter = {\n\ttext: \"ALL\",\n\tvalue: null,\n};\n\nconst TOKENS_MARKET_PRICE_API_ENDPOINT = \"https://api.coingecko.com/api/v3/\";\n\nconst ETH_MARKET_PRICE_API_ENDPOINT =\n\t\"https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd&include_24hr_change=true\";\n\nexport const getMarketFilters = () => {\n\tconst configMarketFilters = marketFilters;\n\tif (!configMarketFilters) {\n\t\treturn [];\n\t} else {\n\t\treturn [...configMarketFilters, allFilter];\n\t}\n};\n\nexport const getMarketPriceEther = async () => {\n\tconst promisePriceEtherResolved = await fetch(ETH_MARKET_PRICE_API_ENDPOINT);\n\tif (promisePriceEtherResolved.status === 200) {\n\t\tconst data = await promisePriceEtherResolved.json();\n\t\tif (data && data.ethereum) {\n\t\t\tconst priceTokenUSD = new BigNumber(data.ethereum.usd);\n\t\t\treturn priceTokenUSD;\n\t\t}\n\t}\n\n\treturn Promise.reject(\"Could not get ETH price\");\n};\n\nexport const marketToString = (currencyPair) => {\n\treturn `${currencyPair.base.toUpperCase()}-${currencyPair.quote.toUpperCase()}`;\n};\n\nlet availableMarkets = [];\nexport const getAvailableMarkets = () => {\n\tif (!availableMarkets.length) {\n\t\tavailableMarkets = pairs.map(mapCurrencyPairMetaToCurrencyPair);\n\t}\n\treturn availableMarkets;\n};\n\nexport const getMarketPriceQuote = async (quoteId) => {\n\tconst promisePriceQuoteResolved = await fetch(\n\t\t`${TOKENS_MARKET_PRICE_API_ENDPOINT}simple/price?ids=${quoteId}&vs_currencies=usd&include_24hr_change=true`\n\t);\n\tif (promisePriceQuoteResolved.status === 200) {\n\t\tconst data = await promisePriceQuoteResolved.json();\n\t\tif (data && data[`quoteId`]) {\n\t\t\tconst priceTokenUSD = new BigNumber(data[`quoteId`].usd);\n\t\t\treturn priceTokenUSD;\n\t\t}\n\t}\n\n\treturn Promise.reject(\"Could not get Quote price\");\n};\n\nexport const getMarketPriceTokens = async (tokensBalance) => {\n\t// Reduce this to only a 1 string, if we have more than 50 tokens this will not work\n\n\tconst accToken = tokensBalance\n\t\t.map((tb) => tb.token)\n\t\t.filter((t) => t.c_id !== null)\n\t\t.map((t) => t.c_id)\n\t\t.reduce((p, c, i) => {\n\t\t\tif (i === 0) {\n\t\t\t\treturn `${c}`;\n\t\t\t} else {\n\t\t\t\treturn `${p},${c}`;\n\t\t\t}\n\t\t});\n\tconst promisePriceTokensResolved = await fetch(\n\t\t`${TOKENS_MARKET_PRICE_API_ENDPOINT}simple/price?ids=${accToken}&vs_currencies=usd&include_24hr_change=true`\n\t);\n\n\tif (promisePriceTokensResolved.status === 200) {\n\t\tconst data = await promisePriceTokensResolved.json();\n\n\t\tif (data) {\n\t\t\tconst tokensPrices = [];\n\t\t\tObject.keys(data).forEach((id) => {\n\t\t\t\tconst priceStats = data[id];\n\t\t\t\tconst ind = tokensBalance.findIndex((tb) => tb.token.c_id === id);\n\t\t\t\tif (ind !== -1) {\n\t\t\t\t\ttokensPrices.push({\n\t\t\t\t\t\tc_id: tokensBalance[ind].token.c_id,\n\t\t\t\t\t\tprice_usd: new BigNumber(priceStats.usd),\n\t\t\t\t\t\tprice_usd_24h_change: new BigNumber(priceStats.usd_24h_change),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn tokensPrices;\n\t\t}\n\t}\n\treturn Promise.reject(\"Could not get Tokens price\");\n};\n","import { ChainId } from \"@uniswap/sdk\";\nimport MULTICALL_ABI from \"./abi.json\";\n\nconst MULTICALL_NETWORKS: { [chainId in ChainId]: string } = {\n\t[ChainId.MAINNET]: \"0xeefBa1e63905eF1D7ACbA5a8513c70307C1cE441\",\n\t[ChainId.ROPSTEN]: \"0x53C43764255c17BD724F74c4eF150724AC50a3ed\",\n\t[ChainId.KOVAN]: \"0x2cc8688C5f75E365aaEEb4ea8D6a480405A48D2A\",\n\t[ChainId.RINKEBY]: \"0x42Ad527de7d4e9d9d011aC45B31D8551f8Fe9821\",\n\t[ChainId.GÃ–RLI]: \"0x77dCa2C955b15e9dE4dbBCf1246B4B85b651e50e\",\n};\n\nexport { MULTICALL_ABI, MULTICALL_NETWORKS };\n","import { Interface } from \"@ethersproject/abi\";\nimport { ChainId } from \"@uniswap/sdk\";\nimport V1_EXCHANGE_ABI from \"./v1_exchange.json\";\nimport V1_FACTORY_ABI from \"./v1_factory.json\";\n\nconst V1_FACTORY_ADDRESSES: { [chainId in ChainId]: string } = {\n\t[ChainId.MAINNET]: \"0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95\",\n\t[ChainId.ROPSTEN]: \"0x9c83dCE8CA20E9aAF9D3efc003b2ea62aBC08351\",\n\t[ChainId.RINKEBY]: \"0xf5D915570BC477f9B8D6C0E980aA81757A3AaC36\",\n\t[ChainId.GÃ–RLI]: \"0x6Ce570d02D73d4c384b46135E87f8C592A8c86dA\",\n\t[ChainId.KOVAN]: \"0xD3E51Ef092B2845f10401a0159B2B96e8B6c3D30\",\n};\n\nconst V1_FACTORY_INTERFACE = new Interface(V1_FACTORY_ABI);\nconst V1_EXCHANGE_INTERFACE = new Interface(V1_EXCHANGE_ABI);\n\nexport { V1_FACTORY_ADDRESSES, V1_FACTORY_INTERFACE, V1_FACTORY_ABI, V1_EXCHANGE_INTERFACE, V1_EXCHANGE_ABI };\n","import { Contract } from \"@ethersproject/contracts\";\nimport { abi as GOVERNANCE_ABI } from \"@uniswap/governance/build/GovernorAlpha.json\";\nimport { abi as UNI_ABI } from \"@uniswap/governance/build/Uni.json\";\nimport { abi as STAKING_REWARDS_ABI } from \"@uniswap/liquidity-staker/build/StakingRewards.json\";\nimport { abi as MERKLE_DISTRIBUTOR_ABI } from \"@uniswap/merkle-distributor/build/MerkleDistributor.json\";\nimport { ChainId, WETH } from \"@uniswap/sdk\";\nimport { abi as IUniswapV2PairABI } from \"@uniswap/v2-core/build/IUniswapV2Pair.json\";\nimport { useMemo } from \"react\";\nimport { GOVERNANCE_ADDRESS, MERKLE_DISTRIBUTOR_ADDRESS, UNI } from \"../constants\";\nimport {\n\tARGENT_WALLET_DETECTOR_ABI,\n\tARGENT_WALLET_DETECTOR_MAINNET_ADDRESS,\n} from \"../constants/abis/argent-wallet-detector\";\nimport ENS_PUBLIC_RESOLVER_ABI from \"../constants/abis/ens-public-resolver.json\";\nimport ENS_ABI from \"../constants/abis/ens-registrar.json\";\nimport { ERC20_BYTES32_ABI } from \"../constants/abis/erc20\";\nimport ERC20_ABI from \"../constants/abis/erc20.json\";\nimport { MIGRATOR_ABI, MIGRATOR_ADDRESS } from \"../constants/abis/migrator\";\nimport UNISOCKS_ABI from \"../constants/abis/unisocks.json\";\nimport WETH_ABI from \"../constants/abis/weth.json\";\nimport { MULTICALL_ABI, MULTICALL_NETWORKS } from \"../constants/multicall\";\nimport { V1_EXCHANGE_ABI, V1_FACTORY_ABI, V1_FACTORY_ADDRESSES } from \"../constants/v1\";\nimport { getContract } from \"../utils\";\nimport { useActiveWeb3React } from \"./index\";\n\n// returns null on errors\nexport function useContract(address: string | undefined, ABI: any, withSignerIfPossible = true): Contract | null {\n\tconst { library, account } = useActiveWeb3React();\n\n\treturn useMemo(() => {\n\t\tif (!address || !ABI || !library) return null;\n\t\ttry {\n\t\t\treturn getContract(address, ABI, library, withSignerIfPossible && account ? account : undefined);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to get contract\", error);\n\t\t\treturn null;\n\t\t}\n\t}, [address, ABI, library, withSignerIfPossible, account]);\n}\n\nexport function useV1FactoryContract(): Contract | null {\n\tconst { chainId } = useActiveWeb3React();\n\treturn useContract(chainId && V1_FACTORY_ADDRESSES[chainId], V1_FACTORY_ABI, false);\n}\n\nexport function useV2MigratorContract(): Contract | null {\n\treturn useContract(MIGRATOR_ADDRESS, MIGRATOR_ABI, true);\n}\n\nexport function useV1ExchangeContract(address?: string, withSignerIfPossible?: boolean): Contract | null {\n\treturn useContract(address, V1_EXCHANGE_ABI, withSignerIfPossible);\n}\n\nexport function useTokenContract(tokenAddress?: string, withSignerIfPossible?: boolean): Contract | null {\n\treturn useContract(tokenAddress, ERC20_ABI, withSignerIfPossible);\n}\n\nexport function useWETHContract(withSignerIfPossible?: boolean): Contract | null {\n\tconst { chainId } = useActiveWeb3React();\n\treturn useContract(chainId ? WETH[chainId].address : undefined, WETH_ABI, withSignerIfPossible);\n}\n\nexport function useArgentWalletDetectorContract(): Contract | null {\n\tconst { chainId } = useActiveWeb3React();\n\treturn useContract(\n\t\tchainId === ChainId.MAINNET ? ARGENT_WALLET_DETECTOR_MAINNET_ADDRESS : undefined,\n\t\tARGENT_WALLET_DETECTOR_ABI,\n\t\tfalse\n\t);\n}\n\nexport function useENSRegistrarContract(withSignerIfPossible?: boolean): Contract | null {\n\tconst { chainId } = useActiveWeb3React();\n\tlet address: string | undefined;\n\tif (chainId) {\n\t\tswitch (chainId) {\n\t\t\tcase ChainId.MAINNET:\n\t\t\tcase ChainId.GÃ–RLI:\n\t\t\tcase ChainId.ROPSTEN:\n\t\t\tcase ChainId.RINKEBY:\n\t\t\t\taddress = \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\";\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn useContract(address, ENS_ABI, withSignerIfPossible);\n}\n\nexport function useENSResolverContract(address: string | undefined, withSignerIfPossible?: boolean): Contract | null {\n\treturn useContract(address, ENS_PUBLIC_RESOLVER_ABI, withSignerIfPossible);\n}\n\nexport function useBytes32TokenContract(tokenAddress?: string, withSignerIfPossible?: boolean): Contract | null {\n\treturn useContract(tokenAddress, ERC20_BYTES32_ABI, withSignerIfPossible);\n}\n\nexport function usePairContract(pairAddress?: string, withSignerIfPossible?: boolean): Contract | null {\n\treturn useContract(pairAddress, IUniswapV2PairABI, withSignerIfPossible);\n}\n\nexport function useMulticallContract(): Contract | null {\n\tconst { chainId } = useActiveWeb3React();\n\treturn useContract(chainId && MULTICALL_NETWORKS[chainId], MULTICALL_ABI, false);\n}\n\nexport function useMerkleDistributorContract(): Contract | null {\n\tconst { chainId } = useActiveWeb3React();\n\treturn useContract(chainId ? MERKLE_DISTRIBUTOR_ADDRESS[chainId] : undefined, MERKLE_DISTRIBUTOR_ABI, true);\n}\n\nexport function useGovernanceContract(): Contract | null {\n\treturn useContract(GOVERNANCE_ADDRESS, GOVERNANCE_ABI, true);\n}\n\nexport function useUniContract(): Contract | null {\n\tconst { chainId } = useActiveWeb3React();\n\treturn useContract(chainId ? UNI[chainId].address : undefined, UNI_ABI, true);\n}\n\nexport function useStakingContract(stakingAddress?: string, withSignerIfPossible?: boolean): Contract | null {\n\treturn useContract(stakingAddress, STAKING_REWARDS_ABI, withSignerIfPossible);\n}\n\nexport function useSocksController(): Contract | null {\n\tconst { chainId } = useActiveWeb3React();\n\treturn useContract(\n\t\tchainId === ChainId.MAINNET ? \"0x65770b5283117639760beA3F867b69b3697a91dd\" : undefined,\n\t\tUNISOCKS_ABI,\n\t\tfalse\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/question-mark.6ec5382b.svg\";","export default __webpack_public_path__ + \"static/media/copy.ca912e04.svg\";","export default __webpack_public_path__ + \"static/media/close.745b860f.svg\";","import { CHAIN_ID } from \"../../constants\";\n\nexport enum ChainId {\n\tMainnet = 1,\n\tRopsten = 3,\n\tKovan = 42,\n\tGanache = 1337,\n}\n\nexport const AAVE_ETH_TOKEN = \"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\";\n\nexport const LENDING_POOL_ADDRESS = (() => {\n\tswitch (CHAIN_ID) {\n\t\tcase ChainId.Mainnet:\n\t\t\treturn \"0x398eC7346DcD622eDc5ae82352F02bE94C62d119\";\n\t\tcase ChainId.Ropsten:\n\t\t\treturn \"0x9E5C7835E4b13368fd628196C4f1c6cEc89673Fa\";\n\t\tcase ChainId.Kovan:\n\t\t\treturn \"\";\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n})();\n\nexport const AAVE_READER_ADDRESS = (() => {\n\tswitch (CHAIN_ID) {\n\t\tcase ChainId.Mainnet:\n\t\t\treturn \"0xc3dA51901031F2A3FD9a2927d7Cc0Afc77CDb93e\";\n\t\tcase ChainId.Ropsten:\n\t\t\treturn \"0x16E2Efcd37E1ac7f7D5531876BbbB7cDC83aD118\";\n\t\tcase ChainId.Kovan:\n\t\t\treturn \"\";\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n})();\n\nexport const LENDING_POOL_CORE_ADDRESS = (() => {\n\tswitch (CHAIN_ID) {\n\t\tcase ChainId.Mainnet:\n\t\t\treturn \"0x3dfd23A6c5E8BbcFc9581d2E864a68feb6a076d3\";\n\t\tcase ChainId.Ropsten:\n\t\t\treturn \"0x4295Ee704716950A4dE7438086d6f0FBC0BA9472\";\n\t\tcase ChainId.Kovan:\n\t\t\treturn \"\";\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n})();\n\nexport const AAVE_GRAPH_URI = (() => {\n\tswitch (CHAIN_ID) {\n\t\tcase ChainId.Mainnet:\n\t\t\treturn \"https://api.thegraph.com/subgraphs/name/aave/protocol-raw\";\n\t\tcase ChainId.Ropsten:\n\t\t\treturn \"https://api.thegraph.com/subgraphs/name/aave/protocol-ropsten-raw\";\n\t\tcase ChainId.Kovan:\n\t\t\treturn \"\";\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n})();\n","import { ActionCreatorWithPayload, createAction } from \"@reduxjs/toolkit\";\nimport { TokenList, Version } from \"@uniswap/token-lists\";\n\nexport const fetchTokenList: Readonly<{\n\tpending: ActionCreatorWithPayload<{ url: string; requestId: string }>;\n\tfulfilled: ActionCreatorWithPayload<{ url: string; tokenList: TokenList; requestId: string }>;\n\trejected: ActionCreatorWithPayload<{ url: string; errorMessage: string; requestId: string }>;\n}> = {\n\tpending: createAction(\"lists/fetchTokenList/pending\"),\n\tfulfilled: createAction(\"lists/fetchTokenList/fulfilled\"),\n\trejected: createAction(\"lists/fetchTokenList/rejected\"),\n};\n// add and remove from list options\nexport const addList = createAction<string>(\"lists/addList\");\nexport const removeList = createAction<string>(\"lists/removeList\");\n\n// select which lists to search across from loaded lists\nexport const enableList = createAction<string>(\"lists/enableList\");\nexport const disableList = createAction<string>(\"lists/disableList\");\n\n// versioning\nexport const acceptListUpdate = createAction<string>(\"lists/acceptListUpdate\");\nexport const rejectVersionUpdate = createAction<Version>(\"lists/rejectVersionUpdate\");\n","export default __webpack_public_path__ + \"static/media/CAD.7a52d60f.svg\";","export default __webpack_public_path__ + \"static/media/GBP.70e4e37f.svg\";","export default __webpack_public_path__ + \"static/media/RUB.8e2dcc8d.svg\";","export default __webpack_public_path__ + \"static/media/JPY.ccbe3ff8.svg\";","export default __webpack_public_path__ + \"static/media/CHF.ddb7667f.svg\";","export default __webpack_public_path__ + \"static/media/EUR.5f90c11a.svg\";","export default __webpack_public_path__ + \"static/media/INR.39299590.svg\";","export default __webpack_public_path__ + \"static/media/CNY.94a91784.svg\";","export default __webpack_public_path__ + \"static/media/NZD.7e40f99f.svg\";","export default __webpack_public_path__ + \"static/media/USD.923a5cc9.svg\";","export default __webpack_public_path__ + \"static/media/SGD.f7c365a4.svg\";","export default __webpack_public_path__ + \"static/media/AUD.5c483105.svg\";","export default __webpack_public_path__ + \"static/media/KRW.c15a504e.svg\";","export default __webpack_public_path__ + \"static/media/BTC.c9f33461.svg\";","export default __webpack_public_path__ + \"static/media/ETH.16054b95.svg\";","export default __webpack_public_path__ + \"static/media/LINK.0f9c90de.svg\";","export default __webpack_public_path__ + \"static/media/banner_1.e9058663.png\";","export default __webpack_public_path__ + \"static/media/banner_2.99e28e8f.png\";","export default __webpack_public_path__ + \"static/media/banner_3.50228994.png\";","export default __webpack_public_path__ + \"static/media/banner_4.e9058663.png\";","export default __webpack_public_path__ + \"static/media/banner_5.99e28e8f.png\";","export default __webpack_public_path__ + \"static/media/banner_6.50228994.png\";","import { ChainId, Pair, Token } from \"@uniswap/sdk\";\nimport flatMap from \"lodash.flatmap\";\nimport { useCallback, useMemo } from \"react\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { BASES_TO_TRACK_LIQUIDITY_FOR, PINNED_PAIRS } from \"../../constants\";\n\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useAllTokens } from \"../../hooks/Tokens\";\nimport { AppDispatch, AppState } from \"../index\";\nimport {\n\taddSerializedPair,\n\taddSerializedToken,\n\tremoveSerializedToken,\n\tSerializedPair,\n\tSerializedToken,\n\tupdateUserDarkMode,\n\tupdateUserDeadline,\n\tupdateUserExpertMode,\n\tupdateUserSlippageTolerance,\n\ttoggleURLWarning,\n} from \"./actions\";\n\nfunction serializeToken(token: Token): SerializedToken {\n\treturn {\n\t\tchainId: token.chainId,\n\t\taddress: token.address,\n\t\tdecimals: token.decimals,\n\t\tsymbol: token.symbol,\n\t\tname: token.name,\n\t};\n}\n\nfunction deserializeToken(serializedToken: SerializedToken): Token {\n\treturn new Token(\n\t\tserializedToken.chainId,\n\t\tserializedToken.address,\n\t\tserializedToken.decimals,\n\t\tserializedToken.symbol,\n\t\tserializedToken.name\n\t);\n}\n\nexport function useIsDarkMode(): boolean {\n\tconst { userDarkMode, matchesDarkMode } = useSelector<\n\t\tAppState,\n\t\t{ userDarkMode: boolean | null; matchesDarkMode: boolean }\n\t>(\n\t\t({ user: { matchesDarkMode, userDarkMode } }) => ({\n\t\t\tuserDarkMode,\n\t\t\tmatchesDarkMode,\n\t\t}),\n\t\tshallowEqual\n\t);\n\n\treturn userDarkMode === null ? matchesDarkMode : userDarkMode;\n}\n\nexport function useDarkModeManager(): [boolean, () => void] {\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst darkMode = useIsDarkMode();\n\n\tconst toggleSetDarkMode = useCallback(() => {\n\t\tdispatch(updateUserDarkMode({ userDarkMode: !darkMode }));\n\t}, [darkMode, dispatch]);\n\n\treturn [darkMode, toggleSetDarkMode];\n}\n\nexport function useIsExpertMode(): boolean {\n\treturn useSelector<AppState, AppState[\"user\"][\"userExpertMode\"]>((state) => state.user.userExpertMode);\n}\n\nexport function useExpertModeManager(): [boolean, () => void] {\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst expertMode = useIsExpertMode();\n\n\tconst toggleSetExpertMode = useCallback(() => {\n\t\tdispatch(updateUserExpertMode({ userExpertMode: !expertMode }));\n\t}, [expertMode, dispatch]);\n\n\treturn [expertMode, toggleSetExpertMode];\n}\n\nexport function useUserSlippageTolerance(): [number, (slippage: number) => void] {\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst userSlippageTolerance = useSelector<AppState, AppState[\"user\"][\"userSlippageTolerance\"]>((state) => {\n\t\treturn state.user.userSlippageTolerance;\n\t});\n\n\tconst setUserSlippageTolerance = useCallback(\n\t\t(userSlippageTolerance: number) => {\n\t\t\tdispatch(updateUserSlippageTolerance({ userSlippageTolerance }));\n\t\t},\n\t\t[dispatch]\n\t);\n\n\treturn [userSlippageTolerance, setUserSlippageTolerance];\n}\n\nexport function useUserTransactionTTL(): [number, (slippage: number) => void] {\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst userDeadline = useSelector<AppState, AppState[\"user\"][\"userDeadline\"]>((state) => {\n\t\treturn state.user.userDeadline;\n\t});\n\n\tconst setUserDeadline = useCallback(\n\t\t(userDeadline: number) => {\n\t\t\tdispatch(updateUserDeadline({ userDeadline }));\n\t\t},\n\t\t[dispatch]\n\t);\n\n\treturn [userDeadline, setUserDeadline];\n}\n\nexport function useAddUserToken(): (token: Token) => void {\n\tconst dispatch = useDispatch<AppDispatch>();\n\treturn useCallback(\n\t\t(token: Token) => {\n\t\t\tdispatch(addSerializedToken({ serializedToken: serializeToken(token) }));\n\t\t},\n\t\t[dispatch]\n\t);\n}\n\nexport function useRemoveUserAddedToken(): (chainId: number, address: string) => void {\n\tconst dispatch = useDispatch<AppDispatch>();\n\treturn useCallback(\n\t\t(chainId: number, address: string) => {\n\t\t\tdispatch(removeSerializedToken({ chainId, address }));\n\t\t},\n\t\t[dispatch]\n\t);\n}\n\nexport function useUserAddedTokens(): Token[] {\n\tconst { chainId } = useActiveWeb3React();\n\tconst serializedTokensMap = useSelector<AppState, AppState[\"user\"][\"tokens\"]>(({ user: { tokens } }) => tokens);\n\n\treturn useMemo(() => {\n\t\tif (!chainId) return [];\n\t\treturn Object.values(serializedTokensMap[chainId as ChainId] ?? {}).map(deserializeToken);\n\t}, [serializedTokensMap, chainId]);\n}\n\nfunction serializePair(pair: Pair): SerializedPair {\n\treturn {\n\t\ttoken0: serializeToken(pair.token0),\n\t\ttoken1: serializeToken(pair.token1),\n\t};\n}\n\nexport function usePairAdder(): (pair: Pair) => void {\n\tconst dispatch = useDispatch<AppDispatch>();\n\n\treturn useCallback(\n\t\t(pair: Pair) => {\n\t\t\tdispatch(addSerializedPair({ serializedPair: serializePair(pair) }));\n\t\t},\n\t\t[dispatch]\n\t);\n}\n\nexport function useURLWarningVisible(): boolean {\n\treturn useSelector((state: AppState) => state.user.URLWarningVisible);\n}\n\nexport function useURLWarningToggle(): () => void {\n\tconst dispatch = useDispatch();\n\treturn useCallback(() => dispatch(toggleURLWarning()), [dispatch]);\n}\n\n/**\n * Given two tokens return the liquidity token that represents its liquidity shares\n * @param tokenA one of the two tokens\n * @param tokenB the other token\n */\nexport function toV2LiquidityToken([tokenA, tokenB]: [Token, Token]): Token {\n\treturn new Token(tokenA.chainId, Pair.getAddress(tokenA, tokenB), 18, \"UNI-V2\", \"Uniswap V2\");\n}\n\n/**\n * Returns all the pairs of tokens that are tracked by the user for the current chain ID.\n */\nexport function useTrackedTokenPairs(): [Token, Token][] {\n\tconst { chainId } = useActiveWeb3React();\n\tconst tokens = useAllTokens();\n\n\t// pinned pairs\n\tconst pinnedPairs = useMemo(() => (chainId ? PINNED_PAIRS[chainId] ?? [] : []), [chainId]);\n\n\t// pairs for every token against every base\n\tconst generatedPairs: [Token, Token][] = useMemo(\n\t\t() =>\n\t\t\tchainId\n\t\t\t\t? flatMap(Object.keys(tokens), (tokenAddress) => {\n\t\t\t\t\t\tconst token = tokens[tokenAddress];\n\t\t\t\t\t\t// for each token on the current chain,\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t// loop though all bases on the current chain\n\t\t\t\t\t\t\t(BASES_TO_TRACK_LIQUIDITY_FOR[chainId] ?? [])\n\t\t\t\t\t\t\t\t// to construct pairs of the given token with each base\n\t\t\t\t\t\t\t\t.map((base) => {\n\t\t\t\t\t\t\t\t\tif (base.address === token.address) {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn [base, token];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.filter((p): p is [Token, Token] => p !== null)\n\t\t\t\t\t\t);\n\t\t\t\t  })\n\t\t\t\t: [],\n\t\t[tokens, chainId]\n\t);\n\n\t// pairs saved by users\n\tconst savedSerializedPairs = useSelector<AppState, AppState[\"user\"][\"pairs\"]>(({ user: { pairs } }) => pairs);\n\n\tconst userPairs: [Token, Token][] = useMemo(() => {\n\t\tif (!chainId || !savedSerializedPairs) return [];\n\t\tconst forChain = savedSerializedPairs[chainId];\n\t\tif (!forChain) return [];\n\n\t\treturn Object.keys(forChain).map((pairId) => {\n\t\t\treturn [deserializeToken(forChain[pairId].token0), deserializeToken(forChain[pairId].token1)];\n\t\t});\n\t}, [savedSerializedPairs, chainId]);\n\n\tconst combinedList = useMemo(() => userPairs.concat(generatedPairs).concat(pinnedPairs), [\n\t\tgeneratedPairs,\n\t\tpinnedPairs,\n\t\tuserPairs,\n\t]);\n\n\treturn useMemo(() => {\n\t\t// dedupes pairs of tokens in the combined list\n\t\tconst keyed = combinedList.reduce<{ [key: string]: [Token, Token] }>((memo, [tokenA, tokenB]) => {\n\t\t\tconst sorted = tokenA.sortsBefore(tokenB);\n\t\t\tconst key = sorted ? `${tokenA.address}:${tokenB.address}` : `${tokenB.address}:${tokenA.address}`;\n\t\t\tif (memo[key]) return memo;\n\t\t\tmemo[key] = sorted ? [tokenA, tokenB] : [tokenB, tokenA];\n\t\t\treturn memo;\n\t\t}, {});\n\n\t\treturn Object.keys(keyed).map((key) => keyed[key]);\n\t}, [combinedList]);\n}\n","import { ContractWrappers } from \"@0x/contract-wrappers\";\nimport { CHAIN_ID } from \"../../constants\";\n\nlet contractWrappers;\nexport const getContractWrappers = async (library) => {\n\tif (!contractWrappers) {\n\t\tcontractWrappers = new ContractWrappers(library, { chainId: CHAIN_ID });\n\t}\n\treturn contractWrappers;\n};\n","import { getKnownTokens } from \"../known_tokens\";\nimport { OrderSide } from \"../../constants\";\nimport BigNumber from \"bignumber.js\";\n\nexport const mapRelayerFillToFill = (fill) => {\n\tconst known_tokens = getKnownTokens();\n\treturn {\n\t\tid: fill.id,\n\t\tamountQuote: new BigNumber(fill.filledTokenQuoteAmount),\n\t\tamountBase: new BigNumber(fill.filledTokenBaseAmount),\n\t\ttokenQuote: known_tokens.getTokenByAddress(fill.tokenQuoteAddress),\n\t\ttokenBase: known_tokens.getTokenByAddress(fill.tokenBaseAddress),\n\t\tside: fill.side === \"BUY\" ? OrderSide.Buy : OrderSide.Sell,\n\t\tprice: fill.price,\n\t\ttimestamp: new Date(Number(fill.created_at)),\n\t\tmakerAddress: fill.makerAddress,\n\t\ttakerAddress: fill.takerAddress,\n\t\tmarket: fill.pair,\n\t};\n};\n","import { NETWORK_NAME } from \"../../constants\";\n\nexport const errorsBuySell = {\n\tethLack: \"You donâ€™t have enough ETH...\",\n\tzrxLack: \"You donâ€™t have enough ZRX to pay fees...\",\n};\n\nexport const errorsWallet = {\n\tmmLoading: \"Please wait while we load your wallet\",\n\tmmConnect: \"Click to Connect MetaMask\",\n\tmmLocked: \"Metamask Locked\",\n\tmmNotInstalled: \"Metamask not installed\",\n\tmmGetExtension: \"Get Chrome Extension \",\n\tmmWrongNetwork: `Wrong network: switch to ${NETWORK_NAME}`,\n};\n\n// Receives an string with an error JSON object an returns the JSON Object or null if does not exist\nexport const getErrorResponseFrom0xConnectErrorMessage = (str) => {\n\tconst firstOpen = str.indexOf(\"{\");\n\tconst lastClose = str.lastIndexOf(\"}\") + 1;\n\tlet candidate;\n\tif (lastClose <= firstOpen) {\n\t\treturn null;\n\t}\n\ttry {\n\t\tcandidate = str.substring(firstOpen, lastClose);\n\t\treturn JSON.parse(candidate);\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n","import { getErrorResponseFrom0xConnectErrorMessage } from \"./error_messages\";\n\nimport { RELAYER_ERR } from \"./common\";\n\nexport class RelayerException extends Error {\n\tconstructor(m) {\n\t\t// The error object comes from the relayer as a string, we convert it to JSON before displaying it\n\t\tlet errorMsg = m;\n\t\tconst errorObject = getErrorResponseFrom0xConnectErrorMessage(m);\n\t\tif (errorObject) {\n\t\t\t// Once it's converted, we extract the error msg to display\n\t\t\tconst reasonUnformated = errorObject.validationErrors[0].reason;\n\t\t\terrorMsg = reasonUnformated ? reasonUnformated.split(\"_\").join(\" \") : RELAYER_ERR;\n\t\t}\n\t\tsuper(errorMsg);\n\t\t// Set the prototype explicitly.\n\t\tObject.setPrototypeOf(this, RelayerException.prototype);\n\t}\n}\n","import { createAction } from \"@reduxjs/toolkit\";\nimport { FEE_PERCENTAGE, FEE_RECIPIENT, OrderSide, ServerState, ZERO } from \"../../constants\";\nimport { getKnownTokens, getWethAssetData, isWeth, isWhackd } from \"../../utils/known_tokens\";\nimport { getMarketFillsFromRelayer, getRelayer, startWebsocketMarketsSubscription } from \"../../common/relayer\";\nimport { marketToString } from \"../../common/markets\";\nimport { mapRelayerFillToFill } from \"../../utils/spot/fills\";\nimport { addMarketFills } from \"../spotUI/actions\";\nimport BigNumber from \"bignumber.js\";\nimport { getCurrencyPairByTokensSymbol } from \"../../utils/spot/knownCurrencyPair\";\nimport { unitsInTokenAmount } from \"../../utils/spot/tokens\";\nimport {\n\tbuildLimitOrder,\n\tbuildMarketLimitMatchingOrders,\n\tbuildMarketOrders,\n\tcalculateWorstCaseProtocolFee,\n\tcancelSignedOrder,\n\tgetAllOrdersAsUIOrders,\n\tgetUserOrdersAsUIOrders,\n\tsumTakerAssetFillableOrders,\n} from \"../../utils/spot/orders\";\nimport { getExpirationTimeOrdersFromConfig, todayInSeconds } from \"../../utils/spot/timeUtils\";\nimport {\n\tgetBaseToken,\n\tgetFeePercentage,\n\tgetFeeRecipient,\n\tgetGasInfo,\n\tgetMarketMakerStats,\n\tgetOpenBuyOrders,\n\tgetOpenSellOrders,\n\tgetQuoteToken,\n} from \"../selectors\";\nimport { getContractWrappers } from \"../../utils/spot/contractWrapper\";\nimport { RelayerException } from \"../../lib/exceptions/relayer\";\nimport { INSUFFICIENT_ORDERS_TO_FILL_AMOUNT_ERR } from \"../../lib/exceptions/common\";\nimport { InsufficientOrdersAmountException } from \"../../lib/exceptions/order\";\nimport { setMarketMakerStats } from \"../spot/actions\";\n\nexport const setOrderBookState = createAction(\"relayer/ORDERBOOK_STATE_set\");\n\nexport const setMarketFillState = createAction(\"relayer/MARKET_FILLS_STATE_set\");\n\nexport const setOrders = createAction(\"relayer/ORDERS_set\");\n\nexport const setUserOrders = createAction(\"relayer/USER_ORDERS_set\");\n\nexport const setMarketsStatsState = createAction(\"relayer/MARKET_STATS_STATE_set\");\n\nexport const setMinOrderExpireTimeOnBooks = createAction(\"relayer/MIN_ORDER_EXPIRE_TIME_ON_BOOKS_set\");\n\nexport const fetchPastMarketFills = () => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst currencyPair = state.spot.currencyPair;\n\t\tconst market = marketToString(currencyPair);\n\t\ttry {\n\t\t\tconst marketFillsResponse = await getMarketFillsFromRelayer(market);\n\t\t\tconst known_tokens = getKnownTokens();\n\n\t\t\tif (marketFillsResponse) {\n\t\t\t\tconst fills = marketFillsResponse.records;\n\t\t\t\tif (fills.length > 0) {\n\t\t\t\t\tconst filteredFills = fills\n\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t(f) =>\n\t\t\t\t\t\t\t\tknown_tokens.isKnownAddress(f.tokenQuoteAddress) &&\n\t\t\t\t\t\t\t\tknown_tokens.isKnownAddress(f.tokenBaseAddress)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.map(mapRelayerFillToFill);\n\t\t\t\t\tif (filteredFills && filteredFills.length > 0) {\n\t\t\t\t\t\tconst marketsFill = {};\n\t\t\t\t\t\tfilteredFills.forEach((f) => {\n\t\t\t\t\t\t\tif (marketsFill[f.market]) {\n\t\t\t\t\t\t\t\tmarketsFill[f.market].push(f);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmarketsFill[f.market] = [f];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdispatch(addMarketFills(marketsFill));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdispatch(setMarketFillState(ServerState.Done));\n\t\t} catch (error) {\n\t\t\tdispatch(setMarketFillState(ServerState.Error));\n\t\t}\n\t};\n};\n\nexport const getAllOrders = (account, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst baseToken = state.spot.baseToken;\n\t\tconst quoteToken = state.spot.quoteToken;\n\t\tconst minOrderExpireTimeOnBooks = state.relayer.minOrderExpireTimeOnBooks;\n\t\tconst makerAddresses = state.spot.makerAddresses;\n\t\ttry {\n\t\t\tlet uiOrders = [];\n\t\t\t// filter orders that will expire to avoid problems on confirmation but not filter\n\t\t\t//  user orders they maybe wanna cancel them\n\t\t\tconst filterExpiredOrdersOnBook = (uiOrder) => {\n\t\t\t\tif (\n\t\t\t\t\taccount &&\n\t\t\t\t\t(uiOrder.rawOrder.makerAddress.toLowerCase() === account ||\n\t\t\t\t\t\tuiOrder.rawOrder.takerAddress.toLowerCase() === account)\n\t\t\t\t) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tminOrderExpireTimeOnBooks &&\n\t\t\t\t\tuiOrder.rawOrder.expirationTimeSeconds.minus(minOrderExpireTimeOnBooks).gt(todayInSeconds())\n\t\t\t\t) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t};\n\t\t\t// filter orders that not meet the minimum defined, not filter user orders\n\t\t\tconst minSizeOrdersOnBook = (uiOrder) => {\n\t\t\t\tif (\n\t\t\t\t\taccount &&\n\t\t\t\t\t(uiOrder.rawOrder.makerAddress.toLowerCase() === account ||\n\t\t\t\t\t\tuiOrder.rawOrder.takerAddress.toLowerCase() === account)\n\t\t\t\t) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tconst currencyPair = getCurrencyPairByTokensSymbol(baseToken.symbol, quoteToken.symbol);\n\t\t\t\tconst minAmountToken = unitsInTokenAmount(\n\t\t\t\t\tnew BigNumber(currencyPair.config.minAmount).toString(),\n\t\t\t\t\tbaseToken.decimals\n\t\t\t\t);\n\n\t\t\t\tif (uiOrder.filled && uiOrder.size.minus(uiOrder.filled).lt(minAmountToken)) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// tslint:disable-next-line:prefer-conditional-expression\n\t\t\tuiOrders = (await getAllOrdersAsUIOrders(baseToken, quoteToken, makerAddresses, library))\n\t\t\t\t.filter(filterExpiredOrdersOnBook)\n\t\t\t\t.filter(minSizeOrdersOnBook);\n\t\t\tdispatch(setOrders(uiOrders));\n\t\t\tdispatch(setOrderBookState(ServerState.Done));\n\t\t} catch (err) {\n\t\t\tdispatch(setOrderBookState(ServerState.Error));\n\t\t}\n\t};\n};\n\nexport const getUserOrders = (account, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst baseToken = state.spot.baseToken;\n\t\tconst quoteToken = state.spot.quoteToken;\n\n\t\ttry {\n\t\t\tconst myUIOrders = await getUserOrdersAsUIOrders(baseToken, quoteToken, account, library);\n\t\t\tdispatch(setUserOrders(myUIOrders));\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n};\n\nexport const getOrderbookAndUserOrders = (account, library) => {\n\treturn async (dispatch) => {\n\t\t// tslint:disable-next-line:no-floating-promises\n\t\tdispatch(getAllOrders(account, library));\n\t\t// tslint:disable-next-line:no-floating-promises\n\t\tdispatch(getUserOrders(account, library));\n\t};\n};\n\nexport const fetchTakerAndMakerFee = (amount, price, side, account, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst ethAccount = account;\n\t\tconst baseToken = getBaseToken(state);\n\t\tconst quoteToken = getQuoteToken(state);\n\t\tconst contractWrappers = await getContractWrappers(library);\n\n\t\tconst order = await buildLimitOrder(\n\t\t\t{\n\t\t\t\taccount: ethAccount,\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\tbaseTokenAddress: baseToken.address,\n\t\t\t\tquoteTokenAddress: quoteToken.address,\n\t\t\t\texchangeAddress: contractWrappers.exchange.address,\n\t\t\t},\n\t\t\tside,\n\t\t\tgetExpirationTimeOrdersFromConfig()\n\t\t);\n\n\t\tconst { makerFee, takerFee, makerFeeAssetData, takerFeeAssetData } = order;\n\n\t\treturn {\n\t\t\tmakerFee,\n\t\t\ttakerFee,\n\t\t\tmakerFeeAssetData,\n\t\t\ttakerFeeAssetData,\n\t\t};\n\t};\n};\n\nexport const submitLimitOrder = (signedOrder) => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst submitResult = await getRelayer().submitOrderAsync(signedOrder);\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(getOrderbookAndUserOrders());\n\n\t\t\treturn submitResult;\n\t\t} catch (error) {\n\t\t\tthrow new RelayerException(error.message);\n\t\t}\n\t};\n};\n\nexport const submitLimitMatchingOrder = (amount, price, side, ethAccount, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst gasInfo = getGasInfo(state);\n\t\tconst gasPrice = gasInfo.gasPriceInWei;\n\t\tconst baseToken = getBaseToken(state);\n\t\tconst feePercentange = Number(getFeePercentage(state)) || FEE_PERCENTAGE;\n\t\tconst feeRecipient = getFeeRecipient(state) || FEE_RECIPIENT;\n\t\tconst isBuy = side === OrderSide.Buy;\n\t\tconst allOrders = isBuy ? getOpenSellOrders(state) : getOpenBuyOrders(state);\n\n\t\tconst { ordersToFill, amounts, remainingAmount } = buildMarketLimitMatchingOrders(\n\t\t\t{\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\torders: allOrders,\n\t\t\t},\n\t\t\tside\n\t\t);\n\n\t\tif (ordersToFill.length > 0) {\n\t\t\tconst contractWrappers = await getContractWrappers(library);\n\t\t\tconst quoteToken = getQuoteToken(state);\n\n\t\t\tconst ethAmountRequired = amounts.reduce((total, currentValue) => {\n\t\t\t\treturn total.plus(currentValue);\n\t\t\t}, ZERO);\n\t\t\tconst wethAssetData = getWethAssetData();\n\t\t\tlet takerWethFee = new BigNumber(0);\n\n\t\t\tfor (const or of ordersToFill) {\n\t\t\t\tif (or.takerFeeAssetData.toLowerCase() === wethAssetData && or.takerFee.gt(0)) {\n\t\t\t\t\ttakerWethFee = takerWethFee.plus(or.takerFee);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst protocolFee = calculateWorstCaseProtocolFee(ordersToFill, gasPrice);\n\t\t\t// const feeAmount = ordersToFill.map(o => o.makerFee).reduce((p, c) => p.plus(c));\n\t\t\tconst affiliateFeeAmount = ethAmountRequired\n\t\t\t\t.plus(protocolFee)\n\t\t\t\t.multipliedBy(feePercentange)\n\t\t\t\t.integerValue(BigNumber.ROUND_UP);\n\n\t\t\tconst totalEthAmount = ethAmountRequired\n\t\t\t\t.plus(protocolFee.multipliedBy(1.3))\n\t\t\t\t.plus(affiliateFeeAmount)\n\t\t\t\t.plus(takerWethFee);\n\n\t\t\t// HACK(dekz): Forwarder not currently deployed in Ganache\n\t\t\tconst NULL_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n\t\t\tconst isMarketBuyForwarder =\n\t\t\t\tisBuy &&\n\t\t\t\tisWeth(quoteToken.symbol) &&\n\t\t\t\t!isWhackd(baseToken.symbol) &&\n\t\t\t\tcontractWrappers.forwarder.address !== NULL_ADDRESS;\n\t\t\tconst orderSignatures = ordersToFill.map((o) => o.signature);\n\n\t\t\tlet txHash;\n\t\t\ttry {\n\t\t\t\tif (isMarketBuyForwarder) {\n\t\t\t\t\ttxHash = await contractWrappers.forwarder\n\t\t\t\t\t\t.marketBuyOrdersWithEth(\n\t\t\t\t\t\t\tordersToFill,\n\t\t\t\t\t\t\tamount,\n\t\t\t\t\t\t\torderSignatures,\n\t\t\t\t\t\t\t[affiliateFeeAmount],\n\t\t\t\t\t\t\t[feeRecipient]\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.sendTransactionAsync({\n\t\t\t\t\t\t\tfrom: ethAccount,\n\t\t\t\t\t\t\tvalue: totalEthAmount,\n\t\t\t\t\t\t\tgas: 1000000,\n\t\t\t\t\t\t\tgasPrice,\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (isBuy) {\n\t\t\t\t\t\ttxHash = await contractWrappers.exchange\n\t\t\t\t\t\t\t.marketBuyOrdersFillOrKill(ordersToFill, amount, orderSignatures)\n\t\t\t\t\t\t\t.sendTransactionAsync({\n\t\t\t\t\t\t\t\tfrom: ethAccount,\n\t\t\t\t\t\t\t\tvalue: protocolFee,\n\t\t\t\t\t\t\t\tgas: 1000000,\n\t\t\t\t\t\t\t\tgasPrice,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttxHash = await contractWrappers.exchange\n\t\t\t\t\t\t\t.marketSellOrdersFillOrKill(ordersToFill, amount, orderSignatures)\n\t\t\t\t\t\t\t.sendTransactionAsync({\n\t\t\t\t\t\t\t\tfrom: ethAccount,\n\t\t\t\t\t\t\t\tvalue: protocolFee,\n\t\t\t\t\t\t\t\tgas: 1000000,\n\t\t\t\t\t\t\t\tgasPrice,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(getOrderbookAndUserOrders());\n\t\t\tconst amountInReturn = sumTakerAssetFillableOrders(side, ordersToFill, amounts);\n\t\t\treturn { txHash, amountInReturn };\n\t\t} else {\n\t\t\treturn { remainingAmount };\n\t\t}\n\t};\n};\n\nexport const submitMarketOrder = (amount, side, ethAccount, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst feeRecipient = getFeeRecipient(state) || FEE_RECIPIENT;\n\t\tconst feePercentange = Number(getFeePercentage(state)) || Number(FEE_PERCENTAGE);\n\t\tconst gasInfo = getGasInfo(state);\n\t\tconst gasPrice = gasInfo.gasPriceInWei;\n\t\tconst isBuy = side === OrderSide.Buy;\n\t\tconst orders = isBuy ? getOpenSellOrders(state) : getOpenBuyOrders(state);\n\t\tconst [ordersToFill, amounts, canBeFilled] = buildMarketOrders(\n\t\t\t{\n\t\t\t\tamount,\n\t\t\t\torders,\n\t\t\t},\n\t\t\tside\n\t\t);\n\n\t\tif (canBeFilled) {\n\t\t\tconst baseToken = getBaseToken(state);\n\t\t\tconst quoteToken = getQuoteToken(state);\n\t\t\tconst contractWrappers = await getContractWrappers(library);\n\t\t\tconst wethAssetData = getWethAssetData();\n\t\t\tlet takerWethFee = new BigNumber(0);\n\t\t\t// Check if the order is fillable using the forwarder\n\t\t\tconst ethAmountRequired = amounts.reduce((total, currentValue) => {\n\t\t\t\treturn total.plus(currentValue);\n\t\t\t}, ZERO);\n\n\t\t\tfor (const or of ordersToFill) {\n\t\t\t\tif (or.takerFeeAssetData.toLowerCase() === wethAssetData && or.takerFee.gt(0)) {\n\t\t\t\t\ttakerWethFee = takerWethFee.plus(or.takerFee);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst protocolFee = calculateWorstCaseProtocolFee(ordersToFill, gasPrice);\n\n\t\t\tconst affiliateFeeAmount = ethAmountRequired\n\t\t\t\t.plus(protocolFee)\n\t\t\t\t.multipliedBy(feePercentange)\n\t\t\t\t.integerValue(BigNumber.ROUND_UP);\n\n\t\t\tconst totalEthAmount = ethAmountRequired\n\t\t\t\t.plus(protocolFee.multipliedBy(1.3))\n\t\t\t\t.plus(affiliateFeeAmount)\n\t\t\t\t.plus(takerWethFee);\n\n\t\t\t// HACK(dekz): Forwarder not currently deployed in Ganache\n\t\t\tconst NULL_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n\t\t\tconst isMarketBuyForwarder =\n\t\t\t\tisBuy &&\n\t\t\t\tisWeth(quoteToken.symbol) &&\n\t\t\t\t// TODO: Remove this workaround, whacked is not working with forwarder\n\t\t\t\t!isWhackd(baseToken.symbol) &&\n\t\t\t\tcontractWrappers.forwarder.address !== NULL_ADDRESS;\n\t\t\tconst orderSignatures = ordersToFill.map((o) => o.signature);\n\t\t\tlet txHash;\n\t\t\ttry {\n\t\t\t\tif (isMarketBuyForwarder) {\n\t\t\t\t\ttxHash = await contractWrappers.forwarder\n\t\t\t\t\t\t.marketBuyOrdersWithEth(\n\t\t\t\t\t\t\tordersToFill,\n\t\t\t\t\t\t\tamount,\n\t\t\t\t\t\t\torderSignatures,\n\t\t\t\t\t\t\t[affiliateFeeAmount],\n\t\t\t\t\t\t\t[feeRecipient]\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.sendTransactionAsync({\n\t\t\t\t\t\t\tfrom: ethAccount,\n\t\t\t\t\t\t\tvalue: totalEthAmount,\n\t\t\t\t\t\t\tgas: 1000000,\n\t\t\t\t\t\t\tgasPrice,\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (isBuy) {\n\t\t\t\t\t\ttxHash = await contractWrappers.exchange\n\t\t\t\t\t\t\t.marketBuyOrdersFillOrKill(ordersToFill, amount, orderSignatures)\n\t\t\t\t\t\t\t.sendTransactionAsync({\n\t\t\t\t\t\t\t\tfrom: ethAccount,\n\t\t\t\t\t\t\t\tvalue: protocolFee.multipliedBy(1.2),\n\t\t\t\t\t\t\t\tgas: 1000000,\n\t\t\t\t\t\t\t\tgasPrice,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttxHash = await contractWrappers.exchange\n\t\t\t\t\t\t\t.marketSellOrdersFillOrKill(ordersToFill, amount, orderSignatures)\n\t\t\t\t\t\t\t.sendTransactionAsync({\n\t\t\t\t\t\t\t\tfrom: ethAccount,\n\t\t\t\t\t\t\t\tvalue: protocolFee.multipliedBy(1.2),\n\t\t\t\t\t\t\t\tgas: 1000000,\n\t\t\t\t\t\t\t\tgasPrice,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthrow e;\n\t\t\t}\n\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(getOrderbookAndUserOrders());\n\n\t\t\tconst amountInReturn = sumTakerAssetFillableOrders(side, ordersToFill, amounts);\n\n\t\t\treturn { txHash, amountInReturn };\n\t\t} else {\n\t\t\twindow.alert(INSUFFICIENT_ORDERS_TO_FILL_AMOUNT_ERR);\n\t\t\tthrow new InsufficientOrdersAmountException();\n\t\t}\n\t};\n};\n\nexport const cancelOrder = (order) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst baseToken = getBaseToken(state);\n\t\tconst gasInfo = getGasInfo(state);\n\t\tconst gasPrice = gasInfo.gasPriceInWei;\n\n\t\tconst tx = cancelSignedOrder(order.rawOrder, gasPrice);\n\n\t\t// tslint:disable-next-line:no-floating-promises no-unsafe-any\n\t\ttx.then((transaction) => {\n\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\tdispatch(getOrderbookAndUserOrders());\n\t\t});\n\t};\n};\n\nexport const subscribeToRelayerWebsocketFillEvents = (ethAccount) => {\n\treturn async (dispatch, getState) => {\n\t\tconst onmessage = (ev) => {\n\t\t\ttry {\n\t\t\t\tconst state = getState();\n\t\t\t\tconst marketMakerStats = getMarketMakerStats(state);\n\t\t\t\tconst fillMessage = JSON.parse(ev.data);\n\t\t\t\tif (fillMessage.action === \"FILL\") {\n\t\t\t\t\tconst fill = fillMessage.event;\n\t\t\t\t\tconst known_tokens = getKnownTokens();\n\t\t\t\t\tif (\n\t\t\t\t\t\tknown_tokens.isKnownAddress(fill.quoteTokenAddress) &&\n\t\t\t\t\t\tknown_tokens.isKnownAddress(fill.baseTokenAddress)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst newFill = {\n\t\t\t\t\t\t\tid: fill.id,\n\t\t\t\t\t\t\tamountQuote: new BigNumber(fill.filledQuoteTokenAmount),\n\t\t\t\t\t\t\tamountBase: new BigNumber(fill.filledBaseTokenAmount),\n\t\t\t\t\t\t\ttokenQuote: known_tokens.getTokenByAddress(fill.quoteTokenAddress),\n\t\t\t\t\t\t\ttokenBase: known_tokens.getTokenByAddress(fill.baseTokenAddress),\n\t\t\t\t\t\t\tside: fill.type === \"BUY\" ? OrderSide.Buy : OrderSide.Sell,\n\t\t\t\t\t\t\tprice: fill.price,\n\t\t\t\t\t\t\ttimestamp: new Date(fill.timestamp),\n\t\t\t\t\t\t\tmakerAddress: fill.makerAddress,\n\t\t\t\t\t\t\ttakerAddress: fill.takerAddress,\n\t\t\t\t\t\t\tmarket: fill.pair,\n\t\t\t\t\t\t};\n\t\t\t\t\t\t/* We are not using 0x market trades anymore\n\n                           dispatch(addFills([newFill]));\n                        */\n\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\taddMarketFills({\n\t\t\t\t\t\t\t\t[fill.pair]: [newFill],\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\t// Compute market maker stats\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (ethAccount && fill.makerAddress.toLowerCase() === ethAccount.toLowerCase()) {\n\t\t\t\t\t\t\t\tconst statsIndex = marketMakerStats.findIndex(\n\t\t\t\t\t\t\t\t\t(m) => m.account === ethAccount && m.market === fill.pair\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconst known_tokens = getKnownTokens();\n\t\t\t\t\t\t\t\tconst wethTokenAddress = known_tokens.getWethToken().address.toLowerCase();\n\t\t\t\t\t\t\t\tif (statsIndex !== -1) {\n\t\t\t\t\t\t\t\t\tconst stats = marketMakerStats[statsIndex];\n\t\t\t\t\t\t\t\t\tconst takerFeePaid =\n\t\t\t\t\t\t\t\t\t\tfill.takerFeeAddress.toLowerCase() === wethTokenAddress\n\t\t\t\t\t\t\t\t\t\t\t? new BigNumber(fill.takerFeePaid)\n\t\t\t\t\t\t\t\t\t\t\t: new BigNumber(0);\n\t\t\t\t\t\t\t\t\tconst makerFeePaid =\n\t\t\t\t\t\t\t\t\t\tfill.makerFeeAddress.toLowerCase() === wethTokenAddress\n\t\t\t\t\t\t\t\t\t\t\t? new BigNumber(fill.makerFeePaid)\n\t\t\t\t\t\t\t\t\t\t\t: new BigNumber(0);\n\n\t\t\t\t\t\t\t\t\tstats.protocolFeesCollected = stats.protocolFeesCollected.plus(\n\t\t\t\t\t\t\t\t\t\tfill.protocolFeePaid\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tstats.totalWethFeesCollected = stats.totalWethFeesCollected.plus(\n\t\t\t\t\t\t\t\t\t\ttakerFeePaid.plus(makerFeePaid)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tstats.totalOrders = stats.totalOrders.plus(1);\n\t\t\t\t\t\t\t\t\tstats.endStats = new Date();\n\t\t\t\t\t\t\t\t\tif (fill.type === \"BUY\") {\n\t\t\t\t\t\t\t\t\t\tstats.totalBuyOrders = stats.totalBuyOrders.plus(1);\n\t\t\t\t\t\t\t\t\t\tstats.medianBuyPrice = stats.medianBuyPrice.plus(\n\t\t\t\t\t\t\t\t\t\t\tnew BigNumber(fill.price)\n\t\t\t\t\t\t\t\t\t\t\t\t.minus(stats.medianBuyPrice)\n\t\t\t\t\t\t\t\t\t\t\t\t.dividedBy(stats.totalBuyOrders)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tstats.totalBuyBaseVolume = stats.totalBuyBaseVolume.plus(\n\t\t\t\t\t\t\t\t\t\t\tfill.filledBaseTokenAmount\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tstats.totalBuyQuoteVolume = stats.totalBuyBaseVolume.plus(\n\t\t\t\t\t\t\t\t\t\t\tfill.filledQuoteTokenAmount\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tstats.totalSellOrders = stats.totalBuyOrders.plus(1);\n\t\t\t\t\t\t\t\t\t\tstats.medianSellPrice = stats.medianSellPrice.plus(\n\t\t\t\t\t\t\t\t\t\t\tnew BigNumber(fill.price)\n\t\t\t\t\t\t\t\t\t\t\t\t.minus(stats.medianSellPrice)\n\t\t\t\t\t\t\t\t\t\t\t\t.dividedBy(stats.totalSellOrders)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tstats.totalSellBaseVolume = stats.totalSellBaseVolume.plus(\n\t\t\t\t\t\t\t\t\t\t\tfill.filledBaseTokenAmount\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tstats.totalSellQuoteVolume = stats.totalSellBaseVolume.plus(\n\t\t\t\t\t\t\t\t\t\t\tfill.filledQuoteTokenAmount\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmarketMakerStats[statsIndex] = stats;\n\t\t\t\t\t\t\t\t\tdispatch(setMarketMakerStats(marketMakerStats));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst takerFeePaid =\n\t\t\t\t\t\t\t\t\t\tfill.takerFeeAddress.toLowerCase() === wethTokenAddress\n\t\t\t\t\t\t\t\t\t\t\t? new BigNumber(fill.takerFeePaid)\n\t\t\t\t\t\t\t\t\t\t\t: new BigNumber(0);\n\t\t\t\t\t\t\t\t\tconst makerFeePaid =\n\t\t\t\t\t\t\t\t\t\tfill.makerFeeAddress.toLowerCase() === wethTokenAddress\n\t\t\t\t\t\t\t\t\t\t\t? new BigNumber(fill.makerFeePaid)\n\t\t\t\t\t\t\t\t\t\t\t: new BigNumber(0);\n\n\t\t\t\t\t\t\t\t\tconst newStats = {\n\t\t\t\t\t\t\t\t\t\tmarket: fill.pair,\n\t\t\t\t\t\t\t\t\t\taccount: ethAccount,\n\t\t\t\t\t\t\t\t\t\tprotocolFeesCollected: new BigNumber(fill.protocolFeePaid || 0),\n\t\t\t\t\t\t\t\t\t\ttotalWethFeesCollected: takerFeePaid.plus(makerFeePaid),\n\t\t\t\t\t\t\t\t\t\ttotalOrders: new BigNumber(1),\n\t\t\t\t\t\t\t\t\t\ttotalBuyOrders: fill.type === \"BUY\" ? new BigNumber(1) : new BigNumber(0),\n\t\t\t\t\t\t\t\t\t\ttotalSellOrders: fill.type === \"SELL\" ? new BigNumber(1) : new BigNumber(0),\n\t\t\t\t\t\t\t\t\t\tmedianBuyPrice:\n\t\t\t\t\t\t\t\t\t\t\tfill.type === \"BUY\" ? new BigNumber(fill.price) : new BigNumber(0),\n\t\t\t\t\t\t\t\t\t\tmedianSellPrice:\n\t\t\t\t\t\t\t\t\t\t\tfill.type === \"SELL\" ? new BigNumber(fill.price) : new BigNumber(0),\n\t\t\t\t\t\t\t\t\t\ttotalBuyBaseVolume:\n\t\t\t\t\t\t\t\t\t\t\tfill.type === \"BUY\"\n\t\t\t\t\t\t\t\t\t\t\t\t? new BigNumber(fill.filledBaseTokenAmount)\n\t\t\t\t\t\t\t\t\t\t\t\t: new BigNumber(0),\n\t\t\t\t\t\t\t\t\t\ttotalBuyQuoteVolume:\n\t\t\t\t\t\t\t\t\t\t\tfill.type === \"BUY\"\n\t\t\t\t\t\t\t\t\t\t\t\t? new BigNumber(fill.filledQuoteTokenAmount)\n\t\t\t\t\t\t\t\t\t\t\t\t: new BigNumber(0),\n\t\t\t\t\t\t\t\t\t\ttotalSellBaseVolume:\n\t\t\t\t\t\t\t\t\t\t\tfill.type === \"SELL\"\n\t\t\t\t\t\t\t\t\t\t\t\t? new BigNumber(fill.filledBaseTokenAmount)\n\t\t\t\t\t\t\t\t\t\t\t\t: new BigNumber(0),\n\t\t\t\t\t\t\t\t\t\ttotalSellQuoteVolume:\n\t\t\t\t\t\t\t\t\t\t\tfill.type === \"SELL\"\n\t\t\t\t\t\t\t\t\t\t\t\t? new BigNumber(fill.filledQuoteTokenAmount)\n\t\t\t\t\t\t\t\t\t\t\t\t: new BigNumber(0),\n\t\t\t\t\t\t\t\t\t\ttotalQuoteVolume: new BigNumber(fill.filledQuoteTokenAmount),\n\t\t\t\t\t\t\t\t\t\ttotalBaseVolume: new BigNumber(fill.filledBaseTokenAmount),\n\t\t\t\t\t\t\t\t\t\tstartingStats: new Date(),\n\t\t\t\t\t\t\t\t\t\tendStats: new Date(),\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tmarketMakerStats.push(newStats);\n\t\t\t\t\t\t\t\t\tdispatch(setMarketMakerStats(marketMakerStats));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t};\n\n\t\ttry {\n\t\t\tstartWebsocketMarketsSubscription(onmessage);\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n","import { getContractWrappers } from \"./contractWrapper\";\nimport { ordersToUIOrders } from \"./uiOrders\";\nimport { assetDataUtils } from \"@0x/order-utils\";\nimport { BigNumber, NULL_BYTES } from \"@0x/utils\";\nimport { getRelayer } from \"../../common/relayer\";\nimport {\n\tCHAIN_ID,\n\tFEE_RECIPIENT,\n\tMAKER_FEE_PERCENTAGE,\n\tOrderSide,\n\tPROTOCOL_FEE_MULTIPLIER,\n\tTAKER_FEE_PERCENTAGE,\n\tUSE_RELAYER_ORDER_CONFIG,\n\tZERO,\n\tZERO_ADDRESS,\n} from \"../../constants\";\nimport { getKnownTokens, getWethAssetData } from \"../known_tokens\";\nimport { tokenAmountInUnitsToBigNumber, unitsInTokenAmount } from \"./tokens\";\nimport { AssetProxyId } from \"@0x/types\";\nimport Web3 from \"web3\";\nimport { Web3Wrapper } from \"@0x/web3-wrapper\";\n\nexport const getAllOrders = async (baseToken, quoteToken, makerAddresses) => {\n\tconst relayer = getRelayer();\n\tconst baseTokenAssetData = assetDataUtils.encodeERC20AssetData(baseToken.address);\n\tconst quoteTokenAssetData = assetDataUtils.encodeERC20AssetData(quoteToken.address);\n\tconst orders = await relayer.getAllOrdersAsync(baseTokenAssetData, quoteTokenAssetData);\n\n\t// if makerAddresses is null or empty do not filter\n\tif (!makerAddresses || makerAddresses.length === 0) {\n\t\treturn orders;\n\t}\n\n\t// filter orders by existence in the makerAddresses array\n\tconst filteredOrders = orders.filter((order) => {\n\t\tconst orderMakerAddress = order.makerAddress;\n\t\treturn makerAddresses.includes(orderMakerAddress);\n\t});\n\treturn filteredOrders;\n};\n\nexport const isBridgeAssetData = (decodedAssetData) => {\n\treturn decodedAssetData.assetProxyId === AssetProxyId.ERC20Bridge;\n};\n\nexport const getAllOrdersAsUIOrders = async (baseToken, quoteToken, makerAddresses, library) => {\n\tconst orders = await getAllOrders(baseToken, quoteToken, makerAddresses);\n\ttry {\n\t\tconst contractWrappers = await getContractWrappers(library);\n\t\tconst [ordersInfo] = await contractWrappers.devUtils\n\t\t\t.getOrderRelevantStates(\n\t\t\t\torders,\n\t\t\t\torders.map((o) => o.signature)\n\t\t\t)\n\t\t\t.callAsync();\n\t\treturn ordersToUIOrders(orders, baseToken, ordersInfo);\n\t} catch (err) {\n\t\tthrow err;\n\t}\n};\n\nexport const getUserOrders = (baseToken, quoteToken, ethAccount) => {\n\tconst relayer = getRelayer();\n\tconst baseTokenAssetData = assetDataUtils.encodeERC20AssetData(baseToken.address);\n\tconst quoteTokenAssetData = assetDataUtils.encodeERC20AssetData(quoteToken.address);\n\treturn relayer.getUserOrdersAsync(ethAccount, baseTokenAssetData, quoteTokenAssetData);\n};\n\nexport const getUserOrdersAsUIOrders = async (baseToken, quoteToken, ethAccount, library) => {\n\tconst myOrders = await getUserOrders(baseToken, quoteToken, ethAccount);\n\n\ttry {\n\t\tconst contractWrappers = await getContractWrappers(library);\n\t\tconst [ordersInfo] = await contractWrappers.devUtils\n\t\t\t.getOrderRelevantStates(\n\t\t\t\tmyOrders,\n\t\t\t\tmyOrders.map((o) => o.signature)\n\t\t\t)\n\t\t\t.callAsync();\n\t\treturn ordersToUIOrders(myOrders, baseToken, ordersInfo);\n\t} catch (err) {\n\t\tthrow err;\n\t}\n};\n\nexport const buildMarketLimitMatchingOrders = (params, side) => {\n\tconst { amount, orders, price } = params;\n\n\t// sort orders from best to worse\n\tconst sortedOrders = orders.sort((a, b) => {\n\t\tif (side === OrderSide.Buy) {\n\t\t\treturn a.price.comparedTo(b.price);\n\t\t} else {\n\t\t\treturn b.price.comparedTo(a.price);\n\t\t}\n\t});\n\t// Filter orders higher than price\n\tconst filteredOrders = sortedOrders.filter((o) => {\n\t\tif (side === OrderSide.Buy) {\n\t\t\treturn o.price.isLessThanOrEqualTo(price);\n\t\t} else {\n\t\t\treturn o.price.isGreaterThanOrEqualTo(price);\n\t\t}\n\t});\n\tif (filteredOrders.length === 0) {\n\t\treturn {\n\t\t\tordersToFill: [],\n\t\t\tamounts: [new BigNumber(0)],\n\t\t\tcanBeFilled: false,\n\t\t\tremainingAmount: amount,\n\t\t\tamountsMaker: [new BigNumber(0)],\n\t\t\tamountFill: new BigNumber(0),\n\t\t};\n\t}\n\tconst ordersToFill = [];\n\tconst amounts = [];\n\tconst amountsMaker = [];\n\tlet filledAmount = new BigNumber(0);\n\tfor (let i = 0; i < filteredOrders.length && filledAmount.isLessThan(amount); i++) {\n\t\tconst order = filteredOrders[i];\n\t\tordersToFill.push(order.rawOrder);\n\t\tlet available = order.size;\n\t\tif (order.filled) {\n\t\t\tavailable = order.size.minus(order.filled);\n\t\t}\n\t\tif (filledAmount.plus(available).isGreaterThan(amount)) {\n\t\t\tamounts.push(amount.minus(filledAmount));\n\t\t\tfilledAmount = amount;\n\t\t} else {\n\t\t\tamounts.push(available);\n\t\t\tfilledAmount = filledAmount.plus(available);\n\t\t}\n\n\t\tif (side === OrderSide.Buy) {\n\t\t\t// @TODO: cache maker/taker info (decimals)\n\t\t\tconst makerTokenDecimals = getKnownTokens().getTokenByAssetData(order.rawOrder.makerAssetData).decimals;\n\t\t\tconst takerTokenDecimals = getKnownTokens().getTokenByAssetData(order.rawOrder.takerAssetData).decimals;\n\t\t\tconst buyAmount = tokenAmountInUnitsToBigNumber(amounts[i], makerTokenDecimals);\n\t\t\tamounts[i] = unitsInTokenAmount(buyAmount.multipliedBy(order.price).toString(), takerTokenDecimals);\n\t\t} else {\n\t\t\tconst makerTokenDecimals = getKnownTokens().getTokenByAssetData(order.rawOrder.makerAssetData).decimals;\n\t\t\tconst takerTokenDecimals = getKnownTokens().getTokenByAssetData(order.rawOrder.takerAssetData).decimals;\n\t\t\tconst buyAmount = tokenAmountInUnitsToBigNumber(amounts[i], takerTokenDecimals);\n\t\t\tamountsMaker[i] = unitsInTokenAmount(buyAmount.multipliedBy(order.price).toString(), makerTokenDecimals);\n\t\t}\n\t}\n\tconst canBeFilled = filledAmount.eq(amount);\n\tconst remainingAmount = amount.minus(filledAmount);\n\n\tconst roundedAmounts = amounts.map((a) => a.integerValue(BigNumber.ROUND_CEIL));\n\treturn {\n\t\tordersToFill,\n\t\tamounts: roundedAmounts,\n\t\tcanBeFilled,\n\t\tremainingAmount,\n\t\tamountFill: filledAmount,\n\t\tamountsMaker,\n\t};\n};\n\nexport const buildMarketOrders = (params, side) => {\n\tconst { amount, orders } = params;\n\n\t// sort orders from best to worse\n\tconst sortedOrders = orders.sort((a, b) => {\n\t\tif (side === OrderSide.Buy) {\n\t\t\treturn a.price.comparedTo(b.price);\n\t\t} else {\n\t\t\treturn b.price.comparedTo(a.price);\n\t\t}\n\t});\n\n\tconst ordersToFill = [];\n\tconst amounts = [];\n\tlet filledAmount = ZERO;\n\tfor (let i = 0; i < sortedOrders.length && filledAmount.isLessThan(amount); i++) {\n\t\tconst order = sortedOrders[i];\n\t\tordersToFill.push(order.rawOrder);\n\n\t\tlet available = order.size;\n\t\tif (order.filled) {\n\t\t\tavailable = order.size.minus(order.filled);\n\t\t}\n\t\tif (filledAmount.plus(available).isGreaterThan(amount)) {\n\t\t\tamounts.push(amount.minus(filledAmount));\n\t\t\tfilledAmount = amount;\n\t\t} else {\n\t\t\tamounts.push(available);\n\t\t\tfilledAmount = filledAmount.plus(available);\n\t\t}\n\n\t\tif (side === OrderSide.Buy) {\n\t\t\t// @TODO: cache maker/taker info (decimals)\n\t\t\tconst makerTokenDecimals = getKnownTokens().getTokenByAssetData(order.rawOrder.makerAssetData).decimals;\n\t\t\tconst takerTokenDecimals = getKnownTokens().getTokenByAssetData(order.rawOrder.takerAssetData).decimals;\n\t\t\tconst buyAmount = tokenAmountInUnitsToBigNumber(amounts[i], makerTokenDecimals);\n\t\t\tamounts[i] = unitsInTokenAmount(buyAmount.multipliedBy(order.price).toString(), takerTokenDecimals);\n\t\t}\n\t}\n\tconst canBeFilled = filledAmount.eq(amount);\n\n\tconst roundedAmounts = amounts.map((a) => a.integerValue(BigNumber.ROUND_CEIL));\n\n\treturn [ordersToFill, roundedAmounts, canBeFilled];\n};\n\nexport const getOrderWithTakerAndFeeConfigFromRelayer = async (\n\torderConfigRequest,\n\tisCollectible = undefined,\n\taffiliateAddress = undefined\n) => {\n\tconst round = (num) => num.integerValue(BigNumber.ROUND_FLOOR);\n\tlet orderResult;\n\tif (USE_RELAYER_ORDER_CONFIG) {\n\t\tconst client = getRelayer();\n\t\torderResult = await client.getOrderConfigAsync(orderConfigRequest);\n\t} else {\n\t\tif (isCollectible) {\n\t\t\torderResult = {\n\t\t\t\tfeeRecipientAddress: FEE_RECIPIENT,\n\t\t\t\tsenderAddress: ZERO_ADDRESS,\n\t\t\t\tmakerFeeAssetData: NULL_BYTES,\n\t\t\t\ttakerFeeAssetData: new BigNumber(TAKER_FEE_PERCENTAGE).isGreaterThan(\"0\")\n\t\t\t\t\t? orderConfigRequest.takerAssetData\n\t\t\t\t\t: NULL_BYTES,\n\t\t\t\tmakerFee: new BigNumber(0),\n\t\t\t\ttakerFee: orderConfigRequest.takerAssetAmount.multipliedBy(new BigNumber(TAKER_FEE_PERCENTAGE)),\n\t\t\t};\n\t\t} else {\n\t\t\tconst wethAssetData = getWethAssetData();\n\t\t\tconst isWethTaker = orderConfigRequest.takerAssetData.toLowerCase() === wethAssetData;\n\t\t\t// Use always Weth as fee, when ETH is on the order. Forwarder needs to make approve asset proxy for all assets.\n\t\t\t// As 0x team always deploying new versions of Forwarder this is needed\n\t\t\tif (isWethTaker || orderConfigRequest.takerAssetData.toLowerCase() === wethAssetData) {\n\t\t\t\t// Used to track affiliated dex's, Note remove prefix '0x' to pass library validation\n\t\t\t\tconst takerFeeAssetData = new BigNumber(TAKER_FEE_PERCENTAGE).isGreaterThan(\"0\")\n\t\t\t\t\t? wethAssetData\n\t\t\t\t\t: NULL_BYTES;\n\t\t\t\t/*const takerFeeAssetData = new BigNumber(TAKER_FEE_PERCENTAGE).isGreaterThan('0')\n                ? wethAssetData\n                : NULL_BYTES;*/\n\t\t\t\torderResult = {\n\t\t\t\t\tfeeRecipientAddress: FEE_RECIPIENT,\n\t\t\t\t\tsenderAddress: ZERO_ADDRESS,\n\t\t\t\t\tmakerFeeAssetData: affiliateAddress\n\t\t\t\t\t\t? assetDataUtils.encodeERC20AssetData(affiliateAddress)\n\t\t\t\t\t\t: NULL_BYTES,\n\t\t\t\t\ttakerFeeAssetData,\n\t\t\t\t\tmakerFee: isWethTaker\n\t\t\t\t\t\t? round(orderConfigRequest.makerAssetAmount.multipliedBy(new BigNumber(MAKER_FEE_PERCENTAGE)))\n\t\t\t\t\t\t: round(orderConfigRequest.takerAssetAmount.multipliedBy(new BigNumber(MAKER_FEE_PERCENTAGE))),\n\t\t\t\t\ttakerFee: isWethTaker\n\t\t\t\t\t\t? round(orderConfigRequest.takerAssetAmount.multipliedBy(new BigNumber(TAKER_FEE_PERCENTAGE)))\n\t\t\t\t\t\t: round(orderConfigRequest.makerAssetAmount.multipliedBy(new BigNumber(TAKER_FEE_PERCENTAGE))),\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// Used to track affiliated dex's\n\t\t\t\tconst takerFeeAssetData = new BigNumber(TAKER_FEE_PERCENTAGE).isGreaterThan(\"0\")\n\t\t\t\t\t? orderConfigRequest.makerAssetData\n\t\t\t\t\t: NULL_BYTES;\n\t\t\t\t// const  takerFeeAssetData = new BigNumber(TAKER_FEE_PERCENTAGE).isGreaterThan('0') ? orderConfigRequest.makerAssetData : NULL_BYTES;\n\n\t\t\t\torderResult = {\n\t\t\t\t\tfeeRecipientAddress: FEE_RECIPIENT,\n\t\t\t\t\tsenderAddress: ZERO_ADDRESS,\n\t\t\t\t\tmakerFeeAssetData: affiliateAddress\n\t\t\t\t\t\t? assetDataUtils.encodeERC20AssetData(affiliateAddress)\n\t\t\t\t\t\t: NULL_BYTES,\n\t\t\t\t\ttakerFeeAssetData,\n\t\t\t\t\tmakerFee: round(\n\t\t\t\t\t\torderConfigRequest.takerAssetAmount.multipliedBy(new BigNumber(MAKER_FEE_PERCENTAGE))\n\t\t\t\t\t),\n\t\t\t\t\ttakerFee: round(\n\t\t\t\t\t\torderConfigRequest.makerAssetAmount.multipliedBy(new BigNumber(TAKER_FEE_PERCENTAGE))\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\t...orderConfigRequest,\n\t\t...orderResult,\n\t\tchainId: CHAIN_ID,\n\t\tsalt: new BigNumber(Date.now()),\n\t};\n};\n\nexport const calculateWorstCaseProtocolFee = (orders, gasPrice) => {\n\tconst protocolFee = new BigNumber(orders.length * PROTOCOL_FEE_MULTIPLIER).times(gasPrice);\n\treturn protocolFee;\n};\n\nexport const buildLimitOrder = async (params, side, expirationTimeSeconds, affiliateAddress = undefined) => {\n\tconst { account, baseTokenAddress, exchangeAddress, amount, price, quoteTokenAddress } = params;\n\n\tconst baseTokenAssetData = assetDataUtils.encodeERC20AssetData(baseTokenAddress);\n\tconst quoteTokenAssetData = assetDataUtils.encodeERC20AssetData(quoteTokenAddress);\n\n\tconst baseTokenDecimals = getKnownTokens().getTokenByAddress(baseTokenAddress).decimals;\n\tconst baseTokenAmountInUnits = tokenAmountInUnitsToBigNumber(amount, baseTokenDecimals);\n\n\tconst quoteTokenAmountInUnits = baseTokenAmountInUnits.multipliedBy(price);\n\n\tconst quoteTokenDecimals = getKnownTokens().getTokenByAddress(quoteTokenAddress).decimals;\n\tconst round = (num) => num.integerValue(BigNumber.ROUND_FLOOR);\n\tconst quoteTokenAmountInBaseUnits = round(\n\t\tunitsInTokenAmount(quoteTokenAmountInUnits.toString(), quoteTokenDecimals)\n\t);\n\n\tconst isBuy = side === OrderSide.Buy;\n\n\tconst orderConfigRequest = {\n\t\texchangeAddress,\n\t\tmakerAssetData: isBuy ? quoteTokenAssetData : baseTokenAssetData,\n\t\ttakerAssetData: isBuy ? baseTokenAssetData : quoteTokenAssetData,\n\t\tmakerAssetAmount: isBuy ? quoteTokenAmountInBaseUnits : amount,\n\t\ttakerAssetAmount: isBuy ? amount : quoteTokenAmountInBaseUnits,\n\t\tmakerAddress: account,\n\t\ttakerAddress: ZERO_ADDRESS,\n\t\texpirationTimeSeconds,\n\t};\n\t// timestamp ? getExpirationTimeFromDate(timestamp) : getExpirationTimeOrdersFromConfig(),\n\treturn getOrderWithTakerAndFeeConfigFromRelayer(orderConfigRequest, undefined, affiliateAddress);\n};\n\nexport const sumTakerAssetFillableOrders = (side, ordersToFill, amounts) => {\n\tif (ordersToFill.length !== amounts.length) {\n\t\tthrow new Error(\"ordersToFill and amount array lengths must be the same.\");\n\t}\n\tif (ordersToFill.length === 0) {\n\t\treturn ZERO;\n\t}\n\treturn ordersToFill.reduce((sum, order, index) => {\n\t\t// Check buildMarketOrders for more details\n\t\tconst price = side === OrderSide.Buy ? 1 : order.makerAssetAmount.div(order.takerAssetAmount);\n\t\treturn sum.plus(amounts[index].multipliedBy(price));\n\t}, ZERO);\n};\n\nexport const cancelSignedOrder = async (order, gasPrice) => {\n\tconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\tconst web3Wrapper = new Web3Wrapper(web3.currentProvider);\n\tconst contractWrappers = await getContractWrappers(web3.currentProvider);\n\tconst tx = await contractWrappers.exchange.cancelOrder(order).sendTransactionAsync({\n\t\tfrom: order.makerAddress,\n\t\tgas: 1000000,\n\t\tgasPrice,\n\t});\n\treturn web3Wrapper.awaitTransactionSuccessAsync(tx);\n};\n","export class InsufficientTokenBalanceException extends Error {\n\tconstructor(quoteSymbol) {\n\t\tsuper(`You don't have enough ${quoteSymbol.toUpperCase()}...`);\n\t}\n}\n","import { assetDataUtils } from \"@0x/order-utils\";\nimport { BigNumber } from \"@0x/utils\";\n\nimport { isWeth, isWhackd } from \"../known_tokens\";\nimport { OrderSide, StepKind } from \"../../constants\";\nimport { Protocol } from \"../aave/types\";\nimport { LENDING_POOL_CORE_ADDRESS } from \"../aave/constants\";\n\nexport const createBuySellLimitMatchingSteps = (\n\tbaseToken,\n\tquoteToken,\n\ttokenBalances,\n\twethTokenBalance,\n\tethBalance,\n\tamount,\n\tside,\n\tprice,\n\tprice_avg,\n\tordersToFill\n) => {\n\tconst buySellLimitMatchingFlow = [];\n\tconst isBuy = side === OrderSide.Buy;\n\tconst tokenToUnlock = isBuy ? quoteToken : baseToken;\n\n\tconst unlockTokenStep = getUnlockTokenStepIfNeeded(tokenToUnlock, tokenBalances, wethTokenBalance);\n\t// Unlock token step should be added if it:\n\t// 1) it's a sell, or\n\tconst isSell = unlockTokenStep && side === OrderSide.Sell;\n\t// 2) is a buy and\n\t// base token is not weth and is locked, or\n\t// base token is weth, is locked and there is not enouth plain ETH to fill the order\n\tconst isBuyWithWethConditions =\n\t\tisBuy &&\n\t\tunlockTokenStep &&\n\t\t(!isWeth(tokenToUnlock.symbol) ||\n\t\t\t(isWeth(tokenToUnlock.symbol) && ethBalance.isLessThan(amount.multipliedBy(price))));\n\tif (isSell || isBuyWithWethConditions) {\n\t\tbuySellLimitMatchingFlow.push(unlockTokenStep);\n\t}\n\tconst order = ordersToFill[0];\n\tif (order.takerFee.isGreaterThan(0)) {\n\t\tconst { tokenAddress } = assetDataUtils.decodeAssetDataOrThrow(order.takerFeeAssetData);\n\t\tif (!unlockTokenStep || (unlockTokenStep && unlockTokenStep.token.address !== tokenAddress)) {\n\t\t\tconst unlockFeeTokenStep = getUnlockFeeAssetStepIfNeeded(\n\t\t\t\t[...tokenBalances, wethTokenBalance],\n\t\t\t\ttokenAddress\n\t\t\t);\n\t\t\tif (unlockFeeTokenStep) {\n\t\t\t\tbuySellLimitMatchingFlow.push(unlockFeeTokenStep);\n\t\t\t}\n\t\t}\n\t}\n\n\t// wrap the necessary ether if necessary\n\tif (isWeth(quoteToken.symbol)) {\n\t\tconst isWhackedBase = !!isWhackd(baseToken.symbol);\n\t\tconst wrapEthStep = getWrapEthStepIfNeeded(\n\t\t\tamount,\n\t\t\tprice,\n\t\t\tside,\n\t\t\twethTokenBalance,\n\t\t\tethBalance,\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tisWhackedBase\n\t\t);\n\t\tif (wrapEthStep) {\n\t\t\tbuySellLimitMatchingFlow.push(wrapEthStep);\n\t\t}\n\t}\n\n\tbuySellLimitMatchingFlow.push({\n\t\tkind: StepKind.BuySellLimitMatching,\n\t\tamount,\n\t\tside,\n\t\tprice,\n\t\tprice_avg,\n\t\ttoken: baseToken,\n\t});\n\treturn buySellLimitMatchingFlow;\n};\n\nexport const getUnlockTokenStepIfNeeded = (token, tokenBalances, wethTokenBalance) => {\n\tconst tokenBalance = isWeth(token.symbol)\n\t\t? wethTokenBalance\n\t\t: tokenBalances.find((tb) => tb.token.symbol === token.symbol);\n\tif (tokenBalance.isUnlocked) {\n\t\treturn null;\n\t} else {\n\t\treturn {\n\t\t\tkind: StepKind.ToggleTokenLock,\n\t\t\ttoken: tokenBalance.token,\n\t\t\tisUnlocked: false,\n\t\t\tcontext: \"order\",\n\t\t};\n\t}\n};\n\nexport const getWrapEthStepIfNeeded = (\n\tamount,\n\tprice,\n\tside,\n\twethTokenBalance,\n\tethBalance = undefined,\n\tfeeBalance = undefined,\n\tisQuote = true,\n\t// Note: some tokens not work with forwarder, force wrap for these cases. TODO: Remove this workaraound\n\tforceWrap = false\n) => {\n\t// Weth needed only when creating a buy order\n\tif (side === OrderSide.Sell && isQuote) {\n\t\treturn null;\n\t}\n\t// Weth needed when creating a sell order and it is not a quote\n\tif (side === OrderSide.Buy && !isQuote) {\n\t\treturn null;\n\t}\n\n\tlet wethAmountNeeded = isQuote ? amount.multipliedBy(price) : amount;\n\tif (feeBalance) {\n\t\twethAmountNeeded = wethAmountNeeded.plus(feeBalance);\n\t}\n\n\t// If we have enough WETH, we don't need to wrap\n\tif (wethTokenBalance.balance.isGreaterThan(wethAmountNeeded)) {\n\t\treturn null;\n\t}\n\n\t// Weth needed only if not enough plain ETH to use forwarder\n\tif (ethBalance && ethBalance.isGreaterThan(wethAmountNeeded) && !forceWrap) {\n\t\treturn null;\n\t}\n\n\tconst wethBalance = wethTokenBalance.balance;\n\tconst deltaWeth = wethBalance.minus(wethAmountNeeded);\n\t// Need to wrap eth only if weth balance is not enough\n\tif (deltaWeth.isLessThan(0)) {\n\t\treturn {\n\t\t\tkind: StepKind.WrapEth,\n\t\t\tcurrentWethBalance: wethBalance,\n\t\t\tnewWethBalance: wethAmountNeeded,\n\t\t\tcontext: \"order\",\n\t\t};\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport const getUnlockFeeAssetStepIfNeeded = (tokenBalances, feeTokenAddress) => {\n\tconst balance = tokenBalances.find(\n\t\t(tokenBalance) => tokenBalance.token.address.toLowerCase() === feeTokenAddress.toLowerCase()\n\t);\n\tif (!balance) {\n\t\tthrow new Error(`Unknown fee token: ${feeTokenAddress}`);\n\t}\n\tif (!balance.isUnlocked) {\n\t\treturn {\n\t\t\tkind: StepKind.ToggleTokenLock,\n\t\t\ttoken: balance.token,\n\t\t\tisUnlocked: false,\n\t\t\tcontext: \"order\",\n\t\t};\n\t}\n\treturn null;\n};\n\nexport const createBuySellLimitSteps = (\n\tbaseToken,\n\tquoteToken,\n\ttokenBalances,\n\twethTokenBalance,\n\tamount,\n\tprice,\n\tside,\n\torderFeeData,\n\tis_ieo = undefined\n) => {\n\tconst buySellLimitFlow = [];\n\tlet unlockTokenStep;\n\n\t// unlock base and quote tokens if necessary\n\n\tunlockTokenStep =\n\t\tside === OrderSide.Buy\n\t\t\t? // If it's a buy -> the quote token has to be unlocked\n\t\t\t  getUnlockTokenStepIfNeeded(quoteToken, tokenBalances, wethTokenBalance)\n\t\t\t: // If it's a sell -> the base token has to be unlocked\n\t\t\t  getUnlockTokenStepIfNeeded(baseToken, tokenBalances, wethTokenBalance);\n\n\tif (unlockTokenStep) {\n\t\tbuySellLimitFlow.push(unlockTokenStep);\n\t}\n\n\tif (orderFeeData.makerFee.isGreaterThan(0)) {\n\t\tconst { tokenAddress } = assetDataUtils.decodeAssetDataOrThrow(orderFeeData.makerFeeAssetData);\n\t\tif (!unlockTokenStep || unlockTokenStep.token.address !== tokenAddress) {\n\t\t\tconst unlockFeeTokenStep = getUnlockFeeAssetStepIfNeeded(\n\t\t\t\t[...tokenBalances, wethTokenBalance],\n\t\t\t\ttokenAddress\n\t\t\t);\n\t\t\tif (unlockFeeTokenStep) {\n\t\t\t\tbuySellLimitFlow.push(unlockFeeTokenStep);\n\t\t\t}\n\t\t}\n\t}\n\n\t// wrap the necessary ether if it is one of the traded tokens\n\tif (isWeth(baseToken.symbol) || isWeth(quoteToken.symbol)) {\n\t\tlet feeBalance = new BigNumber(0);\n\t\t// check if maker fee data is Weth\n\t\ttry {\n\t\t\tif (orderFeeData.makerFee.isGreaterThan(0)) {\n\t\t\t\tconst { tokenAddress } = assetDataUtils.decodeAssetDataOrThrow(orderFeeData.makerFeeAssetData);\n\t\t\t\t// check if needs to pay fee token\n\t\t\t\tif (wethTokenBalance.token.address.toLowerCase() === tokenAddress.toLowerCase()) {\n\t\t\t\t\tfeeBalance = orderFeeData.makerFee;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t\tconst isWethQuote = !!isWeth(quoteToken.symbol.toLowerCase());\n\t\tconst wrapEthStep = getWrapEthStepIfNeeded(\n\t\t\tamount,\n\t\t\tprice,\n\t\t\tside,\n\t\t\twethTokenBalance,\n\t\t\tundefined,\n\t\t\tfeeBalance,\n\t\t\tisWethQuote\n\t\t);\n\t\tif (wrapEthStep) {\n\t\t\tbuySellLimitFlow.push(wrapEthStep);\n\t\t}\n\t}\n\n\tbuySellLimitFlow.push({\n\t\tkind: StepKind.BuySellLimit,\n\t\tamount,\n\t\tprice,\n\t\tside,\n\t\ttoken: baseToken,\n\t\tis_ieo,\n\t});\n\n\treturn buySellLimitFlow;\n};\n\nexport const createBuySellMarketSteps = (\n\tbaseToken,\n\tquoteToken,\n\ttokenBalances,\n\twethTokenBalance,\n\tethBalance,\n\tamount,\n\tside,\n\tprice,\n\tordersToFill\n) => {\n\tconst buySellMarketFlow = [];\n\tconst isBuy = side === OrderSide.Buy;\n\tconst tokenToUnlock = isBuy ? quoteToken : baseToken;\n\n\tconst unlockTokenStep = getUnlockTokenStepIfNeeded(tokenToUnlock, tokenBalances, wethTokenBalance);\n\t// Unlock token step should be added if it:\n\t// 1) it's a sell, or\n\tconst isSell = unlockTokenStep && side === OrderSide.Sell;\n\t// 2) is a buy and\n\t// base token is not weth and is locked, or\n\t// base token is weth, is locked and there is not enouth plain ETH to fill the order\n\tconst isBuyWithWethConditions =\n\t\tisBuy &&\n\t\tunlockTokenStep &&\n\t\t(!isWeth(tokenToUnlock.symbol) ||\n\t\t\t(isWeth(tokenToUnlock.symbol) && ethBalance.isLessThan(amount.multipliedBy(price))));\n\tif (isSell || isBuyWithWethConditions) {\n\t\tbuySellMarketFlow.push(unlockTokenStep);\n\t}\n\t// Note: We assume that fees are constructed the same way on the other orders\n\tconst order = ordersToFill[0];\n\t// unlock fees if the taker fee is positive\n\tif (order.takerFee.isGreaterThan(0)) {\n\t\tconst { tokenAddress } = assetDataUtils.decodeAssetDataOrThrow(order.takerFeeAssetData);\n\t\tif (!unlockTokenStep || (unlockTokenStep && unlockTokenStep.token.address !== tokenAddress)) {\n\t\t\tconst unlockFeeStep = getUnlockFeeAssetStepIfNeeded([...tokenBalances, wethTokenBalance], tokenAddress);\n\t\t\tif (unlockFeeStep) {\n\t\t\t\tbuySellMarketFlow.push(unlockFeeStep);\n\t\t\t}\n\t\t}\n\t}\n\n\t// wrap the necessary ether if necessary\n\tif (isWeth(quoteToken.symbol)) {\n\t\tconst isWhackedBase = isWhackd(baseToken.symbol) ? true : false;\n\t\tconst wrapEthStep = getWrapEthStepIfNeeded(\n\t\t\tamount,\n\t\t\tprice,\n\t\t\tside,\n\t\t\twethTokenBalance,\n\t\t\tethBalance,\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\tisWhackedBase\n\t\t);\n\t\tif (wrapEthStep) {\n\t\t\tbuySellMarketFlow.push(wrapEthStep);\n\t\t}\n\t}\n\n\tbuySellMarketFlow.push({\n\t\tkind: StepKind.BuySellMarket,\n\t\tamount,\n\t\tside,\n\t\ttoken: baseToken,\n\t\tcontext: \"order\",\n\t});\n\treturn buySellMarketFlow;\n};\n\nexport const createRepayTokenSteps = (defiToken, token, wethTokenBalance, ethBalance, amount, isEth, protocol) => {\n\tconst repayTokenFlow = [];\n\tif (isEth) {\n\t\tif (amount.isGreaterThan(ethBalance)) {\n\t\t\tconst newWethBalance = wethTokenBalance.minus(amount.minus(ethBalance));\n\t\t\tconst currentWethBalance = wethTokenBalance;\n\t\t\tconst wrapEthStep = {\n\t\t\t\tkind: StepKind.WrapEth,\n\t\t\t\tcurrentWethBalance,\n\t\t\t\tnewWethBalance,\n\t\t\t\tcontext: \"standalone\",\n\t\t\t};\n\t\t\trepayTokenFlow.push(wrapEthStep);\n\t\t\t// unwrapp eth here\n\t\t}\n\t} else {\n\t\tconst unlockTokenStep = getUnlockLendingTokenStepIfNeeded(defiToken, token, protocol);\n\t\tif (unlockTokenStep) {\n\t\t\trepayTokenFlow.push(unlockTokenStep);\n\t\t}\n\t}\n\tconst isBorrow = false;\n\n\trepayTokenFlow.push({\n\t\tkind: StepKind.RepayToken,\n\t\tamount,\n\t\ttoken,\n\t\tdefiToken,\n\t\tisEth,\n\t\tisBorrow,\n\t});\n\treturn repayTokenFlow;\n};\n\nexport const createBorrowTokenSteps = (\n\tdefiToken,\n\ttoken,\n\t// tokenBalances: TokenBalance[],\n\twethTokenBalance,\n\tethBalance,\n\tamount,\n\tisEth,\n\tprotocol\n) => {\n\tconst borrowTokenFlow = [];\n\tif (isEth) {\n\t\tif (amount.isGreaterThan(ethBalance)) {\n\t\t\tconst newWethBalance = wethTokenBalance.minus(amount.minus(ethBalance));\n\t\t\tconst currentWethBalance = wethTokenBalance;\n\t\t\tconst wrapEthStep = {\n\t\t\t\tkind: StepKind.WrapEth,\n\t\t\t\tcurrentWethBalance,\n\t\t\t\tnewWethBalance,\n\t\t\t\tcontext: \"standalone\",\n\t\t\t};\n\t\t\tborrowTokenFlow.push(wrapEthStep);\n\t\t\t// unwrapp eth here\n\t\t}\n\t} else {\n\t\t/* const unlockTokenStep = getUnlockLendingTokenStepIfNeeded(defiToken, token, protocol);\n        if (unlockTokenStep) {\n            borrowTokenFlow.push(unlockTokenStep);\n        }*/\n\t}\n\tconst isBorrow = true;\n\n\tborrowTokenFlow.push({\n\t\tkind: StepKind.BorrowToken,\n\t\tamount,\n\t\ttoken,\n\t\tdefiToken,\n\t\tisEth,\n\t\tisBorrow,\n\t});\n\treturn borrowTokenFlow;\n};\n\nexport const createLendingTokenSteps = (defiToken, token, wethTokenBalance, ethBalance, amount, isEth, protocol) => {\n\tconst lendingTokenFlow = [];\n\tif (isEth) {\n\t\tif (amount.isGreaterThan(ethBalance)) {\n\t\t\tconst newWethBalance = wethTokenBalance.minus(amount.minus(ethBalance));\n\t\t\tconst currentWethBalance = wethTokenBalance;\n\t\t\tconst wrapEthStep = {\n\t\t\t\tkind: StepKind.WrapEth,\n\t\t\t\tcurrentWethBalance,\n\t\t\t\tnewWethBalance,\n\t\t\t\tcontext: \"standalone\",\n\t\t\t};\n\t\t\tlendingTokenFlow.push(wrapEthStep);\n\t\t\t// unwrapp eth here\n\t\t}\n\t} else {\n\t\tconst unlockTokenStep = getUnlockLendingTokenStepIfNeeded(defiToken, token, protocol);\n\t\tif (unlockTokenStep) {\n\t\t\tlendingTokenFlow.push(unlockTokenStep);\n\t\t}\n\t}\n\n\tlendingTokenFlow.push({\n\t\tkind: StepKind.LendingToken,\n\t\tamount,\n\t\ttoken,\n\t\tdefiToken,\n\t\tisEth,\n\t\tisLending: true,\n\t});\n\treturn lendingTokenFlow;\n};\n\nexport const getUnlockLendingTokenStepIfNeeded = (defiToken, token, protocol) => {\n\tlet address;\n\tswitch (protocol) {\n\t\tcase Protocol.Aave:\n\t\t\taddress = LENDING_POOL_CORE_ADDRESS;\n\t\t\tbreak;\n\t\tcase Protocol.Bzx:\n\t\t\taddress = defiToken.address;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tif (defiToken.isUnlocked) {\n\t\treturn null;\n\t} else {\n\t\treturn {\n\t\t\tkind: StepKind.ToggleTokenLock,\n\t\t\ttoken,\n\t\t\taddress,\n\t\t\tisUnlocked: false,\n\t\t\tcontext: \"lending\",\n\t\t};\n\t}\n};\n","import { createAction } from \"@reduxjs/toolkit\";\nimport { BigNumber } from \"@0x/utils\";\nimport { signatureUtils } from \"@0x/order-utils\";\n\nimport { OrderSide, StepKind, ZERO } from \"../../constants\";\nimport { tokenAmountInUnitsToBigNumber } from \"../../utils/spot/tokens\";\nimport { getWethAssetData, isWeth } from \"../../utils/known_tokens\";\nimport { InsufficientTokenBalanceException } from \"../../lib/exceptions/balance\";\nimport {\n\tcreateBorrowTokenSteps,\n\tcreateBuySellLimitMatchingSteps,\n\tcreateBuySellLimitSteps,\n\tcreateBuySellMarketSteps,\n\tcreateLendingTokenSteps,\n\tcreateRepayTokenSteps,\n} from \"../../utils/spot/stepModalGeneration\";\nimport * as selectors from \"../selectors\";\nimport { buildLimitOrder, buildMarketLimitMatchingOrders, buildMarketOrders } from \"../../utils/spot/orders\";\nimport { getGasInfo, searchToken } from \"../selectors\";\nimport { InsufficientOrdersAmountException, SignedOrderException } from \"../../lib/exceptions/order\";\nimport { getExpirationTimeFromSeconds, getExpirationTimeOrdersFromConfig } from \"../../utils/spot/timeUtils\";\nimport { getContractWrappers } from \"../../utils/spot/contractWrapper\";\nimport { MetamaskSubprovider } from \"@0x/subproviders\";\nimport { getTransactionOptions } from \"../../utils/spot/transactions\";\nimport { ConvertBalanceMustNotBeEqualException } from \"../../lib/exceptions/convertBalance\";\n\nexport const addMarketFills = createAction(\"ui/FILLS_MARKET_add\");\n\nexport const setMakerAmountSelected = createAction(\"ui/MAKER_AMOUNT_SELECTED_set\");\n\nexport const setOrderBuyPriceSelected = createAction(\"ui/ORDER_BUY_PRICE_SELECTED_set\");\n\nexport const setOrderPriceSelected = createAction(\"ui/ORDER_PRICE_SELECTED_set\");\n\nexport const setOrderSellPriceSelected = createAction(\"ui/ORDER_SELL_PRICE_SELECTED_set\");\n\nexport const setStepsModalCurrentStep = createAction(\"ui/steps_modal/CURRENT_STEP_set\");\n\nexport const setStepsModalPendingSteps = createAction(\"ui/steps_modal/PENDING_STEPS_set\");\n\nexport const setStepsModalDoneSteps = createAction(\"ui/steps_modal/DONE_STEPS_set\");\n\nexport const stepsModalAdvanceStep = createAction(\"ui/steps_modal/advance_step\");\n\nexport const setOrderSecondsExpirationTime = createAction(\"ui/ORDER_SECONDS_EXPIRATION_TIME_set\");\n\nexport const startBuySellLimitMatchingSteps = (amount, price, side, tokenBalances, wethBalance, ethBalance) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst baseToken = selectors.getBaseToken(state);\n\t\tconst quoteToken = selectors.getQuoteToken(state);\n\t\tconst wethTokenBalance = wethBalance;\n\t\tconst totalEthBalance = ethBalance.plus(wethTokenBalance);\n\t\tconst quoteTokenBalance = searchToken({ tokenBalances, wethTokenBalance, tokenToFind: quoteToken });\n\t\tconst baseTokenBalance = searchToken({ tokenBalances, wethTokenBalance, tokenToFind: baseToken });\n\n\t\tconst allOrders =\n\t\t\tside === OrderSide.Buy ? selectors.getOpenSellOrders(state) : selectors.getOpenBuyOrders(state);\n\t\tconst { ordersToFill, amounts, amountFill, amountsMaker } = buildMarketLimitMatchingOrders(\n\t\t\t{\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\torders: allOrders,\n\t\t\t},\n\t\t\tside\n\t\t);\n\n\t\tif (ordersToFill.length === 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst totalFilledAmount = amounts.reduce((total, currentValue) => {\n\t\t\treturn total.plus(currentValue);\n\t\t}, new BigNumber(0));\n\n\t\tlet price_avg;\n\t\tif (side === OrderSide.Buy) {\n\t\t\tconst takerFilledAmount = tokenAmountInUnitsToBigNumber(totalFilledAmount, quoteToken.decimals);\n\t\t\tconst makerFilledAmount = tokenAmountInUnitsToBigNumber(amountFill, baseToken.decimals);\n\t\t\tprice_avg = takerFilledAmount.div(makerFilledAmount);\n\t\t} else {\n\t\t\tconst totalMakerAmount = amountsMaker.reduce((total, currentValue) => {\n\t\t\t\treturn total.plus(currentValue);\n\t\t\t}, new BigNumber(0));\n\n\t\t\tconst makerFilledAmount = tokenAmountInUnitsToBigNumber(totalMakerAmount, quoteToken.decimals);\n\t\t\tconst takerFilledAmount = tokenAmountInUnitsToBigNumber(amountFill, baseToken.decimals);\n\n\t\t\tprice_avg = makerFilledAmount.div(takerFilledAmount);\n\t\t}\n\n\t\tif (side === OrderSide.Sell) {\n\t\t\t// When selling, user should have enough BASE Token\n\t\t\tif (baseTokenBalance && baseTokenBalance.balance.isLessThan(totalFilledAmount)) {\n\t\t\t\tthrow new InsufficientTokenBalanceException(baseToken.symbol);\n\t\t\t}\n\t\t} else {\n\t\t\tlet takerWethFee = new BigNumber(0);\n\t\t\tconst wethAssetData = getWethAssetData();\n\t\t\tfor (const or of ordersToFill) {\n\t\t\t\tif (or.takerFeeAssetData.toLowerCase() === wethAssetData && or.takerFee.gt(0)) {\n\t\t\t\t\ttakerWethFee = takerWethFee.plus(or.takerFee);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// When buying and\n\t\t\t// if quote token is weth, should have enough ETH + WETH balance, or\n\t\t\t// if quote token is not weth, should have enough quote token balance\n\t\t\tconst isEthAndWethNotEnoughBalance =\n\t\t\t\tisWeth(quoteToken.symbol) && totalEthBalance.isLessThan(totalFilledAmount.plus(takerWethFee));\n\t\t\tconst isOtherQuoteTokenAndNotEnoughBalance =\n\t\t\t\t!isWeth(quoteToken.symbol) &&\n\t\t\t\tquoteTokenBalance &&\n\t\t\t\tquoteTokenBalance.balance.isLessThan(totalFilledAmount);\n\t\t\tif (isEthAndWethNotEnoughBalance || isOtherQuoteTokenAndNotEnoughBalance) {\n\t\t\t\tthrow new InsufficientTokenBalanceException(quoteToken.symbol);\n\t\t\t}\n\t\t}\n\n\t\tconst buySellLimitMatchingFlow = createBuySellLimitMatchingSteps(\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\ttokenBalances,\n\t\t\twethTokenBalance,\n\t\t\tethBalance,\n\t\t\tamountFill,\n\t\t\tside,\n\t\t\tprice,\n\t\t\tprice_avg,\n\t\t\tordersToFill\n\t\t);\n\n\t\tdispatch(setStepsModalCurrentStep(buySellLimitMatchingFlow[0]));\n\t\tdispatch(setStepsModalPendingSteps(buySellLimitMatchingFlow.slice(1)));\n\t\tdispatch(setStepsModalDoneSteps([]));\n\t};\n};\n\nexport const startBuySellLimitSteps = (amount, price, side, orderFeeData, tokenBalances, wethBalance) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst baseToken = selectors.getBaseToken(state);\n\t\tconst quoteToken = selectors.getQuoteToken(state);\n\t\tconst wethTokenBalance = wethBalance;\n\t\tconst buySellLimitFlow = createBuySellLimitSteps(\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\ttokenBalances,\n\t\t\twethTokenBalance,\n\t\t\tamount,\n\t\t\tprice,\n\t\t\tside,\n\t\t\torderFeeData\n\t\t);\n\n\t\tdispatch(setStepsModalCurrentStep(buySellLimitFlow[0]));\n\t\tdispatch(setStepsModalPendingSteps(buySellLimitFlow.slice(1)));\n\t\tdispatch(setStepsModalDoneSteps([]));\n\t};\n};\n\nexport const startBuySellMarketSteps = (amount, side, tokenBalances, wethBalance, ethBalance) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst baseToken = selectors.getBaseToken(state);\n\t\tconst quoteToken = selectors.getQuoteToken(state);\n\t\tconst wethTokenBalance = wethBalance.balance;\n\t\tconst totalEthBalance = ethBalance.plus(wethTokenBalance);\n\t\tconst quoteTokenBalance = searchToken({\n\t\t\ttokenBalances,\n\t\t\twethTokenBalance: wethBalance,\n\t\t\ttokenToFind: quoteToken,\n\t\t});\n\t\tconst baseTokenBalance = searchToken({ tokenBalances, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n\n\t\tconst orders = side === OrderSide.Buy ? selectors.getOpenSellOrders(state) : selectors.getOpenBuyOrders(state);\n\t\t// tslint:disable-next-line:no-unused-variable\n\t\tconst [ordersToFill, filledAmounts, canBeFilled] = buildMarketOrders(\n\t\t\t{\n\t\t\t\tamount,\n\t\t\t\torders,\n\t\t\t},\n\t\t\tside\n\t\t);\n\t\tif (!canBeFilled) {\n\t\t\tthrow new InsufficientOrdersAmountException();\n\t\t}\n\n\t\tconst totalFilledAmount = filledAmounts.reduce((total, currentValue) => {\n\t\t\treturn total.plus(currentValue);\n\t\t}, ZERO);\n\n\t\tconst price = totalFilledAmount.div(amount);\n\n\t\tif (side === OrderSide.Sell) {\n\t\t\t// When selling, user should have enough BASE Token\n\t\t\tif (baseTokenBalance && baseTokenBalance.balance.isLessThan(totalFilledAmount)) {\n\t\t\t\tthrow new InsufficientTokenBalanceException(baseToken.symbol);\n\t\t\t}\n\t\t} else {\n\t\t\tlet takerWethFee = new BigNumber(0);\n\t\t\tconst wethAssetData = getWethAssetData();\n\t\t\tfor (const or of ordersToFill) {\n\t\t\t\tif (or.takerFeeAssetData.toLowerCase() === wethAssetData && or.takerFee.gt(0)) {\n\t\t\t\t\ttakerWethFee = takerWethFee.plus(or.takerFee);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// When buying and\n\t\t\t// if quote token is weth, should have enough ETH + WETH balance, or\n\t\t\t// if quote token is not weth, should have enough quote token balance\n\t\t\tconst isEthAndWethNotEnoughBalance =\n\t\t\t\tisWeth(quoteToken.symbol) && totalEthBalance.isLessThan(totalFilledAmount.plus(takerWethFee));\n\t\t\tconst ifOtherQuoteTokenAndNotEnoughBalance =\n\t\t\t\t!isWeth(quoteToken.symbol) &&\n\t\t\t\tquoteTokenBalance &&\n\t\t\t\tquoteTokenBalance.balance.isLessThan(totalFilledAmount);\n\t\t\tif (isEthAndWethNotEnoughBalance || ifOtherQuoteTokenAndNotEnoughBalance) {\n\t\t\t\tthrow new InsufficientTokenBalanceException(quoteToken.symbol);\n\t\t\t}\n\t\t}\n\n\t\tconst buySellMarketFlow = createBuySellMarketSteps(\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\ttokenBalances,\n\t\t\twethBalance,\n\t\t\tethBalance,\n\t\t\tamount,\n\t\t\tside,\n\t\t\tprice,\n\t\t\tordersToFill\n\t\t);\n\n\t\tdispatch(setStepsModalCurrentStep(buySellMarketFlow[0]));\n\t\tdispatch(setStepsModalPendingSteps(buySellMarketFlow.slice(1)));\n\t\tdispatch(setStepsModalDoneSteps([]));\n\t};\n};\n\nexport const signMessage = (provider, params) => {\n\treturn new Promise((resolve, reject) => {\n\t\tprovider.sendAsync(params, (err, result) => {\n\t\t\tif (err) return reject(err);\n\t\t\tif (result.error) {\n\t\t\t\treturn reject(result.error);\n\t\t\t}\n\n\t\t\treturn resolve(result.result);\n\t\t});\n\t});\n};\n\nexport const createSignedOrder = (amount, price, side, ethAccount, web3, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst baseToken = selectors.getBaseToken(state);\n\t\tconst quoteToken = selectors.getQuoteToken(state);\n\t\tconst isAffiliate = selectors.getIsAffiliate(state);\n\t\tlet affiliateAddress;\n\t\tif (isAffiliate) {\n\t\t\taffiliateAddress = selectors.getFeeRecipient(state);\n\t\t}\n\n\t\tconst orderSecondsExpirationTime = selectors.getOrderSecondsExpirationTime(state);\n\t\tconst expirationTimeSeconds = orderSecondsExpirationTime\n\t\t\t? getExpirationTimeFromSeconds(orderSecondsExpirationTime)\n\t\t\t: getExpirationTimeOrdersFromConfig();\n\t\ttry {\n\t\t\tconst contractWrappers = await getContractWrappers(web3);\n\n\t\t\tconst order = await buildLimitOrder(\n\t\t\t\t{\n\t\t\t\t\taccount: ethAccount,\n\t\t\t\t\tamount,\n\t\t\t\t\tprice,\n\t\t\t\t\tbaseTokenAddress: baseToken.address,\n\t\t\t\t\tquoteTokenAddress: quoteToken.address,\n\t\t\t\t\texchangeAddress: contractWrappers.exchange.address,\n\t\t\t\t},\n\t\t\t\tside,\n\t\t\t\texpirationTimeSeconds,\n\t\t\t\taffiliateAddress\n\t\t\t);\n\n\t\t\tconst provider = new MetamaskSubprovider(web3);\n\t\t\treturn signatureUtils.ecSignTypedDataOrderAsync(provider, order, ethAccount);\n\t\t} catch (error) {\n\t\t\tthrow new SignedOrderException(error.message);\n\t\t}\n\t};\n};\n\nexport const startMultipleBuySellLimitSteps = (\n\tamountBuy,\n\tpriceBuy,\n\torderBuyFeeData,\n\tamountSell,\n\tpriceSell,\n\torderSellFeeData,\n\ttokenBalances,\n\twethTokenBalance\n) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst baseToken = selectors.getBaseToken(state);\n\t\tconst quoteToken = selectors.getQuoteToken(state);\n\n\t\tconst buyLimitFlow = createBuySellLimitSteps(\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\ttokenBalances,\n\t\t\twethTokenBalance,\n\t\t\tamountBuy,\n\t\t\tpriceBuy,\n\t\t\tOrderSide.Buy,\n\t\t\torderBuyFeeData\n\t\t);\n\n\t\tconst sellLimitFlow = createBuySellLimitSteps(\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\ttokenBalances,\n\t\t\twethTokenBalance,\n\t\t\tamountSell,\n\t\t\tpriceSell,\n\t\t\tOrderSide.Sell,\n\t\t\torderSellFeeData\n\t\t);\n\t\tbuyLimitFlow.push(...sellLimitFlow);\n\n\t\tdispatch(setStepsModalCurrentStep(buyLimitFlow[0]));\n\t\tdispatch(setStepsModalPendingSteps(buyLimitFlow.slice(1)));\n\t\tdispatch(setStepsModalDoneSteps([]));\n\t};\n};\n\nexport const startLendingTokenSteps = (\n\tamount,\n\ttoken,\n\tdefiToken,\n\tisEth,\n\tprotocol,\n\tethBalance,\n\twethBalance,\n\ttotalEthBalance\n) => {\n\treturn async (dispatch, getState) => {\n\t\tconst isEthAndWethNotEnoughBalance = isEth && totalEthBalance.isLessThan(amount);\n\n\t\tif (isEthAndWethNotEnoughBalance) {\n\t\t\tthrow new InsufficientTokenBalanceException(token.symbol);\n\t\t}\n\n\t\tconst lendingTokenFlow = createLendingTokenSteps(\n\t\t\tdefiToken,\n\t\t\ttoken,\n\t\t\twethBalance,\n\t\t\tethBalance,\n\t\t\tamount,\n\t\t\tisEth,\n\t\t\tprotocol\n\t\t);\n\n\t\tdispatch(setStepsModalCurrentStep(lendingTokenFlow[0]));\n\t\tdispatch(setStepsModalPendingSteps(lendingTokenFlow.slice(1)));\n\t\tdispatch(setStepsModalDoneSteps([]));\n\t};\n};\n\nexport const startBorrowTokenSteps = (\n\tamount,\n\ttoken,\n\tdefiToken,\n\tisEth,\n\tprotocol,\n\tethBalance,\n\twethBalance,\n\ttotalEthBalance\n) => {\n\treturn async (dispatch, getState) => {\n\t\tconst isEthAndWethNotEnoughBalance = isEth && totalEthBalance.isLessThan(amount);\n\n\t\tif (isEthAndWethNotEnoughBalance) {\n\t\t\tthrow new InsufficientTokenBalanceException(token.symbol);\n\t\t}\n\n\t\tconst borrowTokenFlow = createBorrowTokenSteps(\n\t\t\tdefiToken,\n\t\t\ttoken,\n\t\t\twethBalance,\n\t\t\tethBalance,\n\t\t\tamount,\n\t\t\tisEth,\n\t\t\tprotocol\n\t\t);\n\n\t\tdispatch(setStepsModalCurrentStep(borrowTokenFlow[0]));\n\t\tdispatch(setStepsModalPendingSteps(borrowTokenFlow.slice(1)));\n\t\tdispatch(setStepsModalDoneSteps([]));\n\t};\n};\n\nexport const startRepayTokenSteps = (\n\tamount,\n\ttoken,\n\tdefiToken,\n\tisEth,\n\tprotocol,\n\tethBalance,\n\twethBalance,\n\ttotalEthBalance\n) => {\n\treturn async (dispatch, getState) => {\n\t\tconst isEthAndWethNotEnoughBalance = isEth && totalEthBalance.isLessThan(amount);\n\n\t\tif (isEthAndWethNotEnoughBalance) {\n\t\t\tthrow new InsufficientTokenBalanceException(token.symbol);\n\t\t}\n\n\t\tconst repayTokenFlow = createRepayTokenSteps(\n\t\t\tdefiToken,\n\t\t\ttoken,\n\t\t\twethBalance,\n\t\t\tethBalance,\n\t\t\tamount,\n\t\t\tisEth,\n\t\t\tprotocol\n\t\t);\n\n\t\tdispatch(setStepsModalCurrentStep(repayTokenFlow[0]));\n\t\tdispatch(setStepsModalPendingSteps(repayTokenFlow.slice(1)));\n\t\tdispatch(setStepsModalDoneSteps([]));\n\t};\n};\n\nexport const startUnLendingTokenSteps = (amount, token, defiToken, isEth) => {\n\treturn async (dispatch) => {\n\t\tconst unLendingTokenStep = {\n\t\t\tkind: StepKind.UnLendingToken,\n\t\t\tamount,\n\t\t\ttoken,\n\t\t\tisEth,\n\t\t\tdefiToken,\n\t\t\tisLending: false,\n\t\t};\n\n\t\tdispatch(setStepsModalCurrentStep(unLendingTokenStep));\n\t\tdispatch(setStepsModalPendingSteps([]));\n\t\tdispatch(setStepsModalDoneSteps([]));\n\t};\n};\n\nexport const updateWethBalance = (currentWethBalance, newWethBalance, ethAccount, library) => {\n\treturn async (dispatch, getState) => {\n\t\tconst contractWrappers = await getContractWrappers(library);\n\t\tconst state = getState();\n\t\tconst gasPrice = getGasInfo(state).gasPriceInWei;\n\t\tconst wethBalance = currentWethBalance;\n\n\t\tlet txHash;\n\t\tconst wethToken = contractWrappers.weth9;\n\t\tif (wethBalance.isLessThan(newWethBalance)) {\n\t\t\ttxHash = await wethToken.deposit().sendTransactionAsync({\n\t\t\t\tvalue: newWethBalance.minus(wethBalance),\n\t\t\t\tfrom: ethAccount,\n\t\t\t\t...getTransactionOptions(gasPrice),\n\t\t\t});\n\t\t} else if (wethBalance.isGreaterThan(newWethBalance)) {\n\t\t\ttxHash = await wethToken.withdraw(wethBalance.minus(newWethBalance)).sendTransactionAsync({\n\t\t\t\tfrom: ethAccount,\n\t\t\t\t...getTransactionOptions(gasPrice),\n\t\t\t});\n\t\t} else {\n\t\t\tthrow new ConvertBalanceMustNotBeEqualException(wethBalance, newWethBalance);\n\t\t}\n\n\t\treturn txHash;\n\t};\n};\n","import { BigNumber } from \"@0x/utils\";\n\nimport { DEFAULT_ESTIMATED_TRANSACTION_TIME_MS, DEFAULT_GAS_PRICE, GWEI_IN_WEI } from \"../../constants\";\n\nconst ETH_GAS_STATION_API_BASE_URL = \"https://ethgasstation.info\";\n\nexport const getGasEstimationInfoAsync = async () => {\n\tlet fetchedAmount;\n\n\ttry {\n\t\tfetchedAmount = await fetchFastAmountInWeiAsync();\n\t} catch (e) {\n\t\tfetchedAmount = undefined;\n\t}\n\n\tconst info = fetchedAmount || {\n\t\tgasPriceInWei: DEFAULT_GAS_PRICE,\n\t\testimatedTimeMs: DEFAULT_ESTIMATED_TRANSACTION_TIME_MS,\n\t};\n\n\treturn info;\n};\n\nconst fetchFastAmountInWeiAsync = async () => {\n\tconst res = await fetch(`${ETH_GAS_STATION_API_BASE_URL}/json/ethgasAPI.json`);\n\tconst gasInfo = await res.json();\n\t// Eth Gas Station result is gwei * 10\n\tconst gasPriceInGwei = new BigNumber(gasInfo.fast / 10);\n\t// Time is in minutes\n\tconst estimatedTimeMs = gasInfo.fastWait * 60 * 1000; // Minutes to MS\n\treturn { gasPriceInWei: gasPriceInGwei.multipliedBy(GWEI_IN_WEI), estimatedTimeMs };\n};\n","import { createAction } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nimport { getGasEstimationInfoAsync } from \"../../utils/spot/gasEstimation\";\nimport { currencyExchangeRate, cryptoExchangeRate } from \"../../http/currency\";\n\nexport const setCurrenciesRates = createAction(\"currency/setRates\", (rates) => {\n\treturn {\n\t\tpayload: {\n\t\t\trates,\n\t\t},\n\t};\n});\nexport const changeSelectedCurrency = createAction(\"currency/changeSelected\", (id) => {\n\treturn {\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t};\n});\n\nexport const setGasPrice = createAction(\"currency/setGasPrice\", (data) => {\n\treturn {\n\t\tpayload: data,\n\t};\n});\n\nexport const changeGasPrice = createAction(\"currency/changeGas\", (type) => {\n\treturn {\n\t\tpayload: type,\n\t};\n});\n\nexport const setGasInfo = createAction(\"currency/setGasInfo\");\n\nexport const fetchCurrencies = (id: string) => {\n\treturn async (dispatch: (arg0: { payload: { rates: any } | { id: string }; type: string }) => void) => {\n\t\ttry {\n\t\t\tconst res = await axios.get(`${currencyExchangeRate}latest?base=USD`);\n\t\t\tconst cryptoRes = await axios.get(\n\t\t\t\t`${cryptoExchangeRate}simple/price?ids=bitcoin,link,ethereum,usd-coin&vs_currencies=usd`\n\t\t\t);\n\n\t\t\tconst rates = {\n\t\t\t\t...res.data.rates,\n\t\t\t};\n\t\t\trates.BTC = 1 / cryptoRes.data.bitcoin.usd;\n\t\t\trates.ETH = 1 / cryptoRes.data.ethereum.usd;\n\t\t\trates.LINK = 1 / cryptoRes.data.link.usd;\n\t\t\trates.USDC = 1 / cryptoRes.data[\"usd-coin\"];\n\n\t\t\tdispatch(setCurrenciesRates(rates));\n\t\t\tdispatch(changeSelectedCurrency(id));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nexport const getGasPrice = () => {\n\treturn async (dispatch: (arg0: { payload: any }) => void) => {\n\t\ttry {\n\t\t\tconst res = await axios.get(\"https://gasprice.poa.network/\");\n\t\t\tdispatch(setGasPrice(res.data));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nexport const updateGasInfo = () => {\n\treturn async (dispatch: any) => {\n\t\tconst fetchedGasInfo = await getGasEstimationInfoAsync();\n\t\t// @ts-ignore\n\t\tdispatch(setGasInfo(fetchedGasInfo));\n\t};\n};\n","import { ERC20TokenContract } from \"@0x/contract-wrappers\";\nimport { BigNumber } from \"@0x/utils\";\nimport ApolloClient from \"apollo-boost\";\n\nimport {\n\tAAVE_ETH_TOKEN,\n\tAAVE_GRAPH_URI,\n\tAAVE_READER_ADDRESS,\n\tLENDING_POOL_ADDRESS,\n\tLENDING_POOL_CORE_ADDRESS,\n} from \"../../utils/aave/constants\";\nimport { getTokenizedRegistryAddress } from \"../../utils/bzx/contracts\";\nimport { getKnownTokens } from \"../../utils/known_tokens\";\nimport { getContractWrappers } from \"../../utils/spot/contractWrapper\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nexport const getATokenContractWrapper = async (address, partialTxData, library) => {\n\tconst ATokenContract = (await import(\"../../utils/aave/contract_wrappers/atoken\")).AtokenContract;\n\treturn new ATokenContract(address, library, partialTxData);\n};\n\nexport const getLendingPool = async (partialTxData, library) => {\n\tconst LendingPoolContract = (await import(\"../../utils/aave/contract_wrappers/lending_pool\")).LendingPoolContract;\n\treturn new LendingPoolContract(LENDING_POOL_ADDRESS.toLowerCase(), library, partialTxData);\n};\n\nexport const getAaveReader = async (partialTxData, library) => {\n\tconst AaveReaderContract = (await import(\"../../utils/aave/contract_wrappers/aave_reader\")).AaveReaderContract;\n\treturn new AaveReaderContract(AAVE_READER_ADDRESS.toLowerCase(), library, partialTxData);\n};\n\nexport const getTokenizedRegistryContractWrapper = async (partialTxData, library) => {\n\tconst TokenizedRegistryContract = (await import(\"../../utils/bzx/tokenizedRegistry\")).TokenizedRegistryContract;\n\treturn new TokenizedRegistryContract(getTokenizedRegistryAddress(), library, partialTxData);\n};\n\nlet client;\nexport const getAaveGraphClient = () => {\n\tif (!client) {\n\t\tclient = new ApolloClient({ uri: AAVE_GRAPH_URI });\n\t}\n\treturn client;\n};\n\nexport const getAllATokens = async (aaveReservesGQL, ethAccount = undefined) => {\n\tconst aTokens = [];\n\tconst known_tokens = getKnownTokens();\n\n\tfor (const tk of aaveReservesGQL) {\n\t\ttry {\n\t\t\tlet token;\n\t\t\tif (tk.id === AAVE_ETH_TOKEN) {\n\t\t\t\ttoken = known_tokens.getWethToken();\n\t\t\t} else {\n\t\t\t\ttoken = known_tokens.getTokenByAddress(tk.id);\n\t\t\t}\n\n\t\t\tlet aTokenBalance;\n\t\t\tlet isUnlocked;\n\t\t\tlet borrowBalance;\n\t\t\tif (ethAccount) {\n\t\t\t\tconst contractWrappers = await getContractWrappers();\n\t\t\t\tconst lendingPool = await getLendingPool({}, web3.currentProvider);\n\t\t\t\t/*const tkContract = await getATokenContractWrapper(tk.aToken.id.toLowerCase(), { from: ethAccount });\n                aTokenBalance = await tkContract.balanceOf(ethAccount).callAsync();*/\n\t\t\t\tconst userReserveData = await lendingPool.getUserReserveData(tk.id, ethAccount).callAsync();\n\t\t\t\taTokenBalance = userReserveData[0];\n\t\t\t\tborrowBalance = userReserveData[1];\n\t\t\t\tif (tk.id === AAVE_ETH_TOKEN) {\n\t\t\t\t\tisUnlocked = true;\n\t\t\t\t} else {\n\t\t\t\t\tconst erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n\t\t\t\t\tconst allowance = await erc20Token.allowance(ethAccount, LENDING_POOL_CORE_ADDRESS).callAsync();\n\t\t\t\t\tisUnlocked = allowance.isGreaterThan(\"10000e18\");\n\t\t\t\t}\n\t\t\t}\n\t\t\taTokens.push({\n\t\t\t\taddress: tk.aToken.id,\n\t\t\t\tname: tk.name,\n\t\t\t\tsymbol: tk.symbol,\n\t\t\t\ttoken,\n\t\t\t\tisUnlocked,\n\t\t\t\tbalance: aTokenBalance,\n\t\t\t\tborrowBalance,\n\t\t\t\tliquidityRate: new BigNumber(tk.liquidityRate),\n\t\t\t\tvariableBorrowRate: new BigNumber(tk.variableBorrowRate),\n\t\t\t\tstableBorrowRate: new BigNumber(tk.stableBorrowRate),\n\t\t\t});\n\t\t} catch (e) {\n\t\t\t// tslint:disable-next-line:no-console\n\t\t\tconsole.error(`There was a problem with Atoken wrapper  ${tk.name}`, e);\n\t\t}\n\t}\n\treturn aTokens;\n};\n\nexport const getAllATokensV2 = async (aaveReservesGQL, ethAccount = undefined) => {\n\tconst aTokens = [];\n\tconst known_tokens = getKnownTokens();\n\tconst reservesAddresses = aaveReservesGQL.map((r) => r.id.toLowerCase());\n\tlet aaveBalances = [];\n\tif (ethAccount) {\n\t\tconst aaveReader = await getAaveReader({}, web3.currentProvider);\n\t\taaveBalances = await aaveReader.getBatchATokensData(ethAccount, reservesAddresses).callAsync();\n\t}\n\n\tfor (let index = 0; index < aaveReservesGQL.length; index++) {\n\t\tconst tk = aaveReservesGQL[index];\n\t\ttry {\n\t\t\tlet token;\n\t\t\tif (tk.id === AAVE_ETH_TOKEN) {\n\t\t\t\ttoken = known_tokens.getWethToken();\n\t\t\t} else {\n\t\t\t\ttoken = known_tokens.getTokenByAddress(tk.id);\n\t\t\t}\n\n\t\t\tlet aTokenBalance;\n\t\t\tlet isUnlocked;\n\t\t\tlet borrowBalance;\n\t\t\tif (ethAccount) {\n\t\t\t\taTokenBalance = aaveBalances[index].balance;\n\t\t\t\tborrowBalance = aaveBalances[index].borrowBalance;\n\t\t\t\tif (tk.id === AAVE_ETH_TOKEN) {\n\t\t\t\t\tisUnlocked = true;\n\t\t\t\t} else {\n\t\t\t\t\tconst allowance = aaveBalances[index].allowance;\n\t\t\t\t\tisUnlocked = allowance.isGreaterThan(\"10000e18\");\n\t\t\t\t}\n\t\t\t}\n\t\t\taTokens.push({\n\t\t\t\taddress: tk.aToken.id,\n\t\t\t\tname: tk.name,\n\t\t\t\tsymbol: tk.symbol,\n\t\t\t\ttoken,\n\t\t\t\tisUnlocked,\n\t\t\t\tbalance: aTokenBalance,\n\t\t\t\tborrowBalance,\n\t\t\t\tliquidityRate: new BigNumber(tk.liquidityRate),\n\t\t\t\tvariableBorrowRate: new BigNumber(tk.variableBorrowRate),\n\t\t\t\tstableBorrowRate: new BigNumber(tk.stableBorrowRate),\n\t\t\t});\n\t\t} catch (e) {\n\t\t\t// tslint:disable-next-line:no-console\n\t\t\t// console.error(`There was a problem with Atoken wrapper  ${tk.name}`, e);\n\t\t}\n\t}\n\treturn aTokens;\n};\n\nexport const getAaveOverall = async (ethAccount) => {\n\tconst lendingPoolContract = await getLendingPool({}, web3.currentProvider);\n\tconst userAccountData = await lendingPoolContract.getUserAccountData(ethAccount).callAsync();\n\tconst userAcc = {\n\t\ttotalLiquidity: userAccountData[0],\n\t\ttotalCollateralETH: userAccountData[1],\n\t\ttotalBorrowsETH: userAccountData[2],\n\t\ttotalFeesETH: userAccountData[3],\n\t\tavailableBorrowsETH: userAccountData[4],\n\t\tcurrentLiquidationThreshold: userAccountData[5],\n\t\tltv: userAccountData[6],\n\t\thealthFactor: userAccountData[7],\n\t};\n\n\treturn userAcc;\n};\n\n/*export const getAllATokens = async (ethAccount: string): Promise<[ATokenData[]]> => {\n\n};*/\n/**\n * Updates allowance and balance\n */\nexport const getUpdateAToken = async (ethAccount, aToken) => {\n\tlet aTokenBalance;\n\tlet isUnlocked;\n\tlet reserve;\n\tif (ethAccount) {\n\t\tif (aToken.token.symbol.toLowerCase() === \"weth\" || aToken.token.symbol.toLowerCase() === \"eth\") {\n\t\t\treserve = AAVE_ETH_TOKEN;\n\t\t} else {\n\t\t\treserve = aToken.token.address;\n\t\t}\n\t\tconst aaveReader = await getAaveReader({}, web3.currentProvider);\n\t\tconst aaveBalances = await aaveReader.getBatchATokensData(ethAccount, [reserve]).callAsync();\n\n\t\tif (reserve === AAVE_ETH_TOKEN) {\n\t\t\tisUnlocked = true;\n\t\t\taTokenBalance = aaveBalances[0].balance;\n\t\t} else {\n\t\t\tconst allowance = aaveBalances[0].allowance;\n\t\t\tisUnlocked = allowance.isGreaterThan(\"10000e18\");\n\t\t\taTokenBalance = aaveBalances[0].balance;\n\t\t}\n\t}\n\treturn {\n\t\t...aToken,\n\t\tbalance: aTokenBalance,\n\t\tisUnlocked,\n\t};\n};\n","import { NETWORK_ID, Network } from \"../../constants\";\n\nconst TOKENIZED_REGISTRY_ADDRESS = {\n\t[Network.Mainnet]: \"0xD8dc30d298CCf40042991cB4B96A540d8aFFE73a\",\n\t[Network.Ropsten]: \"0xd03eea21041a19672e451bcbb413ce8be72d0381\",\n\t[Network.Kovan]: \"0xF1C87dD61BF8a4e21978487e2705D52AA687F97E\",\n};\n\nconst TOKEN_DATA_ADDRESS = {\n\t[Network.Ropsten]: \"0xbb2626199c3a71ed15aead2ee1ad90f6c0759077\",\n};\n\nexport const getTokenizedRegistryAddress = () => {\n\treturn `${TOKENIZED_REGISTRY_ADDRESS[NETWORK_ID].toLowerCase()}`;\n};\n\nexport const getTokenDataAddress = () => {\n\treturn `${TOKEN_DATA_ADDRESS[NETWORK_ID].toLowerCase()}`;\n};\n","export default __webpack_public_path__ + \"static/media/flag.aa03aae1.svg\";","export default __webpack_public_path__ + \"static/media/bell.56336fd6.svg\";","export default __webpack_public_path__ + \"static/media/arrow-left.8efcf1a1.svg\";","import { RELAYER_RPS, RELAYER_URL, RELAYER_WS_URL } from \"../constants\";\nimport { AssetProxyId } from \"@0x/types\";\nimport { tokenAmountInUnitsToBigNumber } from \"../utils/spot/tokens\";\nimport { assetDataUtils } from \"@0x/order-utils\";\nimport { HttpClient } from \"@0x/connect\";\nimport { Orderbook } from \"@0x/orderbook\";\nimport { RateLimit } from \"async-sema\";\nimport { getAvailableMarkets } from \"./markets\";\nimport { v1 as uuidv1 } from \"uuid\";\n\nexport class Relayer {\n\t_client;\n\t_rateLimit;\n\t_orderbook;\n\n\tconstructor(options) {\n\t\tthis._orderbook = Orderbook.getOrderbookForWebsocketProvider({\n\t\t\thttpEndpoint: RELAYER_URL,\n\t\t\twebsocketEndpoint: RELAYER_WS_URL,\n\t\t});\n\t\tthis._client = new HttpClient(RELAYER_URL);\n\t\tthis._rateLimit = RateLimit(options.rps); // requests per second\n\t}\n\n\tgetOrderbook() {\n\t\treturn this._orderbook;\n\t}\n\n\tasync getAllOrdersAsync(baseTokenAssetData, quoteTokenAssetData) {\n\t\t/*\n        @Note Somehow this is failing and not getting buy orders at first, so we opt in to do two awaits in concurrent\n        const [sellOrders, buyOrders] = await Promise.all([\n                this._getOrdersAsync(baseTokenAssetData, quoteTokenAssetData),\n                this._getOrdersAsync(quoteTokenAssetData, baseTokenAssetData),\n            ]);*/\n\t\tconst sellOrders = await this._getOrdersAsync(baseTokenAssetData, quoteTokenAssetData);\n\t\tconst buyOrders = await this._getOrdersAsync(quoteTokenAssetData, baseTokenAssetData);\n\t\treturn [...sellOrders, ...buyOrders];\n\t}\n\n\tasync getOrderConfigAsync(orderConfig) {\n\t\tawait this._rateLimit();\n\t\treturn this._client.getOrderConfigAsync(orderConfig);\n\t}\n\n\tasync getUserOrdersAsync(account, baseTokenAssetData, quoteTokenAssetData) {\n\t\tconst [sellOrders, buyOrders] = await Promise.all([\n\t\t\tthis._getOrdersAsync(baseTokenAssetData, quoteTokenAssetData, account),\n\t\t\tthis._getOrdersAsync(quoteTokenAssetData, baseTokenAssetData, account),\n\t\t]);\n\n\t\treturn [...sellOrders, ...buyOrders];\n\t}\n\n\tasync getCurrencyPairPriceAsync(baseToken, quoteToken) {\n\t\tconst asks = await this._getOrdersAsync(\n\t\t\tassetDataUtils.encodeERC20AssetData(baseToken.address),\n\t\t\tassetDataUtils.encodeERC20AssetData(quoteToken.address)\n\t\t);\n\n\t\tif (asks.length) {\n\t\t\tconst lowestPriceAsk = asks[0];\n\n\t\t\tconst { makerAssetAmount, takerAssetAmount } = lowestPriceAsk;\n\t\t\tconst takerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(takerAssetAmount, quoteToken.decimals);\n\t\t\tconst makerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(makerAssetAmount, baseToken.decimals);\n\t\t\treturn takerAssetAmountInUnits.div(makerAssetAmountInUnits);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tasync getCurrencyPairMarketDataAsync(baseToken, quoteToken) {\n\t\t// await this._rateLimit();\n\t\tconst baseTokenAssetData = assetDataUtils.encodeERC20AssetData(baseToken.address);\n\t\tconst quoteTokenAssetData = assetDataUtils.encodeERC20AssetData(quoteToken.address);\n\t\tconst [asks, bids] = await Promise.all([\n\t\t\tthis._getOrdersAsync(baseTokenAssetData, quoteTokenAssetData),\n\t\t\tthis._getOrdersAsync(quoteTokenAssetData, baseTokenAssetData),\n\t\t]);\n\n\t\tconst marketData = {\n\t\t\tbestAsk: null,\n\t\t\tbestBid: null,\n\t\t\tspreadInPercentage: null,\n\t\t};\n\n\t\tif (asks.length) {\n\t\t\tconst lowestPriceAsk = asks[0];\n\t\t\tconst { makerAssetAmount, takerAssetAmount } = lowestPriceAsk;\n\t\t\tconst takerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(takerAssetAmount, quoteToken.decimals);\n\t\t\tconst makerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(makerAssetAmount, baseToken.decimals);\n\t\t\tmarketData.bestAsk = takerAssetAmountInUnits.div(makerAssetAmountInUnits);\n\t\t}\n\n\t\tif (bids.length) {\n\t\t\tconst highestPriceBid = bids[bids.length - 1];\n\t\t\tconst { makerAssetAmount, takerAssetAmount } = highestPriceBid;\n\t\t\tconst takerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(takerAssetAmount, baseToken.decimals);\n\t\t\tconst makerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(makerAssetAmount, quoteToken.decimals);\n\t\t\tmarketData.bestBid = makerAssetAmountInUnits.div(takerAssetAmountInUnits);\n\t\t}\n\t\tif (marketData.bestAsk && marketData.bestBid) {\n\t\t\tconst spread = marketData.bestAsk.minus(marketData.bestBid).dividedBy(marketData.bestAsk);\n\t\t\tmarketData.spreadInPercentage = spread.multipliedBy(100);\n\t\t}\n\n\t\treturn marketData;\n\t}\n\n\tasync getSellCollectibleOrdersAsync(collectibleAddress, wethAddress) {\n\t\tawait this._rateLimit();\n\t\tconst result = await this._client.getOrdersAsync({\n\t\t\tmakerAssetProxyId: AssetProxyId.ERC721,\n\t\t\ttakerAssetProxyId: AssetProxyId.ERC20,\n\t\t\tmakerAssetAddress: collectibleAddress,\n\t\t\ttakerAssetAddress: wethAddress,\n\t\t});\n\n\t\treturn result.records.map((record) => record.order);\n\t}\n\n\tasync submitOrderAsync(order) {\n\t\tawait this._rateLimit();\n\t\treturn this._client.submitOrderAsync(order);\n\t}\n\n\tasync _getOrdersAsync(makerAssetData, takerAssetData, makerAddress = undefined) {\n\t\tconst apiOrders = await this._orderbook.getOrdersAsync(makerAssetData, takerAssetData);\n\t\tconst orders = apiOrders.map((o) => o.order);\n\t\tif (makerAddress) {\n\t\t\treturn orders.filter((o) => o.makerAddress.toLowerCase() === makerAddress.toLowerCase());\n\t\t} else {\n\t\t\treturn orders;\n\t\t}\n\t}\n}\n\nlet relayer;\nexport const getRelayer = () => {\n\tif (!relayer) {\n\t\trelayer = new Relayer({ rps: RELAYER_RPS });\n\t}\n\n\treturn relayer;\n};\n\nexport const getMarketFillsFromRelayer = async (pair, page = 0, perPage = 100) => {\n\tconst headers = new Headers({\n\t\t\"content-type\": \"application/json\",\n\t});\n\n\tconst init = {\n\t\tmethod: \"GET\",\n\t\theaders,\n\t};\n\t// Get only last 100 trades\n\tconst response = await fetch(\n\t\t`${RELAYER_URL}/markets/${pair}/history?page=${page}&perPage=${(page + 1) * perPage}`,\n\t\tinit\n\t);\n\tif (response.ok) {\n\t\treturn await response.json();\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport const getMarketStatsFromRelayer = async (pair) => {\n\tconst headers = new Headers({\n\t\t\"content-type\": \"application/json\",\n\t});\n\n\tconst init = {\n\t\tmethod: \"GET\",\n\t\theaders,\n\t};\n\t// Get only last 100 trades\n\tconst response = await fetch(`${RELAYER_URL}/markets/stats/${pair}`, init);\n\tif (response.ok) {\n\t\treturn await response.json();\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport const getAllMarketsStatsFromRelayer = async () => {\n\tconst headers = new Headers({\n\t\t\"content-type\": \"application/json\",\n\t});\n\n\tconst init = {\n\t\tmethod: \"GET\",\n\t\theaders,\n\t};\n\tconst pairs = getAvailableMarkets()\n\t\t.map((c) => `${c.base.toUpperCase()}-${c.quote.toUpperCase()}`)\n\t\t.join(\",\");\n\n\t// Get only last 100 trades\n\tconst response = await fetch(`${RELAYER_URL}/markets/all-stats?pairs=${pairs}`, init);\n\tif (response.ok) {\n\t\treturn await response.json();\n\t} else {\n\t\treturn null;\n\t}\n};\n\nlet relayerSocket;\n\nexport const getWebsocketRelayerConnection = () => {\n\tif (!relayerSocket) {\n\t\trelayerSocket = new WebSocket(RELAYER_WS_URL);\n\t}\n\treturn relayerSocket;\n};\n\nexport const startWebsocketMarketsSubscription = (cb_onmessage) => {\n\tconst socket = getWebsocketRelayerConnection();\n\tconst uuid = uuidv1();\n\tconst requestAll = {\n\t\ttype: \"SUBSCRIBE\",\n\t\ttopic: \"BOOK\",\n\t\tmarket: \"ALL_FILLS_OPTS\",\n\t\trequestId: uuid,\n\t};\n\tsocket.onopen = (event) => {\n\t\tsocket.send(JSON.stringify(requestAll));\n\t};\n\tsocket.onerror = (event) => {\n\t\tsocket.close();\n\t};\n\n\tsocket.onclose = (event) => {\n\t\tsetTimeout(() => {\n\t\t\trelayerSocket = null;\n\t\t\tstartWebsocketMarketsSubscription(cb_onmessage);\n\t\t}, 3000);\n\t};\n\tsocket.onmessage = (event) => {\n\t\tcb_onmessage(event);\n\t};\n\n\treturn socket;\n};\n","export default __webpack_public_path__ + \"static/media/menu.95c5efbc.svg\";","import React, { useMemo } from \"react\";\nimport styled, {\n\tThemeProvider as StyledComponentsThemeProvider,\n\tcreateGlobalStyle,\n\tcss,\n\tDefaultTheme,\n} from \"styled-components\";\nimport { Text, TextProps } from \"rebass\";\nimport { useIsDarkMode } from \"../state/user/hooks\";\nimport { Colors } from \"./styled\";\n\nexport * from \"./components\";\n\nconst MEDIA_WIDTHS = {\n\tupToExtraSmall: 500,\n\tupToSmall: 720,\n\tupToMedium: 960,\n\tupToLarge: 1280,\n};\n\nconst mediaWidthTemplates: { [width in keyof typeof MEDIA_WIDTHS]: typeof css } = Object.keys(MEDIA_WIDTHS).reduce(\n\t(accumulator, size) => {\n\t\t(accumulator as any)[size] = (a: any, b: any, c: any) => css`\n\t\t\t@media (max-width: ${(MEDIA_WIDTHS as any)[size]}px) {\n\t\t\t\t${css(a, b, c)}\n\t\t\t}\n\t\t`;\n\t\treturn accumulator;\n\t},\n\t{}\n) as any;\n\nconst white = \"#FFFFFF\";\nconst black = \"#000000\";\n\nexport function colors(darkMode?: boolean): Colors {\n\treturn {\n\t\t// base\n\t\twhite,\n\t\tblack,\n\t\t// text\n\t\ttext1: darkMode ? \"#ffffff\" : \"#000000\",\n\t\ttext2: darkMode ? \"#D3D6E8\" : \"#B1B2B6\",\n\t\ttext3: darkMode ? \"rgba(255, 255, 255, 0.5)\" : \"rgba(0, 0, 0, 0.5)\",\n\t\ttext4: darkMode ? \"rgba(255, 255, 255, 0.3)\" : \"#CACCD2\",\n\n\t\t// backgrounds / greys\n\t\tbg1: darkMode ? \"#232429\" : \"#FFFFFF\",\n\t\tbg2: darkMode ? \"#232429\" : \"#FFFFFF\",\n\t\tbg3: darkMode ? \"rgba(33, 36, 41, 1)\" : \"#FFF\",\n\t\tbg4: darkMode ? \"#232429\" : \"rgb(212, 218, 242)\",\n\t\tbg5: darkMode ? `rgba(255, 255, 255, 0.15) `: `rgba(0, 0, 0, 0.15)`,\n\t\tbackdrop: \"rgba(33, 36, 41, 0.5)\",\n\n\t\t//specialty colors\n\t\tmodalBG: darkMode ? \"#272a31\" : \"#F3F5FD\",\n\t\tadvancedBG: darkMode ? \"#232429\" : \"#FFFFFF\",\n\n\t\t//primary colors\n\t\tprimary1: \"#87dce1\",\n\n\t\t// color text\n\t\tprimaryText1: \"#87dce1\",\n\n\t\t// secondary colors\n\t\tsecondary1: \"#a890fe\",\n\t\tsecondary2: \"#a890fe\",\n\n\t\tbodyBg: darkMode\n\t\t\t? \"linear-gradient(201.32deg, #222429 -48.82%, #232429 51.35%)\"\n\t\t\t: \"linear-gradient(201.32deg, #fff -48.82%, #fff 51.35%)\",\n\t\tsplashBG: darkMode\n\t\t\t? \"linear-gradient(201.32deg, #4E5780 -48.82%, #232429 51.35%)\"\n\t\t\t: \"linear-gradient(201.32deg, #d4daf2 -48.82%, #fff 51.35%)\",\n\n\t\t// other\n\t\tred1: \"#EB6B6B\",\n\t\tgreen1: \"#4AC8AA\",\n\t\tyellow1: \"#F3BA2F\",\n\t\tblue1: \"#87dce1\",\n\n\t\tdanger: \"#EB6B6B\",\n\t\twarning: \"#F3BA2F\",\n\t\tsuccess: \"#4AC8AA\",\n\t\tprimary: \"#87dce1\",\n\t\tsecondary: \"#a890fe\",\n\t\ttertiary: \"#FBAA9E\",\n\t};\n}\n\nexport function theme(darkMode?: boolean): DefaultTheme {\n\treturn {\n\t\t...colors(darkMode),\n\n\t\tgrids: {\n\t\t\tsm: 8,\n\t\t\tmd: 12,\n\t\t\tlg: 24,\n\t\t},\n\n\t\t//shadows\n\t\tshadow1: \"#87dce1\",\n\n\t\t// media queries\n\t\tmediaWidth: mediaWidthTemplates,\n\n\t\t// css snippets\n\t\tflexColumnNoWrap: css`\n\t\t\tdisplay: flex;\n\t\t\tflex-flow: column nowrap;\n\t\t`,\n\t\tflexRowNoWrap: css`\n\t\t\tdisplay: flex;\n\t\t\tflex-flow: row nowrap;\n\t\t`,\n\t};\n}\n\nexport default function ThemeProvider({ children }: { children: React.ReactNode }) {\n\tconst darkMode = useIsDarkMode();\n\n\tconst themeObject = useMemo(() => theme(darkMode), [darkMode]);\n\n\treturn <StyledComponentsThemeProvider theme={themeObject}>{children}</StyledComponentsThemeProvider>;\n}\n\nconst TextWrapper = styled(Text)<{ color: keyof Colors }>`\n\tcolor: ${({ color, theme }) => (theme as any)[color]};\n`;\n\nexport const TYPE = {\n\tmain(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={\"text2\"} {...props} />;\n\t},\n\tlink(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={\"primary1\"} {...props} />;\n\t},\n\tblack(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={\"text1\"} {...props} />;\n\t},\n\twhite(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={\"white\"} {...props} />;\n\t},\n\tbody(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={400} fontSize={16} color={\"text1\"} {...props} />;\n\t},\n\tlargeHeader(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={600} fontSize={24} {...props} />;\n\t},\n\tmediumHeader(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} fontSize={20} {...props} />;\n\t},\n\tsubHeader(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={400} fontSize={14} {...props} />;\n\t},\n\tsmall(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} fontSize={11} {...props} />;\n\t},\n\tblue(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={\"primary1\"} {...props} />;\n\t},\n\tyellow(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={\"yellow1\"} {...props} />;\n\t},\n\tdarkGray(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={\"text3\"} {...props} />;\n\t},\n\tgray(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={\"bg3\"} {...props} />;\n\t},\n\titalic(props: TextProps) {\n\t\treturn <TextWrapper fontWeight={500} fontSize={12} fontStyle={\"italic\"} color={\"text2\"} {...props} />;\n\t},\n\terror({ error, ...props }: { error: boolean } & TextProps) {\n\t\treturn <TextWrapper fontWeight={500} color={error ? \"red1\" : \"text2\"} {...props} />;\n\t},\n};\n\nexport const FixedGlobalStyle = createGlobalStyle`\n\nhtml, body { font-family: \"Inter\", \"system-ui\" !important; }\n\n@supports (font-variation-settings: normal) {\n  html, body { font-family: \"Inter var\", \"system-ui\" !important; }\n}\n\nhtml {\n  overflow: hidden !important;\n}\nhtml,body {\n  height: 100vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n\n.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}\n`;\n\nexport const ThemedGlobalStyle = createGlobalStyle`\n\nhtml,body {\n  color: ${({ theme }) => theme.text1};\n}\nbody {\n  background-color: ${({ theme }) => theme.bg1};\n  background-image: ${({ theme }) => theme.bodyBg};\n  color: ${({ theme }) => theme.text1};\n}\n`;\n","import { BigNumber } from \"@0x/utils\";\n\nexport interface ATokenData {\n\ttoken: any;\n\taddress: string;\n\tname: string;\n\tsymbol: string;\n\tliquidityRate: BigNumber;\n\tvariableBorrowRate: BigNumber;\n\tstableBorrowRate: BigNumber;\n\t// dependent of connected wallet\n\tbalance?: BigNumber;\n\tborrowBalance?: BigNumber;\n\tisUnlocked?: boolean;\n\t/* reserve: AReserveData;\n    user_reserve: UserReservaData;*/\n}\n\nexport interface AaveReserveGQLResponse {\n\tid: string;\n\tname: string;\n\tsymbol: string;\n\tdecimals: number;\n\tliquidityRate: string;\n\tvariableBorrowRate: string;\n\tstableBorrowRate: string;\n\taverageStableBorrowRate: string;\n\taToken: { id: string };\n\tprice: { priceInEth: string };\n}\n\nexport interface AReserveData {\n\ttotalLiquidity: BigNumber;\n\tavailableLiquidity: BigNumber;\n\ttotalBorrowsFixed: BigNumber;\n\ttotalBorrowsVariable: BigNumber;\n\tliquidityRate: BigNumber;\n\tvariableBorrowRate: BigNumber;\n\tfixedBorrowRate: BigNumber;\n\taverageFixedBorrowRate: BigNumber;\n\tutilizationRate: BigNumber;\n\tliquidityIndexRate: BigNumber;\n\tvariableBorrowIndex: BigNumber;\n\taTokenAddress: string;\n\tlastUpdateTimestamp: number;\n}\n\nexport interface UserAccountData {\n\ttotalLiquidity: BigNumber;\n\ttotalCollateralETH: BigNumber;\n\ttotalBorrowsETH: BigNumber;\n\ttotalFeesETH: BigNumber;\n\tavailableBorrowsETH: BigNumber;\n\tcurrentLiquidationThreshold: BigNumber;\n\tltv: BigNumber;\n\thealthFactor: BigNumber;\n}\n\nexport interface UserReservaData {\n\tcurrentATokenBalance: BigNumber;\n\tcurrentUnderlyingBalance: BigNumber;\n\tcurrentBorrowBalance: BigNumber;\n\tprincipalBorrowBalance: BigNumber;\n\tborrowRateMode: BigNumber;\n\tborrowRate: BigNumber;\n\tliquidityRate: BigNumber;\n\toriginationFee: BigNumber;\n\tvariableBorrowIndex: BigNumber;\n\tlastUpdateTimestamp: BigNumber;\n}\n\nexport interface AaveState {\n\treadonly protocol: Protocol;\n\treadonly aTokensData: ATokenData[];\n\treadonly userAccountData?: UserAccountData;\n\treadonly aaveLoadingState: AaveLoadingState;\n\treadonly aaveGlobalLoadingState: AaveGlobalLoadingState;\n\treadonly aaveReservesGQLResponse: AaveReserveGQLResponse[];\n\treadonly currency: \"NATIVE\" | \"USD\";\n}\n\nexport enum AaveLoadingState {\n\tDone = \"Done\",\n\tError = \"Error\",\n\tLoading = \"Loading\",\n\tNotLoaded = \"NotLoaded\",\n}\n\nexport enum AaveGlobalLoadingState {\n\tDone = \"Done\",\n\tError = \"Error\",\n\tLoading = \"Loading\",\n\tNotLoaded = \"NotLoaded\",\n}\n\nexport enum Protocol {\n\tAave = \"Aave\",\n\tBzx = \"Bzx\",\n}\n","import { Interface } from \"@ethersproject/abi\";\nimport { abi as STAKING_REWARDS_ABI } from \"@uniswap/liquidity-staker/build/StakingRewards.json\";\nimport { abi as STAKING_REWARDS_FACTORY_ABI } from \"@uniswap/liquidity-staker/build/StakingRewardsFactory.json\";\n\nconst STAKING_REWARDS_INTERFACE = new Interface(STAKING_REWARDS_ABI);\n\nconst STAKING_REWARDS_FACTORY_INTERFACE = new Interface(STAKING_REWARDS_FACTORY_ABI);\n\nexport { STAKING_REWARDS_FACTORY_INTERFACE, STAKING_REWARDS_INTERFACE };\n","import { ChainId, CurrencyAmount, JSBI, Token, TokenAmount, WETH, Pair } from \"@uniswap/sdk\";\nimport { useMemo } from \"react\";\nimport { DAI, UNI, USDC, USDT, WBTC } from \"../../constants\";\nimport { STAKING_REWARDS_INTERFACE } from \"../../constants/abis/staking-rewards\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { NEVER_RELOAD, useMultipleContractSingleData } from \"../multicall/hooks\";\nimport { tryParseAmount } from \"../swap/hooks\";\n\nexport const STAKING_GENESIS = 1600387200;\n\nexport const REWARDS_DURATION_DAYS = 60;\n\n// TODO add staking rewards addresses here\nexport const STAKING_REWARDS_INFO: {\n\t[chainId in ChainId]?: {\n\t\ttokens: [Token, Token];\n\t\tstakingRewardAddress: string;\n\t}[];\n} = {\n\t[ChainId.MAINNET]: [\n\t\t{\n\t\t\ttokens: [WETH[ChainId.MAINNET], DAI],\n\t\t\tstakingRewardAddress: \"0xa1484C3aa22a66C62b77E0AE78E15258bd0cB711\",\n\t\t},\n\t\t{\n\t\t\ttokens: [WETH[ChainId.MAINNET], USDC],\n\t\t\tstakingRewardAddress: \"0x7FBa4B8Dc5E7616e59622806932DBea72537A56b\",\n\t\t},\n\t\t{\n\t\t\ttokens: [WETH[ChainId.MAINNET], USDT],\n\t\t\tstakingRewardAddress: \"0x6C3e4cb2E96B01F4b866965A91ed4437839A121a\",\n\t\t},\n\t\t{\n\t\t\ttokens: [WETH[ChainId.MAINNET], WBTC],\n\t\t\tstakingRewardAddress: \"0xCA35e32e7926b96A9988f61d510E038108d8068e\",\n\t\t},\n\t],\n};\n\nexport interface StakingInfo {\n\t// the address of the reward contract\n\tstakingRewardAddress: string;\n\t// the tokens involved in this pair\n\ttokens: [Token, Token];\n\t// the amount of token currently staked, or undefined if no account\n\tstakedAmount: TokenAmount;\n\t// the amount of reward token earned by the active account, or undefined if no account\n\tearnedAmount: TokenAmount;\n\t// the total amount of token staked in the contract\n\ttotalStakedAmount: TokenAmount;\n\t// the amount of token distributed per second to all LPs, constant\n\ttotalRewardRate: TokenAmount;\n\t// the current amount of token distributed to the active account per second.\n\t// equivalent to percent of total supply * reward rate\n\trewardRate: TokenAmount;\n\t// when the period ends\n\tperiodFinish: Date | undefined;\n\t// calculates a hypothetical amount of token distributed to the active account per second.\n\tgetHypotheticalRewardRate: (\n\t\tstakedAmount: TokenAmount,\n\t\ttotalStakedAmount: TokenAmount,\n\t\ttotalRewardRate: TokenAmount\n\t) => TokenAmount;\n}\n\n// gets the staking info from the network for the active chain id\nexport function useStakingInfo(pairToFilterBy?: Pair | null): StakingInfo[] {\n\tconst { chainId, account } = useActiveWeb3React();\n\n\tconst info = useMemo(\n\t\t() =>\n\t\t\tchainId\n\t\t\t\t? STAKING_REWARDS_INFO[chainId]?.filter((stakingRewardInfo) =>\n\t\t\t\t\t\tpairToFilterBy === undefined\n\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t: pairToFilterBy === null\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: pairToFilterBy.involvesToken(stakingRewardInfo.tokens[0]) &&\n\t\t\t\t\t\t\t  pairToFilterBy.involvesToken(stakingRewardInfo.tokens[1])\n\t\t\t\t  ) ?? []\n\t\t\t\t: [],\n\t\t[chainId, pairToFilterBy]\n\t);\n\n\tconst uni = chainId ? UNI[chainId] : undefined;\n\n\tconst rewardsAddresses = useMemo(() => info.map(({ stakingRewardAddress }) => stakingRewardAddress), [info]);\n\n\tconst accountArg = useMemo(() => [account ?? undefined], [account]);\n\n\t// get all the info from the staking rewards contracts\n\tconst balances = useMultipleContractSingleData(\n\t\trewardsAddresses,\n\t\tSTAKING_REWARDS_INTERFACE,\n\t\t\"balanceOf\",\n\t\taccountArg\n\t);\n\tconst earnedAmounts = useMultipleContractSingleData(\n\t\trewardsAddresses,\n\t\tSTAKING_REWARDS_INTERFACE,\n\t\t\"earned\",\n\t\taccountArg\n\t);\n\tconst totalSupplies = useMultipleContractSingleData(rewardsAddresses, STAKING_REWARDS_INTERFACE, \"totalSupply\");\n\n\t// tokens per second, constants\n\tconst rewardRates = useMultipleContractSingleData(\n\t\trewardsAddresses,\n\t\tSTAKING_REWARDS_INTERFACE,\n\t\t\"rewardRate\",\n\t\tundefined,\n\t\tNEVER_RELOAD\n\t);\n\tconst periodFinishes = useMultipleContractSingleData(\n\t\trewardsAddresses,\n\t\tSTAKING_REWARDS_INTERFACE,\n\t\t\"periodFinish\",\n\t\tundefined,\n\t\tNEVER_RELOAD\n\t);\n\n\treturn useMemo(() => {\n\t\tif (!chainId || !uni) return [];\n\n\t\treturn rewardsAddresses.reduce<StakingInfo[]>((memo, rewardsAddress, index) => {\n\t\t\t// these two are dependent on account\n\t\t\tconst balanceState = balances[index];\n\t\t\tconst earnedAmountState = earnedAmounts[index];\n\n\t\t\t// these get fetched regardless of account\n\t\t\tconst totalSupplyState = totalSupplies[index];\n\t\t\tconst rewardRateState = rewardRates[index];\n\t\t\tconst periodFinishState = periodFinishes[index];\n\n\t\t\tif (\n\t\t\t\t// these may be undefined if not logged in\n\t\t\t\t!balanceState?.loading &&\n\t\t\t\t!earnedAmountState?.loading &&\n\t\t\t\t// always need these\n\t\t\t\ttotalSupplyState &&\n\t\t\t\t!totalSupplyState.loading &&\n\t\t\t\trewardRateState &&\n\t\t\t\t!rewardRateState.loading &&\n\t\t\t\tperiodFinishState &&\n\t\t\t\t!periodFinishState.loading\n\t\t\t) {\n\t\t\t\tif (\n\t\t\t\t\tbalanceState?.error ||\n\t\t\t\t\tearnedAmountState?.error ||\n\t\t\t\t\ttotalSupplyState.error ||\n\t\t\t\t\trewardRateState.error ||\n\t\t\t\t\tperiodFinishState.error\n\t\t\t\t) {\n\t\t\t\t\tconsole.error(\"Failed to load staking rewards info\");\n\t\t\t\t\treturn memo;\n\t\t\t\t}\n\n\t\t\t\t// get the LP token\n\t\t\t\tconst tokens = info[index].tokens;\n\t\t\t\tconst dummyPair = new Pair(new TokenAmount(tokens[0], \"0\"), new TokenAmount(tokens[1], \"0\"));\n\n\t\t\t\t// check for account, if no account set to 0\n\n\t\t\t\tconst stakedAmount = new TokenAmount(\n\t\t\t\t\tdummyPair.liquidityToken,\n\t\t\t\t\tJSBI.BigInt(balanceState?.result?.[0] ?? 0)\n\t\t\t\t);\n\t\t\t\tconst totalStakedAmount = new TokenAmount(\n\t\t\t\t\tdummyPair.liquidityToken,\n\t\t\t\t\tJSBI.BigInt(totalSupplyState.result?.[0])\n\t\t\t\t);\n\t\t\t\tconst totalRewardRate = new TokenAmount(uni, JSBI.BigInt(rewardRateState.result?.[0]));\n\n\t\t\t\tconst getHypotheticalRewardRate = (\n\t\t\t\t\tstakedAmount: TokenAmount,\n\t\t\t\t\ttotalStakedAmount: TokenAmount,\n\t\t\t\t\ttotalRewardRate: TokenAmount\n\t\t\t\t): TokenAmount => {\n\t\t\t\t\treturn new TokenAmount(\n\t\t\t\t\t\tuni,\n\t\t\t\t\t\tJSBI.greaterThan(totalStakedAmount.raw, JSBI.BigInt(0))\n\t\t\t\t\t\t\t? JSBI.divide(JSBI.multiply(totalRewardRate.raw, stakedAmount.raw), totalStakedAmount.raw)\n\t\t\t\t\t\t\t: JSBI.BigInt(0)\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tconst individualRewardRate = getHypotheticalRewardRate(\n\t\t\t\t\tstakedAmount,\n\t\t\t\t\ttotalStakedAmount,\n\t\t\t\t\ttotalRewardRate\n\t\t\t\t);\n\n\t\t\t\tconst periodFinishMs = periodFinishState.result?.[0]?.mul(1000)?.toNumber();\n\n\t\t\t\tmemo.push({\n\t\t\t\t\tstakingRewardAddress: rewardsAddress,\n\t\t\t\t\ttokens: info[index].tokens,\n\t\t\t\t\tperiodFinish: periodFinishMs > 0 ? new Date(periodFinishMs) : undefined,\n\t\t\t\t\tearnedAmount: new TokenAmount(uni, JSBI.BigInt(earnedAmountState?.result?.[0] ?? 0)),\n\t\t\t\t\trewardRate: individualRewardRate,\n\t\t\t\t\ttotalRewardRate: totalRewardRate,\n\t\t\t\t\tstakedAmount: stakedAmount,\n\t\t\t\t\ttotalStakedAmount: totalStakedAmount,\n\t\t\t\t\tgetHypotheticalRewardRate,\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn memo;\n\t\t}, []);\n\t}, [balances, chainId, earnedAmounts, info, periodFinishes, rewardRates, rewardsAddresses, totalSupplies, uni]);\n}\n\nexport function useTotalUniEarned(): TokenAmount | undefined {\n\tconst { chainId } = useActiveWeb3React();\n\tconst uni = chainId ? UNI[chainId] : undefined;\n\tconst stakingInfos = useStakingInfo();\n\n\treturn useMemo(() => {\n\t\tif (!uni) return undefined;\n\t\treturn (\n\t\t\tstakingInfos?.reduce(\n\t\t\t\t(accumulator, stakingInfo) => accumulator.add(stakingInfo.earnedAmount),\n\t\t\t\tnew TokenAmount(uni, \"0\")\n\t\t\t) ?? new TokenAmount(uni, \"0\")\n\t\t);\n\t}, [stakingInfos, uni]);\n}\n\n// based on typed value\nexport function useDerivedStakeInfo(\n\ttypedValue: string,\n\tstakingToken: Token,\n\tuserLiquidityUnstaked: TokenAmount | undefined\n): {\n\tparsedAmount?: CurrencyAmount;\n\terror?: string;\n} {\n\tconst { account } = useActiveWeb3React();\n\n\tconst parsedInput: CurrencyAmount | undefined = tryParseAmount(typedValue, stakingToken);\n\n\tconst parsedAmount =\n\t\tparsedInput && userLiquidityUnstaked && JSBI.lessThanOrEqual(parsedInput.raw, userLiquidityUnstaked.raw)\n\t\t\t? parsedInput\n\t\t\t: undefined;\n\n\tlet error: string | undefined;\n\tif (!account) {\n\t\terror = \"Connect Wallet\";\n\t}\n\tif (!parsedAmount) {\n\t\terror = error ?? \"Enter an amount\";\n\t}\n\n\treturn {\n\t\tparsedAmount,\n\t\terror,\n\t};\n}\n\n// based on typed value\nexport function useDerivedUnstakeInfo(\n\ttypedValue: string,\n\tstakingAmount: TokenAmount\n): {\n\tparsedAmount?: CurrencyAmount;\n\terror?: string;\n} {\n\tconst { account } = useActiveWeb3React();\n\n\tconst parsedInput: CurrencyAmount | undefined = tryParseAmount(typedValue, stakingAmount.token);\n\n\tconst parsedAmount =\n\t\tparsedInput && JSBI.lessThanOrEqual(parsedInput.raw, stakingAmount.raw) ? parsedInput : undefined;\n\n\tlet error: string | undefined;\n\tif (!account) {\n\t\terror = \"Connect Wallet\";\n\t}\n\tif (!parsedAmount) {\n\t\terror = error ?? \"Enter an amount\";\n\t}\n\n\treturn {\n\t\tparsedAmount,\n\t\terror,\n\t};\n}\n","import { UNI } from \"./../../constants/index\";\nimport { Currency, CurrencyAmount, ETHER, JSBI, Token, TokenAmount } from \"@uniswap/sdk\";\nimport { useMemo } from \"react\";\nimport ERC20_INTERFACE from \"../../constants/abis/erc20\";\nimport { useAllTokens } from \"../../hooks/Tokens\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useMulticallContract } from \"../../hooks/useContract\";\nimport { isAddress } from \"../../utils\";\nimport { useSingleContractMultipleData, useMultipleContractSingleData } from \"../multicall/hooks\";\nimport { useUserUnclaimedAmount } from \"../claim/hooks\";\nimport { useTotalUniEarned } from \"../stake/hooks\";\n\n/**\n * Returns a map of the given addresses to their eventually consistent ETH balances.\n */\nexport function useETHBalances(\n\tuncheckedAddresses?: (string | undefined)[]\n): { [address: string]: CurrencyAmount | undefined } {\n\tconst multicallContract = useMulticallContract();\n\n\tconst addresses: string[] = useMemo(\n\t\t() =>\n\t\t\tuncheckedAddresses\n\t\t\t\t? uncheckedAddresses\n\t\t\t\t\t\t.map(isAddress)\n\t\t\t\t\t\t.filter((a): a is string => a !== false)\n\t\t\t\t\t\t.sort()\n\t\t\t\t: [],\n\t\t[uncheckedAddresses]\n\t);\n\n\tconst results = useSingleContractMultipleData(\n\t\tmulticallContract,\n\t\t\"getEthBalance\",\n\t\taddresses.map((address) => [address])\n\t);\n\n\treturn useMemo(\n\t\t() =>\n\t\t\taddresses.reduce<{ [address: string]: CurrencyAmount }>((memo, address, i) => {\n\t\t\t\tconst value = results?.[i]?.result?.[0];\n\t\t\t\tif (value) memo[address] = CurrencyAmount.ether(JSBI.BigInt(value.toString()));\n\t\t\t\treturn memo;\n\t\t\t}, {}),\n\t\t[addresses, results]\n\t);\n}\n\n/**\n * Returns a map of token addresses to their eventually consistent token balances for a single account.\n */\nexport function useTokenBalancesWithLoadingIndicator(\n\taddress?: string,\n\ttokens?: (Token | undefined)[]\n): [{ [tokenAddress: string]: TokenAmount | undefined }, boolean] {\n\tconst validatedTokens: Token[] = useMemo(\n\t\t() => tokens?.filter((t?: Token): t is Token => isAddress(t?.address) !== false) ?? [],\n\t\t[tokens]\n\t);\n\n\tconst validatedTokenAddresses = useMemo(() => validatedTokens.map((vt) => vt.address), [validatedTokens]);\n\n\tconst balances = useMultipleContractSingleData(validatedTokenAddresses, ERC20_INTERFACE, \"balanceOf\", [address]);\n\n\tconst anyLoading: boolean = useMemo(() => balances.some((callState) => callState.loading), [balances]);\n\n\treturn [\n\t\tuseMemo(\n\t\t\t() =>\n\t\t\t\taddress && validatedTokens.length > 0\n\t\t\t\t\t? validatedTokens.reduce<{ [tokenAddress: string]: TokenAmount | undefined }>((memo, token, i) => {\n\t\t\t\t\t\t\tconst value = balances?.[i]?.result?.[0];\n\t\t\t\t\t\t\tconst amount = value ? JSBI.BigInt(value.toString()) : undefined;\n\t\t\t\t\t\t\tif (amount) {\n\t\t\t\t\t\t\t\tmemo[token.address] = new TokenAmount(token, amount);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn memo;\n\t\t\t\t\t  }, {})\n\t\t\t\t\t: {},\n\t\t\t[address, validatedTokens, balances]\n\t\t),\n\t\tanyLoading,\n\t];\n}\n\nexport function useTokenBalances(\n\taddress?: string,\n\ttokens?: (Token | undefined)[]\n): { [tokenAddress: string]: TokenAmount | undefined } {\n\treturn useTokenBalancesWithLoadingIndicator(address, tokens)[0];\n}\n\n// get the balance for a single token/account combo\nexport function useTokenBalance(account?: string, token?: Token): TokenAmount | undefined {\n\tconst tokenBalances = useTokenBalances(account, [token]);\n\tif (!token) return undefined;\n\treturn tokenBalances[token.address];\n}\n\nexport function useCurrencyBalances(\n\taccount?: string,\n\tcurrencies?: (Currency | undefined)[]\n): (CurrencyAmount | undefined)[] {\n\tconst tokens = useMemo(() => currencies?.filter((currency): currency is Token => currency instanceof Token) ?? [], [\n\t\tcurrencies,\n\t]);\n\n\tconst tokenBalances = useTokenBalances(account, tokens);\n\tconst containsETH: boolean = useMemo(() => currencies?.some((currency) => currency === ETHER) ?? false, [\n\t\tcurrencies,\n\t]);\n\tconst ethBalance = useETHBalances(containsETH ? [account] : []);\n\n\treturn useMemo(\n\t\t() =>\n\t\t\tcurrencies?.map((currency) => {\n\t\t\t\tif (!account || !currency) return undefined;\n\t\t\t\tif (currency instanceof Token) return tokenBalances[currency.address];\n\t\t\t\tif (currency === ETHER) return ethBalance[account];\n\t\t\t\treturn undefined;\n\t\t\t}) ?? [],\n\t\t[account, currencies, ethBalance, tokenBalances]\n\t);\n}\n\nexport function useCurrencyBalance(account?: string, currency?: Currency): CurrencyAmount | undefined {\n\treturn useCurrencyBalances(account, [currency])[0];\n}\n\n// mimics useAllBalances\nexport function useAllTokenBalances(): { [tokenAddress: string]: TokenAmount | undefined } {\n\tconst { account } = useActiveWeb3React();\n\tconst allTokens = useAllTokens();\n\tconst allTokensArray = useMemo(() => Object.values(allTokens ?? {}), [allTokens]);\n\tconst balances = useTokenBalances(account ?? undefined, allTokensArray);\n\treturn balances ?? {};\n}\n\n// get the total owned, unclaimed, and unharvested UNI for account\nexport function useAggregateUniBalance(): TokenAmount | undefined {\n\tconst { account, chainId } = useActiveWeb3React();\n\n\tconst uni = chainId ? UNI[chainId] : undefined;\n\n\tconst uniBalance: TokenAmount | undefined = useTokenBalance(account ?? undefined, uni);\n\tconst uniUnclaimed: TokenAmount | undefined = useUserUnclaimedAmount(account);\n\tconst uniUnHarvested: TokenAmount | undefined = useTotalUniEarned();\n\n\tif (!uni) return undefined;\n\n\treturn new TokenAmount(\n\t\tuni,\n\t\tJSBI.add(\n\t\t\tJSBI.add(uniBalance?.raw ?? JSBI.BigInt(0), uniUnclaimed?.raw ?? JSBI.BigInt(0)),\n\t\t\tuniUnHarvested?.raw ?? JSBI.BigInt(0)\n\t\t)\n\t);\n}\n","import { createAction } from \"@reduxjs/toolkit\";\nimport { ChainId } from \"@uniswap/sdk\";\n\nexport interface SerializableTransactionReceipt {\n\tto: string;\n\tfrom: string;\n\tcontractAddress: string;\n\ttransactionIndex: number;\n\tblockHash: string;\n\ttransactionHash: string;\n\tblockNumber: number;\n\tstatus?: number;\n}\n\nexport const addTransaction = createAction<{\n\tchainId: ChainId;\n\thash: string;\n\tfrom: string;\n\tapproval?: { tokenAddress: string; spender: string };\n\tclaim?: { recipient: string };\n\tsummary?: string;\n}>(\"transactions/addTransaction\");\nexport const clearAllTransactions = createAction<{ chainId: ChainId }>(\"transactions/clearAllTransactions\");\nexport const finalizeTransaction = createAction<{\n\tchainId: ChainId;\n\thash: string;\n\treceipt: SerializableTransactionReceipt;\n}>(\"transactions/finalizeTransaction\");\nexport const checkedTransaction = createAction<{\n\tchainId: ChainId;\n\thash: string;\n\tblockNumber: number;\n}>(\"transactions/checkedTransaction\");\n","import { TX_DEFAULTS } from \"../../constants\";\n\nexport const getTransactionOptions = (gasPrice) => {\n\tlet options = {\n\t\tgasPrice,\n\t};\n\n\tif (process.env.NODE_ENV === \"development\") {\n\t\toptions = {\n\t\t\t...options,\n\t\t\t...TX_DEFAULTS,\n\t\t};\n\t}\n\n\treturn options;\n};\n","import { DEFAULT_LIST_OF_LISTS } from \"../constants/lists\";\n\n// use ordering of default list of lists to assign priority\nexport default function sortByListPriority(urlA: string, urlB: string) {\n\tconst first = DEFAULT_LIST_OF_LISTS.includes(urlA) ? DEFAULT_LIST_OF_LISTS.indexOf(urlA) : Number.MAX_SAFE_INTEGER;\n\tconst second = DEFAULT_LIST_OF_LISTS.includes(urlB) ? DEFAULT_LIST_OF_LISTS.indexOf(urlB) : Number.MAX_SAFE_INTEGER;\n\n\t// need reverse order to make sure mapping includes top priority last\n\tif (first < second) return 1;\n\telse if (first > second) return -1;\n\treturn 0;\n}\n","import { UNSUPPORTED_LIST_URLS } from \"../../constants/lists\";\nimport DEFAULT_TOKEN_LIST from \"@uniswap/default-token-list\";\nimport { ChainId, Token } from \"@uniswap/sdk\";\nimport { Tags, TokenInfo, TokenList } from \"@uniswap/token-lists\";\nimport { useMemo } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { AppState } from \"../index\";\nimport sortByListPriority from \"../../utils/listSort\";\nimport UNSUPPORTED_TOKEN_LIST from \"../../constants/tokenLists/uniswap-v2-unsupported.tokenlist.json\";\n\ntype TagDetails = Tags[keyof Tags];\nexport interface TagInfo extends TagDetails {\n\tid: string;\n}\n\n/**\n * Token instances created from token info.\n */\nexport class WrappedTokenInfo extends Token {\n\tpublic readonly tokenInfo: TokenInfo;\n\tpublic readonly tags: TagInfo[];\n\tconstructor(tokenInfo: TokenInfo, tags: TagInfo[]) {\n\t\tsuper(tokenInfo.chainId, tokenInfo.address, tokenInfo.decimals, tokenInfo.symbol, tokenInfo.name);\n\t\tthis.tokenInfo = tokenInfo;\n\t\tthis.tags = tags;\n\t}\n\tpublic get logoURI(): string | undefined {\n\t\treturn this.tokenInfo.logoURI;\n\t}\n}\n\nexport type TokenAddressMap = Readonly<\n\t{ [chainId in ChainId]: Readonly<{ [tokenAddress: string]: { token: WrappedTokenInfo; list: TokenList } }> }\n>;\n\n/**\n * An empty result, useful as a default.\n */\nconst EMPTY_LIST: TokenAddressMap = {\n\t[ChainId.KOVAN]: {},\n\t[ChainId.RINKEBY]: {},\n\t[ChainId.ROPSTEN]: {},\n\t[ChainId.GÃ–RLI]: {},\n\t[ChainId.MAINNET]: {},\n};\n\nconst listCache: WeakMap<TokenList, TokenAddressMap> | null =\n\ttypeof WeakMap !== \"undefined\" ? new WeakMap<TokenList, TokenAddressMap>() : null;\n\nexport function listToTokenMap(list: TokenList): TokenAddressMap {\n\tconst result = listCache?.get(list);\n\tif (result) return result;\n\n\tconst map = list.tokens.reduce<TokenAddressMap>(\n\t\t(tokenMap, tokenInfo) => {\n\t\t\tconst tags: TagInfo[] =\n\t\t\t\ttokenInfo.tags\n\t\t\t\t\t?.map((tagId) => {\n\t\t\t\t\t\tif (!list.tags?.[tagId]) return undefined;\n\t\t\t\t\t\treturn { ...list.tags[tagId], id: tagId };\n\t\t\t\t\t})\n\t\t\t\t\t?.filter((x): x is TagInfo => Boolean(x)) ?? [];\n\t\t\tconst token = new WrappedTokenInfo(tokenInfo, tags);\n\t\t\tif (tokenMap[token.chainId][token.address] !== undefined) throw Error(\"Duplicate tokens.\");\n\t\t\treturn {\n\t\t\t\t...tokenMap,\n\t\t\t\t[token.chainId]: {\n\t\t\t\t\t...tokenMap[token.chainId],\n\t\t\t\t\t[token.address]: {\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\tlist: list,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\t{ ...EMPTY_LIST }\n\t);\n\tlistCache?.set(list, map);\n\treturn map;\n}\n\nexport function useAllLists(): {\n\treadonly [url: string]: {\n\t\treadonly current: TokenList | null;\n\t\treadonly pendingUpdate: TokenList | null;\n\t\treadonly loadingRequestId: string | null;\n\t\treadonly error: string | null;\n\t};\n} {\n\treturn useSelector<AppState, AppState[\"lists\"][\"byUrl\"]>((state) => state.lists.byUrl);\n}\n\nfunction combineMaps(map1: TokenAddressMap, map2: TokenAddressMap): TokenAddressMap {\n\treturn {\n\t\t1: { ...map1[1], ...map2[1] },\n\t\t3: { ...map1[3], ...map2[3] },\n\t\t4: { ...map1[4], ...map2[4] },\n\t\t5: { ...map1[5], ...map2[5] },\n\t\t42: { ...map1[42], ...map2[42] },\n\t};\n}\n\n// merge tokens contained within lists from urls\nfunction useCombinedTokenMapFromUrls(urls: string[] | undefined): TokenAddressMap {\n\tconst lists = useAllLists();\n\n\treturn useMemo(() => {\n\t\tif (!urls) return EMPTY_LIST;\n\n\t\treturn (\n\t\t\turls\n\t\t\t\t.slice()\n\t\t\t\t// sort by priority so top priority goes last\n\t\t\t\t.sort(sortByListPriority)\n\t\t\t\t.reduce((allTokens, currentUrl) => {\n\t\t\t\t\tconst current = lists[currentUrl]?.current;\n\t\t\t\t\tif (!current) return allTokens;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst newTokens = Object.assign(listToTokenMap(current));\n\t\t\t\t\t\treturn combineMaps(allTokens, newTokens);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error(\"Could not show token list due to error\", error);\n\t\t\t\t\t\treturn allTokens;\n\t\t\t\t\t}\n\t\t\t\t}, EMPTY_LIST)\n\t\t);\n\t}, [lists, urls]);\n}\n\n// filter out unsupported lists\nexport function useActiveListUrls(): string[] | undefined {\n\treturn useSelector<AppState, AppState[\"lists\"][\"activeListUrls\"]>((state) => state.lists.activeListUrls)?.filter(\n\t\t(url) => !UNSUPPORTED_LIST_URLS.includes(url)\n\t);\n}\n\nexport function useInactiveListUrls(): string[] {\n\tconst lists = useAllLists();\n\tconst allActiveListUrls = useActiveListUrls();\n\treturn Object.keys(lists).filter(\n\t\t(url) => !allActiveListUrls?.includes(url) && !UNSUPPORTED_LIST_URLS.includes(url)\n\t);\n}\n\n// get all the tokens from active lists, combine with local default tokens\nexport function useCombinedActiveList(): TokenAddressMap {\n\tconst activeListUrls = useActiveListUrls();\n\tconst activeTokens = useCombinedTokenMapFromUrls(activeListUrls);\n\tconst defaultTokenMap = listToTokenMap(DEFAULT_TOKEN_LIST);\n\treturn combineMaps(activeTokens, defaultTokenMap);\n}\n\n// all tokens from inactive lists\nexport function useCombinedInactiveList(): TokenAddressMap {\n\tconst allInactiveListUrls: string[] = useInactiveListUrls();\n\treturn useCombinedTokenMapFromUrls(allInactiveListUrls);\n}\n\n// used to hide warnings on import for default tokens\nexport function useDefaultTokenList(): TokenAddressMap {\n\treturn listToTokenMap(DEFAULT_TOKEN_LIST);\n}\n\n// list of tokens not supported on interface, used to show warnings and prevent swaps and adds\nexport function useUnsupportedTokenList(): TokenAddressMap {\n\t// get hard coded unsupported tokens\n\tconst localUnsupportedListMap = listToTokenMap(UNSUPPORTED_TOKEN_LIST);\n\n\t// get any loaded unsupported tokens\n\tconst loadedUnsupportedListMap = useCombinedTokenMapFromUrls(UNSUPPORTED_LIST_URLS);\n\n\t// format into one token address map\n\treturn combineMaps(localUnsupportedListMap, loadedUnsupportedListMap);\n}\n\nexport function useIsListActive(url: string): boolean {\n\tconst activeListUrls = useActiveListUrls();\n\treturn Boolean(activeListUrls?.includes(url));\n}\n","import { parseBytes32String } from \"@ethersproject/strings\";\nimport { Currency, ETHER, Token, currencyEquals } from \"@uniswap/sdk\";\nimport { useMemo } from \"react\";\nimport {\n\tTokenAddressMap,\n\tuseCombinedActiveList,\n\tuseCombinedInactiveList,\n\tuseDefaultTokenList,\n\tuseUnsupportedTokenList,\n} from \"../state/lists/hooks\";\nimport { NEVER_RELOAD, useSingleCallResult } from \"../state/multicall/hooks\";\nimport { useUserAddedTokens } from \"../state/user/hooks\";\nimport { isAddress } from \"../utils\";\n\nimport { useActiveWeb3React } from \"./index\";\nimport { useBytes32TokenContract, useTokenContract } from \"./useContract\";\nimport { filterTokens } from \"../components/SearchModal/filtering\";\n\n// parse a name or symbol from a token response\nconst BYTES32_REGEX = /^0x[a-fA-F0-9]{64}$/;\nfunction parseStringOrBytes32(str: string | undefined, bytes32: string | undefined, defaultValue: string): string {\n\treturn str && str.length > 0\n\t\t? str\n\t\t: bytes32 && BYTES32_REGEX.test(bytes32)\n\t\t? parseBytes32String(bytes32)\n\t\t: defaultValue;\n}\n\n// reduce token map into standard address <-> Token mapping, optionally include user added tokens\nfunction useTokensFromMap(tokenMap: TokenAddressMap, includeUserAdded: boolean): { [address: string]: Token } {\n\tconst { chainId } = useActiveWeb3React();\n\tconst userAddedTokens = useUserAddedTokens();\n\n\treturn useMemo(() => {\n\t\tif (!chainId) return {};\n\n\t\t// reduce to just tokens\n\t\tconst mapWithoutUrls = Object.keys(tokenMap[chainId]).reduce<{ [address: string]: Token }>(\n\t\t\t(newMap, address) => {\n\t\t\t\tnewMap[address] = tokenMap[chainId][address].token;\n\t\t\t\treturn newMap;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\n\t\tif (includeUserAdded) {\n\t\t\treturn (\n\t\t\t\tuserAddedTokens\n\t\t\t\t\t// reduce into all ALL_TOKENS filtered by the current chain\n\t\t\t\t\t.reduce<{ [address: string]: Token }>(\n\t\t\t\t\t\t(tokenMap, token) => {\n\t\t\t\t\t\t\ttokenMap[token.address] = token;\n\t\t\t\t\t\t\treturn tokenMap;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// must make a copy because reduce modifies the map, and we do not\n\t\t\t\t\t\t// want to make a copy in every iteration\n\t\t\t\t\t\t{ ...mapWithoutUrls }\n\t\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn mapWithoutUrls;\n\t}, [chainId, userAddedTokens, tokenMap, includeUserAdded]);\n}\n\nexport function useDefaultTokens(): { [address: string]: Token } {\n\tconst defaultList = useDefaultTokenList();\n\treturn useTokensFromMap(defaultList, false);\n}\n\nexport function useAllInactiveTokens(): { [address: string]: Token } {\n\t// get inactive tokens\n\tconst inactiveTokensMap = useCombinedInactiveList();\n\tconst inactiveTokens = useTokensFromMap(inactiveTokensMap, false);\n\n\t// filter out any token that are on active list\n\tconst activeTokensAddresses = Object.keys(useAllTokens());\n\tconst filteredInactive = activeTokensAddresses\n\t\t? Object.keys(inactiveTokens).reduce<{ [address: string]: Token }>((newMap, address) => {\n\t\t\t\tif (!activeTokensAddresses.includes(address)) {\n\t\t\t\t\tnewMap[address] = inactiveTokens[address];\n\t\t\t\t}\n\t\t\t\treturn newMap;\n\t\t  }, {})\n\t\t: inactiveTokens;\n\n\treturn filteredInactive;\n}\n\nexport function useUnsupportedTokens(): { [address: string]: Token } {\n\tconst unsupportedTokensMap = useUnsupportedTokenList();\n\treturn useTokensFromMap(unsupportedTokensMap, false);\n}\n\nexport function useAllTokens(): { [address: string]: Token } {\n\tconst allTokens = useCombinedActiveList();\n\treturn useTokensFromMap(allTokens, true);\n}\n\n// Check if currency is included in custom list from user storage\nexport function useIsUserAddedToken(currency: Currency | undefined | null): boolean {\n\tconst userAddedTokens = useUserAddedTokens();\n\n\tif (!currency) {\n\t\treturn false;\n\t}\n\n\treturn !!userAddedTokens.find((token) => currencyEquals(currency, token));\n}\n\nexport function useIsTokenActive(token: Token | undefined | null): boolean {\n\tconst activeTokens = useAllTokens();\n\n\tif (!activeTokens || !token) {\n\t\treturn false;\n\t}\n\n\treturn !!activeTokens[token.address];\n}\n\n// used to detect extra search results\nexport function useFoundOnInactiveList(searchQuery: string): Token[] | undefined {\n\tconst { chainId } = useActiveWeb3React();\n\tconst inactiveTokens = useAllInactiveTokens();\n\n\treturn useMemo(() => {\n\t\tif (!chainId || searchQuery === \"\") {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\tconst tokens = filterTokens(Object.values(inactiveTokens), searchQuery);\n\t\t\treturn tokens;\n\t\t}\n\t}, [chainId, inactiveTokens, searchQuery]);\n}\n\n// undefined if invalid or does not exist\n// null if loading\n// otherwise returns the token\nexport function useToken(tokenAddress?: string): Token | undefined | null {\n\tconst { chainId } = useActiveWeb3React();\n\tconst tokens = useAllTokens();\n\n\tconst address = isAddress(tokenAddress);\n\n\tconst tokenContract = useTokenContract(address ? address : undefined, false);\n\tconst tokenContractBytes32 = useBytes32TokenContract(address ? address : undefined, false);\n\tconst token: Token | undefined = address ? tokens[address] : undefined;\n\n\tconst tokenName = useSingleCallResult(token ? undefined : tokenContract, \"name\", undefined, NEVER_RELOAD);\n\tconst tokenNameBytes32 = useSingleCallResult(\n\t\ttoken ? undefined : tokenContractBytes32,\n\t\t\"name\",\n\t\tundefined,\n\t\tNEVER_RELOAD\n\t);\n\tconst symbol = useSingleCallResult(token ? undefined : tokenContract, \"symbol\", undefined, NEVER_RELOAD);\n\tconst symbolBytes32 = useSingleCallResult(\n\t\ttoken ? undefined : tokenContractBytes32,\n\t\t\"symbol\",\n\t\tundefined,\n\t\tNEVER_RELOAD\n\t);\n\tconst decimals = useSingleCallResult(token ? undefined : tokenContract, \"decimals\", undefined, NEVER_RELOAD);\n\n\treturn useMemo(() => {\n\t\tif (token) return token;\n\t\tif (!chainId || !address) return undefined;\n\t\tif (decimals.loading || symbol.loading || tokenName.loading) return null;\n\t\tif (decimals.result) {\n\t\t\treturn new Token(\n\t\t\t\tchainId,\n\t\t\t\taddress,\n\t\t\t\tdecimals.result[0],\n\t\t\t\tparseStringOrBytes32(symbol.result?.[0], symbolBytes32.result?.[0], \"UNKNOWN\"),\n\t\t\t\tparseStringOrBytes32(tokenName.result?.[0], tokenNameBytes32.result?.[0], \"Unknown Token\")\n\t\t\t);\n\t\t}\n\t\treturn undefined;\n\t}, [\n\t\taddress,\n\t\tchainId,\n\t\tdecimals.loading,\n\t\tdecimals.result,\n\t\tsymbol.loading,\n\t\tsymbol.result,\n\t\tsymbolBytes32.result,\n\t\ttoken,\n\t\ttokenName.loading,\n\t\ttokenName.result,\n\t\ttokenNameBytes32.result,\n\t]);\n}\n\nexport function useCurrency(currencyId: string | undefined): Currency | null | undefined {\n\tconst isETH = currencyId?.toUpperCase() === \"ETH\";\n\tconst token = useToken(isETH ? undefined : currencyId);\n\treturn isETH ? ETHER : token;\n}\n","import { BigNumber } from \"@0x/utils\";\n\nexport const todayInSeconds = () => {\n\treturn Math.floor(Date.now() / 1000);\n};\n\nexport const convertDateToUTCTimestamp = (date) => {\n\treturn date.getTime() - date.getTimezoneOffset() * 60000;\n};\n\n// Default to 7 days\nexport const getExpirationTimeOrdersFromConfig = () => {\n\treturn new BigNumber(\n\t\tMath.floor(new Date().valueOf() / 1000) + (Number(process.env.REACT_APP_EXPIRE_ORDERS_TIME) || 3600 * 24 * 7)\n\t);\n};\n\nexport const getExpirationTimeFromSeconds = (seconds) => {\n\treturn new BigNumber(Math.floor(new Date().valueOf() / 1000) + seconds.toNumber());\n};\n","import useParsedQueryString from \"./useParsedQueryString\";\n\nexport enum Version {\n\tv1 = \"v1\",\n\tv2 = \"v2\",\n}\n\nexport const DEFAULT_VERSION: Version = Version.v2;\n\nexport default function useToggledVersion(): Version {\n\tconst { use } = useParsedQueryString();\n\tif (!use || typeof use !== \"string\") return Version.v2;\n\tif (use.toLowerCase() === \"v1\") return Version.v1;\n\treturn DEFAULT_VERSION;\n}\n","import { useEffect, useState } from \"react\";\n\n// modified from https://usehooks.com/useDebounce/\nexport default function useDebounce<T>(value: T, delay: number): T {\n\tconst [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n\tuseEffect(() => {\n\t\t// Update debounced value after delay\n\t\tconst handler = setTimeout(() => {\n\t\t\tsetDebouncedValue(value);\n\t\t}, delay);\n\n\t\t// Cancel the timeout if value changes (also on delay change or unmount)\n\t\t// This is how we prevent debounced value from updating if value is changed ...\n\t\t// .. within the delay period. Timeout gets cleared and restarted.\n\t\treturn () => {\n\t\t\tclearTimeout(handler);\n\t\t};\n\t}, [value, delay]);\n\n\treturn debouncedValue;\n}\n","import { BigNumber } from \"@0x/utils\";\nimport { createAction } from \"@reduxjs/toolkit\";\n\nimport {\n\tgetAaveOverall,\n\tgetAllATokens,\n\tgetAllATokensV2,\n\tgetATokenContractWrapper,\n\tgetLendingPool,\n} from \"../../services/aave/aave\";\nimport { AAVE_ETH_TOKEN } from \"../../utils/aave/constants\";\nimport { AaveLoadingState } from \"../../utils/aave/types\";\nimport { isWeth } from \"../../utils/known_tokens\";\nimport { getTransactionOptions } from \"../../utils/spot/transactions\";\nimport { getAaveReservesGQLResponse } from \"../selectors\";\nimport { DEFAULT_GAS_PRICE } from \"../../constants\";\nimport { Web3Wrapper } from \"@0x/web3-wrapper\";\nimport Web3 from \"web3\";\n\nexport const initializeAaveData = createAction(\"aave/init\");\n\nexport const setAaveLoadingState = createAction(\"aave/AAVE_LOADING_STATE_set\");\n\nexport const setATokenBalance = createAction(\"aave/ATOKEN_BALANCE_set\");\n\nexport const setAaveReservesGQLResponse = createAction(\"aave/RESERVES_GQL_RESPONSE_set\");\n\nexport const setATokenBalances = createAction(\"aave/ATOKEN_BALANCES_set\");\n\nexport const setAaveUserAccountData = createAction(\"aave/USER_ACCOUNT_DATA_set\");\n\nexport const setAaveCurrency = createAction(\"aave/AAVE_CURRENCY_set\");\n\nexport const initAave = (ethAccount) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst aaveReservesGQL = getAaveReservesGQLResponse(state);\n\t\tdispatch(setAaveLoadingState(AaveLoadingState.Loading));\n\t\ttry {\n\t\t\tdispatch(setAaveReservesGQLResponse(aaveReservesGQL));\n\t\t\tconst aTokens = await getAllATokensV2(aaveReservesGQL, ethAccount);\n\n\t\t\tdispatch(\n\t\t\t\tinitializeAaveData({\n\t\t\t\t\taTokensData: aTokens,\n\t\t\t\t})\n\t\t\t);\n\t\t\tdispatch(setAaveLoadingState(AaveLoadingState.Done));\n\t\t} catch (error) {\n\t\t\tdispatch(setAaveLoadingState(AaveLoadingState.Error));\n\t\t}\n\t};\n};\n\nexport const fetchAave = (ethAccount) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst aaveReservesGQL = getAaveReservesGQLResponse(state);\n\t\ttry {\n\t\t\tconst aTokens = await getAllATokensV2(aaveReservesGQL, ethAccount);\n\t\t\tdispatch(setATokenBalances(aTokens));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nexport const fetchAaveGlobal = (ethAccount) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst aaveReservesGQL = getAaveReservesGQLResponse(state);\n\t\ttry {\n\t\t\tconst aTokens = await getAllATokens(aaveReservesGQL, ethAccount);\n\t\t\tdispatch(setATokenBalances(aTokens));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nexport const lendingAToken = (token, aToken, amount, isEth, ethAccount) => {\n\treturn async (dispatch) => {\n\t\tconst gasPrice = DEFAULT_GAS_PRICE;\n\t\tconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\t\tlet web3Wrapper;\n\t\tlet txHash;\n\t\tif (web3.currentProvider) {\n\t\t\tweb3Wrapper = new Web3Wrapper(web3.currentProvider);\n\t\t\tconst lendingPoolWrapper = await getLendingPool(\n\t\t\t\t{\n\t\t\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\t\t\tgas: \"400000\",\n\t\t\t\t},\n\t\t\t\tweb3Wrapper.getProvider()\n\t\t\t);\n\t\t\tif (isEth) {\n\t\t\t\ttxHash = await lendingPoolWrapper.deposit(AAVE_ETH_TOKEN, amount, 69).sendTransactionAsync({\n\t\t\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\t\t\tvalue: amount.toString(),\n\t\t\t\t\tgasPrice: getTransactionOptions(gasPrice).gasPrice,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttxHash = await lendingPoolWrapper.deposit(token.address, amount, 69).sendTransactionAsync({\n\t\t\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\t\t\tgasPrice: getTransactionOptions(gasPrice).gasPrice,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst tx = web3Wrapper.awaitTransactionSuccessAsync(txHash);\n\n\t\t\ttx.then(async () => {\n\t\t\t\tconst userAcc = await getAaveOverall(ethAccount);\n\t\t\t\tdispatch(setAaveUserAccountData(userAcc));\n\t\t\t});\n\t\t}\n\n\t\t/*web3Wrapper.awaitTransactionSuccessAsync(tx).then(() => {\n            // tslint:disable-next-line:no-floating-promises\n            dispatch(updateTokenBalancesOnToggleTokenLock(token, isUnlocked));\n        });*/\n\n\t\treturn txHash;\n\t};\n};\n\nexport const unLendingAToken = (token, aToken, amount, isEth, ethAccount) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst gasPrice = DEFAULT_GAS_PRICE;\n\t\tconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\t\tconst web3Wrapper = new Web3Wrapper(web3.currentProvider);\n\t\tconst aTokenWrapper = await getATokenContractWrapper(\n\t\t\taToken.address,\n\t\t\t{\n\t\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\t\tgas: \"800000\",\n\t\t\t},\n\t\t\tweb3Wrapper.getProvider()\n\t\t);\n\n\t\tconst txHash = await aTokenWrapper.redeem(amount).sendTransactionAsync({\n\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\tgasPrice: getTransactionOptions(gasPrice).gasPrice,\n\t\t});\n\n\t\tconst tx = web3Wrapper.awaitTransactionSuccessAsync(txHash);\n\n\t\ttx.then(async () => {\n\t\t\tconst userAcc = await getAaveOverall(ethAccount);\n\t\t\tdispatch(setAaveUserAccountData(userAcc));\n\t\t});\n\n\t\t/*web3Wrapper.awaitTransactionSuccessAsync(tx).then(() => {\n            // tslint:disable-next-line:no-floating-promises\n            dispatch(updateTokenBalancesOnToggleTokenLock(token, isUnlocked));\n        });*/\n\t\t// tslint:disable-next-line: no-floating-promises\n\n\t\treturn txHash;\n\t};\n};\n\nexport const borrowAToken = (token, aToken, amount, isEth, ethAccount) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst gasPrice = DEFAULT_GAS_PRICE;\n\t\tconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\t\tconst web3Wrapper = new Web3Wrapper(web3.currentProvider);\n\t\tconst lendingPoolWrapper = await getLendingPool(\n\t\t\t{\n\t\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\t\tgas: \"800000\",\n\t\t\t},\n\t\t\tweb3Wrapper.getProvider()\n\t\t);\n\t\tlet address;\n\t\tif (isWeth(aToken.token.symbol)) {\n\t\t\taddress = AAVE_ETH_TOKEN;\n\t\t} else {\n\t\t\taddress = aToken.token.address;\n\t\t}\n\n\t\tconst txHash = await lendingPoolWrapper.borrow(address, amount, new BigNumber(2), 69).sendTransactionAsync({\n\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\tgasPrice: getTransactionOptions(gasPrice).gasPrice,\n\t\t});\n\n\t\tconst tx = web3Wrapper.awaitTransactionSuccessAsync(txHash);\n\n\t\ttx.then(async () => {\n\t\t\tconst userAcc = await getAaveOverall(ethAccount);\n\t\t\tdispatch(setAaveUserAccountData(userAcc));\n\t\t});\n\n\t\treturn txHash;\n\t};\n};\n\nexport const repayAToken = (token, aToken, amount, isEth, ethAccount) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst gasPrice = DEFAULT_GAS_PRICE;\n\t\tconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\t\tconst web3Wrapper = new Web3Wrapper(web3.currentProvider);\n\t\tconst lendingPoolWrapper = await getLendingPool(\n\t\t\t{\n\t\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\t\tgas: \"300000\",\n\t\t\t},\n\t\t\tweb3Wrapper.getProvider()\n\t\t);\n\t\tlet address;\n\t\tlet txHash;\n\t\tif (isWeth(aToken.token.symbol) || aToken.token.symbol.toLowerCase() === \"eth\") {\n\t\t\taddress = AAVE_ETH_TOKEN;\n\t\t\tlet amountRepay = amount;\n\t\t\tconst borrowBalance = aToken.borrowBalance;\n\t\t\tif (borrowBalance.minus(borrowBalance).dividedBy(borrowBalance).isLessThan(0.01)) {\n\t\t\t\tamountRepay = amount.plus(amount.multipliedBy(0.001)).integerValue(BigNumber.ROUND_DOWN);\n\t\t\t}\n\t\t\ttxHash = await lendingPoolWrapper\n\t\t\t\t.repay(address, amountRepay, ethAccount.toLowerCase())\n\t\t\t\t.sendTransactionAsync({\n\t\t\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\t\t\tgasPrice: getTransactionOptions(gasPrice).gasPrice,\n\t\t\t\t\tvalue: amountRepay,\n\t\t\t\t});\n\t\t} else {\n\t\t\taddress = aToken.token.address;\n\t\t\t// if we pass -1 on the amount it will pay all the borrow balance, we assume when amount is 99 % of borrowedbalance user, wants to pay\n\t\t\t// all the borrow balance.\n\t\t\tconst borrowBalance = aToken.borrowBalance;\n\t\t\tlet amountRepay = amount;\n\t\t\tif (borrowBalance.minus(borrowBalance).dividedBy(borrowBalance).isLessThan(0.01)) {\n\t\t\t\tamountRepay = amount.plus(amount.multipliedBy(0.001)).integerValue(BigNumber.ROUND_DOWN);\n\t\t\t}\n\n\t\t\ttxHash = await lendingPoolWrapper\n\t\t\t\t.repay(address, amountRepay, ethAccount.toLowerCase())\n\t\t\t\t.sendTransactionAsync({\n\t\t\t\t\tfrom: ethAccount.toLowerCase(),\n\t\t\t\t\tgasPrice: getTransactionOptions(gasPrice).gasPrice,\n\t\t\t\t});\n\t\t}\n\n\t\tconst tx = web3Wrapper.awaitTransactionSuccessAsync(txHash);\n\n\t\ttx.then(async () => {\n\t\t\tconst userAcc = await getAaveOverall(ethAccount);\n\t\t\tdispatch(setAaveUserAccountData(userAcc));\n\t\t});\n\n\t\treturn txHash;\n\t};\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === \"localhost\" ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === \"[::1]\" ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener(\"load\", () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\n\t\t\t\t\t\t\t\"worker. To learn more, visit https://cra.link/PWA\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See https://cra.link/PWA.\"\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { \"Service-Worker\": \"script\" },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\"No internet connection found. App is running in offline mode.\");\n\t\t});\n}\n\nexport function unregister() {\n\tif (\"serviceWorker\" in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { emitter } from \"../../lib/helper\";\n\ninterface Props {\n\thistory: {\n\t\tpush: (path: string, state: any) => void;\n\t};\n}\n\nclass RouteChanger extends Component<Props> {\n\tcomponentDidMount() {\n\t\temitter.on(\"change-route\", this.changeRouteHandler);\n\t}\n\n\tcomponentWillUnmount() {\n\t\temitter.off(\"change-route\", this.changeRouteHandler);\n\t}\n\n\tchangeRouteHandler = (e: any) => {\n\t\tthis.props.history?.push(e.path, e.state || {});\n\t};\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\n// @ts-ignore\nexport default withRouter(RouteChanger);\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport useCopyClipboard from \"../../hooks/useCopyClipboard\";\n\nimport { LinkStyledButton } from \"../../theme\";\nimport { CheckCircle } from \"react-feather\";\nimport SVG from \"react-inlinesvg\";\n\nconst CopyIcon = styled(LinkStyledButton)`\n\tcolor: ${({ theme }) => theme.text3};\n\tflex-shrink: 0;\n\tdisplay: flex;\n\ttext-decoration: none;\n\tfont-size: 0.825rem;\n\talign-items: center;\n\t:hover,\n\t:active,\n\t:focus {\n\t\ttext-decoration: none;\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n\n\t@media (max-width: 1199px) {\n\t\tpadding: 0;\n\t}\n`;\nconst TransactionStatusText = styled.span<{ hasMargin?: boolean }>`\n\tfont-size: 1rem;\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tpadding-left: ${({ hasMargin }) => (hasMargin ? \"10px\" : \"0\")};\n\n\t@media (min-width: 1200px) {\n\t\tmargin-left: 0.25rem;\n\t}\n`;\n\nexport default function CopyHelper(props: { toCopy: string; children?: React.ReactNode }) {\n\tconst [isCopied, setCopied] = useCopyClipboard();\n\n\treturn (\n\t\t<CopyIcon onClick={() => setCopied(props.toCopy)}>\n\t\t\t{isCopied ? (\n\t\t\t\t<TransactionStatusText>\n\t\t\t\t\t<CheckCircle size={\"24\"} />\n\t\t\t\t\t<TransactionStatusText hasMargin>Copied</TransactionStatusText>\n\t\t\t\t</TransactionStatusText>\n\t\t\t) : (\n\t\t\t\t<TransactionStatusText>\n\t\t\t\t\t<SVG src={require(\"../../assets/images/account/copy.svg\").default} />\n\t\t\t\t</TransactionStatusText>\n\t\t\t)}\n\t\t\t{isCopied ? \"\" : props.children}\n\t\t</CopyIcon>\n\t);\n}\n","import copy from \"copy-to-clipboard\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nexport default function useCopyClipboard(timeout = 500): [boolean, (toCopy: string) => void] {\n\tconst [isCopied, setIsCopied] = useState(false);\n\n\tconst staticCopy = useCallback((text) => {\n\t\tconst didCopy = copy(text);\n\t\tsetIsCopied(didCopy);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (isCopied) {\n\t\t\tconst hide = setTimeout(() => {\n\t\t\t\tsetIsCopied(false);\n\t\t\t}, timeout);\n\n\t\t\treturn () => {\n\t\t\t\tclearTimeout(hide);\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}, [isCopied, setIsCopied, timeout]);\n\n\treturn [isCopied, staticCopy];\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { shortenAddress } from \"../../utils\";\nimport Copy from \"./Copy\";\nimport { Jazzicon } from \"@ukstv/jazzicon-react\";\n\nimport { SUPPORTED_WALLETS } from \"../../connectors\";\nimport { getEtherscanLink } from \"../../utils\";\nimport { injected } from \"../../connectors\";\nimport SVG from \"react-inlinesvg\";\nimport { ExternalLink } from \"../../theme\";\n\nexport const ModifiedJazzicon = styled(Jazzicon)`\n\twidth: 48px;\n\theight: 48px;\n\tborder-radius: 48px;\n\n\t@media (max-width: 1199px) {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tborder-radius: 32px;\n\t}\n`;\nconst UpperSection = styled.div`\n\tposition: relative;\n\n\th5 {\n\t\tmargin: 0;\n\t\tmargin-bottom: 0.5rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 400;\n\t}\n\n\th5:last-child {\n\t\tmargin-bottom: 0px;\n\t}\n\n\th4 {\n\t\tmargin-top: 0;\n\t\tfont-weight: 500;\n\t}\n`;\n\nconst InfoCard = styled.div`\n\tpadding: 1rem 0;\n\tposition: relative;\n\tdisplay: grid;\n\tgrid-row-gap: 30px;\n\tmargin-bottom: 20px;\n\n\t@media (max-width: 1199px) {\n\t\tpadding: 0;\n\t\tmargin-bottom: 0;\n\t}\n`;\n\nconst AccountGroupingRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\tjustify-content: space-between;\n\talign-items: center;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n\n\tdiv {\n\t\t${({ theme }) => theme.flexRowNoWrap};\n\t\talign-items: center;\n\t}\n`;\n\nconst AccountSection = styled.div`\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\n\t@media (max-width: 1199px) {\n\t\tpadding: 1.25rem 3.5rem 1rem;\n\t}\n`;\n\nconst YourAccount = styled.div`\n\th5 {\n\t\tmargin: 0 0 1rem 0;\n\t\tfont-weight: 400;\n\t}\n\n\th4 {\n\t\tmargin: 0;\n\t\tfont-weight: 500;\n\t}\n`;\n\nconst AccountControl = styled.div`\n\tdisplay: flex;\n\tmin-width: 0;\n\twidth: 100%;\n\n\tfont-weight: 500;\n\tfont-size: 1.25rem;\n\n\tpadding-top: 1.5rem;\n\n\t@media (max-width: 1199px) {\n\t\tpadding-top: 0.75rem;\n\t\tflex-direction: column !important;\n\t\tjustify-content: space-between !important;\n\t\talign-items: stretch !important;\n\n\t\t& > a,\n\t\t& > button {\n\t\t\tmargin-bottom: 45px;\n\t\t}\n\t}\n\n\ta:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\tp {\n\t\tmin-width: 0;\n\t\tmargin: 0;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n`;\n\nconst AddressLink = styled(ExternalLink)<{ hasENS: boolean; isENS: boolean }>`\n\tfont-size: 0.825rem;\n\tcolor: ${({ theme }) => theme.text3};\n\tmargin-left: 1.75rem;\n\tfont-size: 0.825rem;\n\tdisplay: flex;\n\talign-items: center;\n\t:hover {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n\n\t@media (max-width: 1199px) {\n\t\tmargin-left: 0;\n\t}\n`;\n\nconst WalletName = styled.div`\n\twidth: initial;\n\tfont-size: 1rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text3};\n`;\n\nconst WalletButtons = styled.span`\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\ttext-decoration: underline;\n\tcolor: ${({ theme }) => theme.text3};\n`;\n\nconst WalletLink = styled.p`\n\tcolor: ${({ theme }) => theme.primary};\n\tbackground-color: rgba(135, 220, 225, 0.15);\n\tborder-radius: 18px;\n\tpadding: 10px 15px;\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 1rem;\n\tmax-height: 48px;\n\theight: 48px;\n\tfont-weight: 500;\n\n\t@media (max-width: 1199px) {\n\t\theight: 32px;\n\t\tmax-height: 32px;\n\t\tpadding: 5px 15px;\n\t\tborder-radius: 12px;\n\t}\n`;\n\nconst ChangeAccountContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n`;\n\ninterface AccountDetailsProps {\n\ttoggleWalletModal: () => void;\n\tpendingTransactions: string[];\n\tconfirmedTransactions: string[];\n\tENSName?: string | null;\n\topenOptions: () => void;\n}\n\nexport default function AccountDetails({\n\tpendingTransactions,\n\tconfirmedTransactions,\n\tENSName,\n\topenOptions,\n}: AccountDetailsProps) {\n\tconst { chainId, account, connector } = useActiveWeb3React();\n\n\tfunction formatConnectorName() {\n\t\tconst { ethereum } = window;\n\t\tconst isMetaMask = !!(ethereum && ethereum.isMetaMask);\n\t\tconst name = Object.keys(SUPPORTED_WALLETS)\n\t\t\t.filter(\n\t\t\t\t(k) =>\n\t\t\t\t\tSUPPORTED_WALLETS[k].connector === connector &&\n\t\t\t\t\t(connector !== injected || isMetaMask === (k === \"METAMASK\"))\n\t\t\t)\n\t\t\t.map((k) => SUPPORTED_WALLETS[k].name)[0];\n\t\treturn <WalletName>Connected with {name}</WalletName>;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<UpperSection>\n\t\t\t\t<AccountSection>\n\t\t\t\t\t<YourAccount>\n\t\t\t\t\t\t<InfoCard>\n\t\t\t\t\t\t\t<AccountGroupingRow>{formatConnectorName()}</AccountGroupingRow>\n\t\t\t\t\t\t\t<AccountGroupingRow id=\"web3-account-identifier-row\">\n\t\t\t\t\t\t\t\t<AccountControl>\n\t\t\t\t\t\t\t\t\t{ENSName ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"symbol symbol-md mr-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ModifiedJazzicon address={account || \"\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<WalletLink> {ENSName}</WalletLink>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"symbol symbol-md mr-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ModifiedJazzicon address={account || \"\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<WalletLink> {account && shortenAddress(account)}</WalletLink>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</AccountControl>\n\t\t\t\t\t\t\t</AccountGroupingRow>\n\t\t\t\t\t\t\t<AccountGroupingRow>\n\t\t\t\t\t\t\t\t{ENSName ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<AccountControl>\n\t\t\t\t\t\t\t\t\t\t\t{account && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Copy toCopy={account}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WalletButtons style={{ marginLeft: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCopy Address\n\t\t\t\t\t\t\t\t\t\t\t\t\t</WalletButtons>\n\t\t\t\t\t\t\t\t\t\t\t\t</Copy>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{chainId && account && (\n\t\t\t\t\t\t\t\t\t\t\t\t<AddressLink\n\t\t\t\t\t\t\t\t\t\t\t\t\thasENS={!!ENSName}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisENS={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={chainId && getEtherscanLink(chainId, ENSName, \"address\")}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SVG\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequire(\"../../assets/images/account/external-link.svg\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.default\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WalletButtons style={{ marginLeft: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tView on Etherscan\n\t\t\t\t\t\t\t\t\t\t\t\t\t</WalletButtons>\n\t\t\t\t\t\t\t\t\t\t\t\t</AddressLink>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</AccountControl>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<AccountControl>\n\t\t\t\t\t\t\t\t\t\t\t{account && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Copy toCopy={account}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WalletButtons style={{ marginLeft: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCopy Address\n\t\t\t\t\t\t\t\t\t\t\t\t\t</WalletButtons>\n\t\t\t\t\t\t\t\t\t\t\t\t</Copy>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{chainId && account && (\n\t\t\t\t\t\t\t\t\t\t\t\t<AddressLink\n\t\t\t\t\t\t\t\t\t\t\t\t\thasENS={!!ENSName}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisENS={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={getEtherscanLink(chainId, account, \"address\")}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SVG\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequire(\"../../assets/images/account/external-link.svg\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.default\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WalletButtons style={{ marginLeft: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tView on Etherscan\n\t\t\t\t\t\t\t\t\t\t\t\t\t</WalletButtons>\n\t\t\t\t\t\t\t\t\t\t\t\t</AddressLink>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</AccountControl>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</AccountGroupingRow>\n\t\t\t\t\t\t</InfoCard>\n\t\t\t\t\t</YourAccount>\n\t\t\t\t</AccountSection>\n\n\t\t\t\t<ChangeAccountContainer>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-secondary-light d-block d-xl-none btn-block w-100 py-3\"\n\t\t\t\t\t\tonClick={openOptions}\n\t\t\t\t\t>\n\t\t\t\t\t\tChange\n\t\t\t\t\t</button>\n\t\t\t\t</ChangeAccountContainer>\n\t\t\t</UpperSection>\n\t\t</>\n\t);\n}\n","const ethereum = {\n\tpath: \"m/44'/60'/0'/0\",\n\tlabel: \"Ethereum\",\n};\nconst poaNetwork = {\n\tpath: \"m/44'/60'/0'/0\",\n\tlabel: \"POA network\",\n};\nconst ethereumClassic = {\n\tpath: \"m/44'/61'/0'/0\",\n\tlabel: \"Ethereum Classic\",\n};\nconst ropsten = {\n\tpath: \"m/44'/1'/0'/0\",\n\tlabel: \"Ropsten Testnet\",\n};\nconst singularDTV = {\n\tpath: \"m/0'/0'/0'\",\n\tlabel: \"SingularDTV\",\n};\nconst expanse = {\n\tpath: \"m/44'/40'/0'/0\",\n\tlabel: \"Expanse\",\n};\nconst ubiq = {\n\tpath: \"m/44'/108'/0'/0\",\n\tlabel: \"Ubiq\",\n};\nconst ellaism = {\n\tpath: \"m/44'/163'/0'/0\",\n\tlabel: \"Ellaism\",\n};\nconst etherGem = {\n\tpath: \"m/44'/1987'/0'/0\",\n\tlabel: \"EtherGem\",\n};\nconst callisto = {\n\tpath: \"m/44'/820'/0'/0\",\n\tlabel: \"Callisto\",\n};\nconst ethereumSocial = {\n\tpath: \"m/44'/1128'/0'/0\",\n\tlabel: \"Ethereum Social\",\n};\nconst musicoin = {\n\tpath: \"m/44'/184'/0'/0\",\n\tlabel: \"Musicoin\",\n};\nconst goChain = {\n\tpath: \"m/44'/6060'/0'/0\",\n\tlabel: \"GoChain\",\n};\nconst eosClassic = {\n\tpath: \"m/44'/2018'/0'/0\",\n\tlabel: \"EOS Classic\",\n};\nconst akroma = {\n\tpath: \"m/44'/200625'/0'/0\",\n\tlabel: \"Akroma\",\n};\nconst etherSocialNetwork = {\n\tpath: \"m/44'/31102'/0'/0\",\n\tlabel: \"EtherSocial Network\",\n};\nconst pirl = {\n\tpath: \"m/44'/164'/0'/0\",\n\tlabel: \"PIRL\",\n};\nconst ether1 = {\n\tpath: \"m/44'/1313114'/0'/0\",\n\tlabel: \"Ether-1\",\n};\nconst atheios = {\n\tpath: \"m/44'/1620'/0'/0\",\n\tlabel: \"Atheios\",\n};\n\nconst tomoChain = {\n\tpath: \"m/44'/889'/0'/0\",\n\tlabel: \"TomoChain\",\n};\nconst mixBlockchain = {\n\tpath: \"m/44'/76'/0'/0\",\n\tlabel: \"Mix Blockchain\",\n};\nconst iolite = {\n\tpath: \"m/44'/1171337'/0'/0\",\n\tlabel: \"Iolite\",\n};\nconst ledgerEthereum = {\n\tpath: \"m/44'/60'/0'\",\n\tlabel: \"Ethereum\",\n};\nconst ledgerLiveEthereum = {\n\tpath: \"m/44'/60'\",\n\tlabel: \"Ethereum - Ledger Live\",\n};\nconst ledgerEthereumClassic = {\n\tpath: \"m/44'/60'/160720'/0'\",\n\tlabel: \"Ethereum Classic\",\n};\nconst ledgerLiveEthereumClassic = {\n\tpath: \"m/44'/61'\",\n\tlabel: \"Ethereum Classic - Ledger Live\",\n};\nconst rskMainnet = {\n\tpath: \"m/44'/137'/0'/0\",\n\tlabel: \"RSK Mainnet\",\n};\nconst rskTestnet = {\n\tpath: \"m/44'/37310'/0'/0\",\n\tlabel: \"RSK Testnet\",\n};\nconst keepkeyEthereum = {\n\tpath: \"m/44'/60'\",\n\tlabel: \"Ethereum\",\n};\nconst keepkeyEthereumClassic = {\n\tpath: \"m/44'/61'\",\n\tlabel: \"Ethereum Classic\",\n};\nconst thundercore = {\n\tpath: \"m/44'/1001'/0'/0\",\n\tlabel: \"ThunderCore\",\n};\nconst solidum = {\n\tpath: \"m/44'/997'/0'/0\",\n\tlabel: \"Solidum\",\n};\nconst metadium = {\n\tpath: \"m/44'/916'/0'/0\",\n\tlabel: \"Metadium\",\n};\nconst reoscChain = {\n\tpath: \"m/44'/2894'/0'/0\",\n\tlabel: \"REOSC\",\n};\nconst dexon = {\n\tpath: \"m/44'/237'/0'/0\",\n\tlabel: \"DEXON Network\",\n};\nconst lightstreamsNetwork = {\n\tpath: \"m/44'/60'/0'\",\n\tlabel: \"Lightstreams Network\",\n};\nconst mintmeComCoin = {\n\tpath: \"m/44'/227'/0'/0\",\n\tlabel: \"MintMe.com Coin\",\n};\nconst ethercore = {\n\tpath: \"m/44'/466'/0'/0\",\n\tlabel: \"EtherCore\",\n};\nexport {\n\tethereum,\n\tethereumClassic,\n\tledgerEthereum,\n\tledgerLiveEthereum,\n\tledgerEthereumClassic,\n\tledgerLiveEthereumClassic,\n\tropsten,\n\tsingularDTV,\n\texpanse,\n\tubiq,\n\tellaism,\n\tetherGem,\n\tcallisto,\n\tethereumSocial,\n\tmusicoin,\n\tgoChain,\n\teosClassic,\n\takroma,\n\tetherSocialNetwork,\n\tpirl,\n\tether1,\n\tatheios,\n\ttomoChain,\n\tmixBlockchain,\n\tiolite,\n\trskMainnet,\n\trskTestnet,\n\tkeepkeyEthereum,\n\tkeepkeyEthereumClassic,\n\tthundercore,\n\tsolidum,\n\tmetadium,\n\tpoaNetwork,\n\treoscChain,\n\tdexon,\n\tlightstreamsNetwork,\n\tmintmeComCoin,\n\tethercore,\n};\n","import {\n\tledgerEthereum,\n\tledgerLiveEthereum,\n\tledgerEthereumClassic,\n\tledgerLiveEthereumClassic,\n\tropsten,\n\trskMainnet,\n\trskTestnet,\n\tthundercore,\n\tsolidum,\n} from \"./derivationPaths\";\nexport default [\n\tledgerEthereum,\n\tledgerLiveEthereum,\n\tledgerEthereumClassic,\n\tledgerLiveEthereumClassic,\n\tropsten,\n\trskMainnet,\n\trskTestnet,\n\tthundercore,\n\tsolidum,\n];\n","export default __webpack_public_path__ + \"static/media/metamask.45038d58.svg\";","export default __webpack_public_path__ + \"static/media/walletconnect.dfa25e47.svg\";","export default __webpack_public_path__ + \"static/media/ledger.ad34f2e0.svg\";","export default __webpack_public_path__ + \"static/media/trezor.b83c2320.svg\";","export default __webpack_public_path__ + \"static/media/portis.d30058b0.svg\";","export default __webpack_public_path__ + \"static/media/torus.98285022.svg\";","export default __webpack_public_path__ + \"static/media/coinbase.5ef37fe0.svg\";","export default __webpack_public_path__ + \"static/media/trustwallet-i.10036553.svg\";","import React from \"react\";\n\nimport MetaMask from \"../../assets/images/providers/metamask.svg\";\nimport WalletConnect from \"../../assets/images/providers/walletconnect.svg\";\nimport Ledger from \"../../assets/images/providers/ledger.svg\";\nimport Trezor from \"../../assets/images/providers/trezor.svg\";\nimport Portis from \"../../assets/images/providers/portis.svg\";\nimport Torus from \"../../assets/images/providers/torus.svg\";\nimport Coinbase from \"../../assets/images/providers/coinbase.svg\";\nimport TrustWallet from \"../../assets/images/providers/trustwallet-i.svg\";\nimport styled from \"styled-components\";\n\nconst StyledImage = styled.img`\n\twidth: 24px;\n\theight: 24px;\n\n\t@media (min-width: 1200px) {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t}\n`;\n\nconst icon = (props) => {\n\tlet Icon = null;\n\tswitch (props.type) {\n\t\tcase \"injected\":\n\t\tcase \"metamask\": {\n\t\t\tIcon = MetaMask;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"walletConnect\": {\n\t\t\tIcon = WalletConnect;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"ledger\": {\n\t\t\tIcon = Ledger;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"trezor\": {\n\t\t\tIcon = Trezor;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"trustWallet\": {\n\t\t\tIcon = TrustWallet;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"portis\": {\n\t\t\tIcon = Portis;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"torus\": {\n\t\t\tIcon = Torus;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"coinbase\": {\n\t\t\tIcon = Coinbase;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"coinbase_mobile\": {\n\t\t\tIcon = Coinbase;\n\t\t\tbreak;\n\t\t}\n\t\tdefault: {\n\t\t\tIcon = MetaMask;\n\t\t}\n\t}\n\n\treturn <StyledImage src={Icon} alt={props.type} className={\"provider__icon\"} />;\n};\n\nexport default icon;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { isMobile } from \"react-device-detect\";\n\nimport Loading from \"../Loading\";\nimport { ExternalLink } from \"../../theme\";\nimport ProviderIcon from \"../ProvidersIcon\";\n\nconst InfoCard = styled.button<{ active?: boolean; clickable?: boolean }>`\n\tbackground-color: ${({ theme }) => theme.bg2};\n\tpadding: 1rem;\n\toutline: none;\n\tborder: 1px solid;\n\tborder-radius: 18px;\n\twidth: 100% !important;\n\t&:focus {\n\t\toutline: none;\n\t}\n\tborder-color: ${({ theme, active }) => (active ? \"transparent\" : theme.bg2)};\n`;\n\nconst OptionCard = styled(InfoCard as any)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-top: 2rem;\n\tpadding: 1rem;\n\ttransition: all ease 0.4s;\n\tbox-shadow: 0 0 0 rgba(0, 0, 0, 0);\n\n\t@media (max-width: 1199px) {\n\t\tmax-height: 70px;\n\t}\n`;\n\nconst OptionCardLeft = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\tjustify-content: space-between;\n\talign-items: center;\n\tflex: 1;\n\theight: 100%;\n`;\n\nconst OptionCardClickable = styled(OptionCard as any)<{\n\tclickable?: boolean;\n\tisRow?: boolean;\n\tname?: string | number;\n\tselected?: string | undefined;\n}>`\n\tmargin-top: 0;\n\topacity: ${({ selected, name }) => (selected === name || !selected ? \"1 !important\" : \"0.5 !important\")};\n\tmargin-bottom: 0;\n\tflex-direction: row;\n\t&:hover {\n\t\tcursor: ${({ clickable }) => (clickable ? \"pointer\" : \"\")};\n\t\ttransform: scale(1.02);\n\t\tbox-shadow: 0 4px 16px rgba(0, 0, 0, 0.07);\n\t}\n\topacity: ${({ disabled }) => (disabled ? \"0.5\" : \"1\")};\n`;\n\nconst HeaderText = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\tcolor: ${(props) => (props.color === \"blue\" ? ({ theme }) => theme.primary1 : ({ theme }) => theme.text1)};\n\tfont-size: 1rem;\n\tfont-weight: 500;\n`;\n\nconst IconWrapper = styled.div<{ size?: number | null }>`\n\t${({ theme }) => theme.flexColumnNoWrap};\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 55px;\n\theight: 55px;\n\tborder-radius: 12px;\n\tbackground-color: #fff;\n\tmargin-right: 40px;\n\n\t& > img,\n\tspan {\n\t\theight: ${({ size }) => (size ? size + \"px\" : \"24px\")};\n\t\twidth: ${({ size }) => (size ? size + \"px\" : \"24px\")};\n\t}\n\n\t@media (max-width: 1199px) {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tmargin-right: 15px;\n\n\t\t& > img,\n\t\tspan {\n\t\t\theight: 24px;\n\t\t\twidth: 24px;\n\t\t}\n\t}\n`;\n\nexport default function Option({\n\tlink = null,\n\tclickable = true,\n\tsize,\n\tonClick = null,\n\tcolor,\n\theader,\n\terror = undefined,\n\tactive = false,\n\tsubheader = null,\n\tid,\n\ttype,\n\tselected,\n\tname,\n}: {\n\tlink?: string | null;\n\tclickable?: boolean;\n\tsize?: number | null;\n\tonClick?: null | (() => void);\n\tcolor: string;\n\theader: React.ReactNode;\n\terror: boolean | undefined;\n\tactive?: boolean;\n\tsubheader: string | null;\n\tid: string;\n\ttype: string;\n\tdirection?: string;\n\tselected?: string | undefined;\n\tname?: string;\n}) {\n\tconst [loadingColor, setLoadingColor] = useState(\"#a890fe\");\n\n\tuseEffect(() => {\n\t\tlet tempColor = active\n\t\t\t? \"#4AC8AA\"\n\t\t\t: !selected || (!!selected && selected !== name)\n\t\t\t? \"#a890fe\"\n\t\t\t: error\n\t\t\t? \"danger\"\n\t\t\t: \"success\";\n\t\tsetLoadingColor(tempColor);\n\t}, [selected, name, error]);\n\n\tconst content = (\n\t\t<OptionCardClickable\n\t\t\tid={id}\n\t\t\tonClick={onClick}\n\t\t\tclickable={clickable && !active}\n\t\t\tactive={active}\n\t\t\tselected={selected}\n\t\t\tname={name}\n\t\t>\n\t\t\t<IconWrapper size={36}>\n\t\t\t\t<ProviderIcon type={type} />\n\t\t\t</IconWrapper>\n\t\t\t<OptionCardLeft>\n\t\t\t\t<HeaderText color={color}>{header}</HeaderText>\n\t\t\t\t<Loading width={isMobile ? 24 : 40} height={isMobile ? 24 : 40} color={loadingColor} id={name} />\n\t\t\t</OptionCardLeft>\n\t\t</OptionCardClickable>\n\t);\n\tif (link) {\n\t\treturn <ExternalLink href={link}>{content}</ExternalLink>;\n\t}\n\n\treturn content;\n}\n","import styled from \"styled-components\";\nimport {useActiveWeb3React} from \"../../hooks\";\nimport {useEffect, useState} from \"react\";\nimport {useETHBalances} from \"../../state/wallet/hooks\";\nimport {Button, Col, Form, Row} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport toast from \"react-hot-toast\";\nimport {lighten} from \"polished\";\nimport {shortenAddress} from \"../../utils\";\n\n\nconst UpperSection = styled.div`\n  position: relative;\n\n  h5 {\n    margin: 0 0 0.5rem;\n    font-size: 1rem;\n    font-weight: 400;\n  }\n\n  h5:last-child {\n    margin-bottom: 0;\n  }\n\n  h4 {\n    margin-top: 0;\n    font-weight: 500;\n  }\n`;\n\nconst ContentWrapper = styled.div`\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tpadding-bottom: 2rem;\n\tborder-bottom-left-radius: 0.42rem;\n\tborder-bottom-right-radius: 0.42rem;\n`;\n\nconst LedgerContentWrapper = styled(ContentWrapper)`\n    padding: 32px 0;\n\t@media (max-width: 1199px) {\n\t\tpadding: 24px 20px 112px;\n\t}\n  \n    @media (max-width: 576px) {\n        padding: 24px 0 112px;\n    }\n`;\n\nconst Select = styled(Form.Control)`\n  background-color: ${({ theme }) => theme.bg1};\n  border-radius: 18px;\n  border: 1px solid ${({ theme }) => theme.text3};\n  overflow: hidden;\n\n  &:focus {\n    box-shadow: none;\n    outline: none;\n    border: 1px solid ${({ theme }) => theme.text3};\n  }\n\n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent;\n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid ${({ theme }) => theme.text1};\n  }\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1};\n    border-radius: 10px;\n    width: 4px !important;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)};\n  }\n`\n\nconst Option = styled.option`\n  padding: 10px 18px;\n  border-radius: 12px;\n  \n  @media (max-width: 576px) {\n    padding: 10px 8px;\n  }\n  \n  &:checked {\n    background-color: ${({ theme }) => theme.primary};\n  }\n`\n\nconst LedgerAccount = props => {\n    const { connector } = useActiveWeb3React();\n    const [accounts, setAccounts] = useState([]);\n    const [selectedAccount, setSelectedAccount] = useState(null)\n    const accountsEthBalance = useETHBalances(accounts);\n    const { t } = useTranslation()\n\n    useEffect(() => {\n        if(connector?.getAccounts) {\n            connector?.getAccounts(2)\n                .then(acc => {\n                    setAccounts(acc);\n                })\n        }\n    }, [connector])\n\n    const changeSelectedAccount = (e) => {\n        setSelectedAccount(e.target.value);\n    }\n\n    const selectLedgerAccount = (e) => {\n        e.preventDefault();\n        if(!selectedAccount) {\n            toast.error(t('errors.selectAAccount'))\n        }\n\n        if(connector?.setAccount) {\n            connector?.setAccount(selectedAccount);\n            props.onDone()\n        }\n    }\n\n    return (\n        <UpperSection>\n            <LedgerContentWrapper>\n                <Form onSubmit={selectLedgerAccount}>\n                    <Row>\n                        <Form.Group as={Col} xs={12}>\n                            <Form.Label>Select default Address</Form.Label>\n                            <Select as={\"select\"} size={5} className={'custom-select'} htmlSize={5} custom onChange={changeSelectedAccount}>\n                                {accounts.map(acc => {\n                                    return (\n                                        <Option key={acc} value={acc}>{shortenAddress(acc)}&nbsp;&nbsp;&nbsp;{accountsEthBalance?.[acc]?.toFixed(6) || 0} ETH</Option>\n                                    )\n                                })}\n                            </Select>\n                        </Form.Group>\n                        <Form.Group as={Col} xs={12} className={'d-flex align-items-center justify-content-center'}>\n                            <Button type={'submit'} variant={'primary'} style={{ minWidth: 125, height: 56 }}>Select Account</Button>\n                        </Form.Group>\n                    </Row>\n\n                </Form>\n            </LedgerContentWrapper>\n        </UpperSection>\n    )\n}\n\nexport default LedgerAccount;","import { AbstractConnector } from \"@web3-react/abstract-connector\";\nimport { UnsupportedChainIdError, useWeb3React } from \"@web3-react/core\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\nimport { Row, Col, Form } from \"react-bootstrap\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport styled from \"styled-components\";\nimport { injected } from \"../../connectors\";\nimport usePrevious from \"../../hooks/usePrevious\";\nimport { ApplicationModal } from \"../../state/application/actions\";\nimport { useModalOpen, useWalletModalToggle } from \"../../state/application/hooks\";\nimport AccountDetails from \"../AccountDetails\";\nimport { SUPPORTED_WALLETS } from \"../../connectors\";\nimport LedgerPaths from \"../../constants/ledgerPaths\";\nimport { NetworkContextName } from \"../../constants\";\n\nimport { Modal } from \"../Modal/bootstrap\";\nimport Button from \"../UI/Button\";\nimport Option from \"./Option\";\nimport useENSName from \"../../hooks/useENSName\";\nimport { isTransactionRecent, useAllTransactions } from \"../../state/transactions/hooks\";\nimport { TransactionDetails } from \"../../state/transactions/reducer\";\nimport LedgerAccount from './LedgerAccounts';\nimport \"./style.scss\";\n\nconst { Check } = Form;\n\nconst Wrapper = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap};\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 100%;\n`;\n\nconst HeaderRow = styled.div<{ empty?: boolean | undefined }>`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tpadding: 0.5rem 0 1rem;\n\tfont-weight: 500;\n\tcolor: ${(props) => (props.color === \"blue\" ? ({ theme }) => theme.primary1 : \"inherit\")};\n\n\t@media (max-width: 1199px) {\n\t\tdisplay: ${({ empty }) => (empty ? \"none\" : \"block\")};\n\t\tpadding: 0.625rem 0 1.25rem;\n\t}\n`;\n\nconst ContentWrapper = styled.div`\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tpadding-bottom: 2rem;\n\tborder-bottom-left-radius: 0.42rem;\n\tborder-bottom-right-radius: 0.42rem;\n`;\n\nconst LedgerContentWrapper = styled(ContentWrapper)`\n\t@media (max-width: 1199px) {\n\t\tpadding: 24px 20px 112px;\n\t}\n`;\n\nconst UpperSection = styled.div`\n\tposition: relative;\n\n\th5 {\n\t\tmargin: 0;\n\t\tmargin-bottom: 0.5rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 400;\n\t}\n\n\th5:last-child {\n\t\tmargin-bottom: 0px;\n\t}\n\n\th4 {\n\t\tmargin-top: 0;\n\t\tfont-weight: 500;\n\t}\n`;\n\nconst OptionGrid = styled.div`\n\tdisplay: grid;\n\tgrid-gap: 10px;\n`;\n\nconst WALLET_VIEWS = {\n\tOPTIONS: \"options\",\n\tOPTIONS_SECONDARY: \"options_secondary\",\n\tACCOUNT: \"account\",\n\tPENDING: \"pending\",\n\tLEDGER_PATH: \"ledger_select_path\",\n\tLEDGER_ACCOUNT: \"ledger_select_account\"\n};\n\n// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\n\treturn b.addedTime - a.addedTime;\n}\n\nexport default function WalletModal() {\n\t// important that these are destructed from the account-specific web3-react context\n\tconst { active, account, connector, activate, error } = useWeb3React();\n\tconst [selectedPath, setSelectedPath] = useState<string>(LedgerPaths[0].path);\n\tconst [customPath, setCustomPath] = useState<string>(\"\");\n\tconst [selected, setSelected] = useState<string | undefined>(undefined);\n\n\tconst { ENSName } = useENSName(account ?? undefined);\n\n\tconst allTransactions = useAllTransactions();\n\n\tconst contextNetwork = useWeb3React(NetworkContextName);\n\n\tconst sortedRecentTransactions = useMemo(() => {\n\t\tconst txs = Object.values(allTransactions);\n\t\treturn txs.filter(isTransactionRecent).sort(newTransactionsFirst);\n\t}, [allTransactions]);\n\n\tconst pendingTransactions = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash);\n\tconst confirmedTransactions = sortedRecentTransactions.filter((tx) => tx.receipt).map((tx) => tx.hash);\n\n\tconst [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT);\n\n\tconst [pendingWallet, setPendingWallet] = useState<AbstractConnector | undefined>();\n\tconst [isLedger, setIsLedger] = useState<boolean>(false);\n\n\tconst [pendingError, setPendingError] = useState<boolean>();\n\n\tconst walletModalOpen = useModalOpen(ApplicationModal.WALLET);\n\tconst toggleWalletModal = useWalletModalToggle();\n\n\tconst previousAccount = usePrevious(account);\n\n\t// close on connection, when logged out before\n\tuseEffect(() => {\n\t\tif (account && !previousAccount && walletModalOpen && !isLedger) {\n\t\t\ttoggleWalletModal();\n\t\t}\n\t}, [account, previousAccount, toggleWalletModal, walletModalOpen, isLedger]);\n\n\t// always reset to account view\n\tuseEffect(() => {\n\t\tif (walletModalOpen) {\n\t\t\tsetPendingError(false);\n\t\t\tsetWalletView(WALLET_VIEWS.ACCOUNT);\n\t\t}\n\t}, [walletModalOpen]);\n\n\t// close modal when a connection is successful\n\tconst activePrevious = usePrevious(active);\n\tconst connectorPrevious = usePrevious(connector);\n\tuseEffect(() => {\n\t\tif (\n\t\t\twalletModalOpen &&\n\t\t\t((active && !activePrevious) || (connector && connector !== connectorPrevious && !error))\n\t\t) {\n\t\t\tsetWalletView(WALLET_VIEWS.ACCOUNT);\n\t\t}\n\t}, [setWalletView, active, error, connector, walletModalOpen, activePrevious, connectorPrevious]);\n\n\tif (!contextNetwork.active && !active) {\n\t\treturn null;\n\t}\n\n\tconst handleConnectLedger = () => {\n\t\tlet path = selectedPath;\n\t\tif (path === \"custom\") {\n\t\t\tpath = customPath;\n\t\t}\n\n\t\tconst ledger = SUPPORTED_WALLETS.ledger;\n\t\ttryActivation(ledger.connector(path), true);\n\t};\n\tconst tryActivation = async (connector: AbstractConnector | undefined, ledgerConnect = false) => {\n\t\tsetIsLedger(ledgerConnect);\n\t\tObject.keys(SUPPORTED_WALLETS).map((key) => {\n\t\t\tif (connector === SUPPORTED_WALLETS[key].connector) {\n\t\t\t\treturn SUPPORTED_WALLETS[key].name;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tsetPendingWallet(connector); // set wallet for pending view\n\t\tsetWalletView(WALLET_VIEWS.PENDING);\n\n\t\t// if the connector is walletconnect and the user has already tried to connect, manually reset the connector\n\t\tif (connector instanceof WalletConnectConnector && connector.walletConnectProvider?.wc?.uri) {\n\t\t\tconnector.walletConnectProvider = undefined;\n\t\t}\n\n\t\tconnector &&\n\t\t\tactivate(connector, undefined, true).then(res => {\n\t\t\t\t// if(ledgerConnect) {\n\t\t\t\t\tsetWalletView(WALLET_VIEWS.LEDGER_ACCOUNT);\n\t\t\t\t// }\n\t\t\t}).catch((error) => {\n\t\t\t\tif (error instanceof UnsupportedChainIdError) {\n\t\t\t\t\tactivate(connector); // a little janky...can't use setError because the connector isn't set\n\t\t\t\t} else {\n\t\t\t\t\tsetPendingError(true);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t// get wallets user can switch too, depending on device/browser\n\tfunction getOptions() {\n\t\tconst isMetamask = window.ethereum && window.ethereum.isMetaMask;\n\t\treturn Object.keys(SUPPORTED_WALLETS).map((key) => {\n\t\t\tconst option = SUPPORTED_WALLETS[key];\n\n\t\t\t// check for mobile options\n\t\t\tif (isMobile) {\n\t\t\t\tif (!window.web3 && !window.ethereum && option.mobile) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetSelected(key);\n\t\t\t\t\t\t\t\tsetPendingError(undefined);\n\t\t\t\t\t\t\t\toption.connector !== connector && !option.href && tryActivation(option.connector);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tid={`connect-${key}`}\n\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t\tname={key}\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\terror={pendingError}\n\t\t\t\t\t\t\tactive={option.connector && option.connector === connector}\n\t\t\t\t\t\t\tcolor={option.color}\n\t\t\t\t\t\t\tlink={option.href}\n\t\t\t\t\t\t\theader={option.name}\n\t\t\t\t\t\t\tsubheader={null}\n\t\t\t\t\t\t\ttype={key}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// overwrite injected when needed\n\t\t\tif (option.connector === injected) {\n\t\t\t\t// don't show injected if there's no injected provider\n\t\t\t\tif (!(window.web3 || window.ethereum)) {\n\t\t\t\t\tif (option.name === \"MetaMask\") {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\t\tid={`connect-${key}`}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t\t\tname={key}\n\t\t\t\t\t\t\t\terror={pendingError}\n\t\t\t\t\t\t\t\tcolor={\"#E8831D\"}\n\t\t\t\t\t\t\t\theader={\"Install Metamask\"}\n\t\t\t\t\t\t\t\tsubheader={null}\n\t\t\t\t\t\t\t\tlink={\"https://metamask.io/\"}\n\t\t\t\t\t\t\t\ttype={\"metamask\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null; //dont want to return install twice\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// don't return metamask if injected provider isn't metamask\n\t\t\t\telse if (option.name === \"MetaMask\" && !isMetamask) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\t// likewise for generic\n\t\t\t\telse if (option.name === \"Injected\" && isMetamask) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// return rest of options\n\t\t\treturn (\n\t\t\t\t!isMobile &&\n\t\t\t\t!option.mobileOnly && (\n\t\t\t\t\t<Option\n\t\t\t\t\t\tid={`connect-${key}`}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetSelected(key);\n\t\t\t\t\t\t\tsetPendingError(undefined);\n\t\t\t\t\t\t\toption.connector === connector\n\t\t\t\t\t\t\t\t? setWalletView(WALLET_VIEWS.ACCOUNT)\n\t\t\t\t\t\t\t\t: key === \"ledger\"\n\t\t\t\t\t\t\t\t? setWalletView(WALLET_VIEWS.LEDGER_PATH)\n\t\t\t\t\t\t\t\t: !option.href && tryActivation(option.connector);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tname={key}\n\t\t\t\t\t\terror={pendingError}\n\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\tactive={option.connector === connector}\n\t\t\t\t\t\tcolor={option.color}\n\t\t\t\t\t\tlink={option.href}\n\t\t\t\t\t\theader={option.name}\n\t\t\t\t\t\tsubheader={null} //use option.descriptio to bring back multi-line\n\t\t\t\t\t\ttype={key}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\t}\n\n\tfunction getModalContent() {\n\t\tif (error) {\n\t\t\treturn (\n\t\t\t\t<UpperSection>\n\t\t\t\t\t<ContentWrapper>\n\t\t\t\t\t\t{error instanceof UnsupportedChainIdError ? (\n\t\t\t\t\t\t\t<h5>Please connect to the appropriate Ethereum network.</h5>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"Error connecting. Try refreshing the page.\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentWrapper>\n\t\t\t\t</UpperSection>\n\t\t\t);\n\t\t}\n\t\tif (account && walletView === WALLET_VIEWS.ACCOUNT) {\n\t\t\treturn (\n\t\t\t\t<AccountDetails\n\t\t\t\t\ttoggleWalletModal={toggleWalletModal}\n\t\t\t\t\tpendingTransactions={pendingTransactions}\n\t\t\t\t\tconfirmedTransactions={confirmedTransactions}\n\t\t\t\t\tENSName={ENSName}\n\t\t\t\t\topenOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif(walletView === WALLET_VIEWS.LEDGER_ACCOUNT) {\n\t\t\treturn (\n\t\t\t\t<LedgerAccount\n\t\t\t\t\tonDone={() => {\n\t\t\t\t\t\tsetWalletView(WALLET_VIEWS.ACCOUNT);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\tif (walletView === WALLET_VIEWS.LEDGER_PATH) {\n\t\t\treturn (\n\t\t\t\t<UpperSection>\n\t\t\t\t\t<LedgerContentWrapper>\n\t\t\t\t\t\t<Row className={\"row-paddingless\"}>\n\t\t\t\t\t\t\t{LedgerPaths.map((item, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Col xs={12} lg={4} md={6} key={`hd-path-${index}`}>\n\t\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\t\ttype={\"radio\"}\n\t\t\t\t\t\t\t\t\t\t\tid={`hd-path-${index}`}\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"d-flex align-items-center py-3\"}\n\t\t\t\t\t\t\t\t\t\t\tcustom\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Check.Input\n\t\t\t\t\t\t\t\t\t\t\t\ttype={\"radio\"}\n\t\t\t\t\t\t\t\t\t\t\t\tname={\"hd-path\"}\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={item.path === selectedPath}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => setSelectedPath(item.path)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Check.Label className={\"d-flex flex-column pl-2 wallet-modal__label\"}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={\"font-weight-bold mb-1\"}>{item.path}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={\"font-size-sm\"}>{item.label}</div>\n\t\t\t\t\t\t\t\t\t\t\t</Check.Label>\n\t\t\t\t\t\t\t\t\t\t</Check>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t<Col xs={12} lg={4} md={6} key={`hd-path-custom`}>\n\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\ttype={\"radio\"}\n\t\t\t\t\t\t\t\t\tid={`hd-path-custom`}\n\t\t\t\t\t\t\t\t\tclassName={\"d-flex align-items-center mb-3 pt-3 pt-xl-0\"}\n\t\t\t\t\t\t\t\t\tcustom\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Check.Input\n\t\t\t\t\t\t\t\t\t\ttype={\"radio\"}\n\t\t\t\t\t\t\t\t\t\tname={\"hd-path\"}\n\t\t\t\t\t\t\t\t\t\tchecked={selectedPath === \"custom\"}\n\t\t\t\t\t\t\t\t\t\tonChange={() => setSelectedPath(\"custom\")}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Check.Label className={\"d-flex flex-column pl-2 pt-1 wallet-modal__label\"}>\n\t\t\t\t\t\t\t\t\t\t<div className={\"font-weight-bold\"}>Or Add Custom path</div>\n\t\t\t\t\t\t\t\t\t</Check.Label>\n\t\t\t\t\t\t\t\t</Check>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t{selectedPath === \"custom\" && (\n\t\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tplaceholder={\"m/44'/60'/0'/0\"}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setCustomPath(e.target.value)}\n\t\t\t\t\t\t\t\t\t\tvalue={customPath}\n\t\t\t\t\t\t\t\t\t\tclassName={\"mb-3\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<Col xs={12} className={\"d-flex flex-column flex-lg-row-reverse mt-5 mt-xl-4\"}>\n\t\t\t\t\t\t\t\t<Button className={\"ml-2\"} onClick={handleConnectLedger}>\n\t\t\t\t\t\t\t\t\tConnect to Wallet\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={\"btn btn-link\"}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetPendingError(false);\n\t\t\t\t\t\t\t\t\t\tsetWalletView(WALLET_VIEWS.ACCOUNT);\n\t\t\t\t\t\t\t\t\t\tsetSelected(undefined);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</LedgerContentWrapper>\n\t\t\t\t</UpperSection>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<UpperSection>\n\t\t\t\t{walletView === WALLET_VIEWS.ACCOUNT ? (\n\t\t\t\t\t<HeaderRow empty>&nbsp;</HeaderRow>\n\t\t\t\t) : pendingError ? (\n\t\t\t\t\t<HeaderRow>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={\"text-danger wallet-modal__header\"}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetPendingError(false);\n\t\t\t\t\t\t\t\tpendingWallet && tryActivation(pendingWallet, isLedger);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTry again\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</HeaderRow>\n\t\t\t\t) : (\n\t\t\t\t\t<HeaderRow>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={\"text-primary wallet-modal__header\"}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetSelected(undefined);\n\t\t\t\t\t\t\t\tsetPendingError(false);\n\t\t\t\t\t\t\t\tsetWalletView(WALLET_VIEWS.ACCOUNT);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</HeaderRow>\n\t\t\t\t)}\n\t\t\t\t<ContentWrapper>\n\t\t\t\t\t<OptionGrid>{getOptions()}</OptionGrid>\n\t\t\t\t</ContentWrapper>\n\t\t\t</UpperSection>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tshow={walletModalOpen}\n\t\t\tonHide={() => {\n\t\t\t\tsetPendingError(undefined);\n\t\t\t\tsetPendingWallet(undefined);\n\t\t\t\ttoggleWalletModal();\n\t\t\t}}\n\t\t\tdialogClassName={walletView !== WALLET_VIEWS.LEDGER_PATH ? \"wallet-modal\" : \"wallet-modal--ledger\"}\n\t\t\tbackdropClassName={\"backdrop\"}\n\t\t\tsize={\"lg\"}\n\t\t\tcentered\n\t\t>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t{walletView === WALLET_VIEWS.LEDGER_PATH && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={\"btn btn-light-primary mr-4 d-none d-xl-block\"}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetPendingError(false);\n\t\t\t\t\t\t\tsetWalletView(WALLET_VIEWS.ACCOUNT);\n\t\t\t\t\t\t\tsetSelected(undefined);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tBack\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<Modal.Title>\n\t\t\t\t\t{walletView === WALLET_VIEWS.LEDGER_PATH\n\t\t\t\t\t\t? \"Select HD Derivation path\"\n\t\t\t\t\t\t: walletView === WALLET_VIEWS.LEDGER_ACCOUNT\n\t\t\t\t\t\t? \"Select Account\"\n\t\t\t\t\t\t: account && walletView === WALLET_VIEWS.ACCOUNT\n\t\t\t\t\t\t? \"Account\"\n\t\t\t\t\t\t: \"Connect to Wallet\"}\n\t\t\t\t</Modal.Title>\n\t\t\t\t{account && walletView === WALLET_VIEWS.ACCOUNT && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={\"btn btn-outline-primary ml-auto mr-2 d-none d-xl-block\"}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetWalletView(WALLET_VIEWS.OPTIONS);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tChange\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Wrapper>{getModalContent()}</Wrapper>\n\t\t\t</Modal.Body>\n\t\t</Modal>\n\t);\n}\n","import { useCallback, useEffect, useState } from \"react\";\n\nconst VISIBILITY_STATE_SUPPORTED = \"visibilityState\" in document;\n\nfunction isWindowVisible() {\n\treturn !VISIBILITY_STATE_SUPPORTED || document.visibilityState !== \"hidden\";\n}\n\n/**\n * Returns whether the window is currently visible to the user.\n */\nexport default function useIsWindowVisible(): boolean {\n\tconst [focused, setFocused] = useState<boolean>(isWindowVisible());\n\tconst listener = useCallback(() => {\n\t\tsetFocused(isWindowVisible());\n\t}, [setFocused]);\n\n\tuseEffect(() => {\n\t\tif (!VISIBILITY_STATE_SUPPORTED) return undefined;\n\n\t\tdocument.addEventListener(\"visibilitychange\", listener);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"visibilitychange\", listener);\n\t\t};\n\t}, [listener]);\n\n\treturn focused;\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport useDebounce from \"../../hooks/useDebounce\";\nimport useIsWindowVisible from \"../../hooks/useIsWindowVisible\";\nimport { updateBlockNumber } from \"./actions\";\nimport { useDispatch } from \"react-redux\";\n\nexport default function Updater(): null {\n\tconst { library, chainId } = useActiveWeb3React();\n\tconst dispatch = useDispatch();\n\n\tconst windowVisible = useIsWindowVisible();\n\n\tconst [state, setState] = useState<{ chainId: number | undefined; blockNumber: number | null }>({\n\t\tchainId,\n\t\tblockNumber: null,\n\t});\n\n\tconst blockNumberCallback = useCallback(\n\t\t(blockNumber: number) => {\n\t\t\tsetState((state) => {\n\t\t\t\tif (chainId === state.chainId) {\n\t\t\t\t\tif (typeof state.blockNumber !== \"number\") return { chainId, blockNumber };\n\t\t\t\t\treturn { chainId, blockNumber: Math.max(blockNumber, state.blockNumber) };\n\t\t\t\t}\n\t\t\t\treturn state;\n\t\t\t});\n\t\t},\n\t\t[chainId, setState]\n\t);\n\n\t// attach/detach listeners\n\tuseEffect(() => {\n\t\tif (!library || !chainId || !windowVisible) return undefined;\n\n\t\tsetState({ chainId, blockNumber: null });\n\n\t\tlibrary\n\t\t\t.getBlockNumber()\n\t\t\t.then(blockNumberCallback)\n\t\t\t.catch((error) => console.error(`Failed to get block number for chainId: ${chainId}`, error));\n\n\t\tlibrary.on(\"block\", blockNumberCallback);\n\t\treturn () => {\n\t\t\tlibrary.removeListener(\"block\", blockNumberCallback);\n\t\t};\n\t}, [dispatch, chainId, library, blockNumberCallback, windowVisible]);\n\n\tconst debouncedState = useDebounce(state, 100);\n\n\tuseEffect(() => {\n\t\tif (!debouncedState.chainId || !debouncedState.blockNumber || !windowVisible) return;\n\t\tdispatch(updateBlockNumber({ chainId: debouncedState.chainId, blockNumber: debouncedState.blockNumber }));\n\t}, [windowVisible, dispatch, debouncedState.blockNumber, debouncedState.chainId]);\n\n\treturn null;\n}\n","import { useAllLists } from \"./hooks\";\nimport { getVersionUpgrade, minVersionBump, VersionUpgrade } from \"@uniswap/token-lists\";\nimport { useCallback, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useFetchListCallback } from \"../../hooks/useFetchListCallback\";\nimport useInterval from \"../../hooks/useInterval\";\nimport useIsWindowVisible from \"../../hooks/useIsWindowVisible\";\nimport { AppDispatch } from \"../index\";\nimport { acceptListUpdate } from \"./actions\";\nimport { useActiveListUrls } from \"./hooks\";\nimport { useAllInactiveTokens } from \"../../hooks/Tokens\";\n\nexport default function Updater(): null {\n\tconst { library } = useActiveWeb3React();\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst isWindowVisible = useIsWindowVisible();\n\n\t// get all loaded lists, and the active urls\n\tconst lists = useAllLists();\n\tconst activeListUrls = useActiveListUrls();\n\n\t// initiate loading\n\tuseAllInactiveTokens();\n\n\tconst fetchList = useFetchListCallback();\n\tconst fetchAllListsCallback = useCallback(() => {\n\t\tif (!isWindowVisible) return;\n\t\tObject.keys(lists).forEach((url) =>\n\t\t\tfetchList(url).catch((error) => console.debug(\"interval list fetching error\", error))\n\t\t);\n\t}, [fetchList, isWindowVisible, lists]);\n\n\t// fetch all lists every 10 minutes, but only after we initialize library\n\tuseInterval(fetchAllListsCallback, library ? 1000 * 60 * 10 : null);\n\n\t// whenever a list is not loaded and not loading, try again to load it\n\tuseEffect(() => {\n\t\tObject.keys(lists).forEach((listUrl) => {\n\t\t\tconst list = lists[listUrl];\n\t\t\tif (!list.current && !list.loadingRequestId && !list.error) {\n\t\t\t\tfetchList(listUrl).catch((error) => console.debug(\"list added fetching error\", error));\n\t\t\t}\n\t\t});\n\t}, [dispatch, fetchList, library, lists]);\n\n\t// automatically update lists if versions are minor/patch\n\tuseEffect(() => {\n\t\tObject.keys(lists).forEach((listUrl) => {\n\t\t\tconst list = lists[listUrl];\n\t\t\tif (list.current && list.pendingUpdate) {\n\t\t\t\tconst bump = getVersionUpgrade(list.current.version, list.pendingUpdate.version);\n\t\t\t\tswitch (bump) {\n\t\t\t\t\tcase VersionUpgrade.NONE:\n\t\t\t\t\t\tthrow new Error(\"unexpected no version bump\");\n\t\t\t\t\tcase VersionUpgrade.PATCH:\n\t\t\t\t\tcase VersionUpgrade.MINOR:\n\t\t\t\t\t\tconst min = minVersionBump(list.current.tokens, list.pendingUpdate.tokens);\n\t\t\t\t\t\t// automatically update minor/patch as long as bump matches the min update\n\t\t\t\t\t\tif (bump >= min) {\n\t\t\t\t\t\t\tdispatch(acceptListUpdate(listUrl));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t\t`List at url ${listUrl} could not automatically update because the version bump was only PATCH/MINOR while the update had breaking changes and should have been MAJOR`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t// update any active or inactive lists\n\t\t\t\t\tcase VersionUpgrade.MAJOR:\n\t\t\t\t\t\tdispatch(acceptListUpdate(listUrl));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}, [dispatch, lists, activeListUrls]);\n\n\treturn null;\n}\n","function wait(ms: number): Promise<void> {\n\treturn new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nfunction waitRandom(min: number, max: number): Promise<void> {\n\treturn wait(min + Math.round(Math.random() * Math.max(0, max - min)));\n}\n\n/**\n * This error is thrown if the function is cancelled before completing\n */\nexport class CancelledError extends Error {\n\tconstructor() {\n\t\tsuper(\"Cancelled\");\n\t}\n}\n\n/**\n * Throw this error if the function should retry\n */\nexport class RetryableError extends Error {}\n\n/**\n * Retries the function that returns the promise until the promise successfully resolves up to n retries\n * @param fn function to retry\n * @param n how many times to retry\n * @param minWait min wait between retries in ms\n * @param maxWait max wait between retries in ms\n */\nexport function retry<T>(\n\tfn: () => Promise<T>,\n\t{ n, minWait, maxWait }: { n: number; minWait: number; maxWait: number }\n): { promise: Promise<T>; cancel: () => void } {\n\tlet completed = false;\n\tlet rejectCancelled: (error: Error) => void;\n\tconst promise = new Promise<T>(async (resolve, reject) => {\n\t\trejectCancelled = reject;\n\t\twhile (true) {\n\t\t\tlet result: T;\n\t\t\ttry {\n\t\t\t\tresult = await fn();\n\t\t\t\tif (!completed) {\n\t\t\t\t\tresolve(result);\n\t\t\t\t\tcompleted = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t} catch (error) {\n\t\t\t\tif (completed) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (n <= 0 || !(error instanceof RetryableError)) {\n\t\t\t\t\treject(error);\n\t\t\t\t\tcompleted = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tn--;\n\t\t\t}\n\t\t\tawait waitRandom(minWait, maxWait);\n\t\t}\n\t});\n\treturn {\n\t\tpromise,\n\t\tcancel: () => {\n\t\t\tif (completed) return;\n\t\t\tcompleted = true;\n\t\t\trejectCancelled(new CancelledError());\n\t\t},\n\t};\n}\n","import { Contract } from \"@ethersproject/contracts\";\nimport { useEffect, useMemo, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useMulticallContract } from \"../../hooks/useContract\";\nimport useDebounce from \"../../hooks/useDebounce\";\nimport chunkArray from \"../../utils/chunkArray\";\nimport { CancelledError, retry, RetryableError } from \"../../utils/retry\";\nimport { useBlockNumber } from \"../application/hooks\";\nimport { AppDispatch, AppState } from \"../index\";\nimport {\n\tCall,\n\terrorFetchingMulticallResults,\n\tfetchingMulticallResults,\n\tparseCallKey,\n\tupdateMulticallResults,\n} from \"./actions\";\n\n// chunk calls so we do not exceed the gas limit\nconst CALL_CHUNK_SIZE = 500;\n\n/**\n * Fetches a chunk of calls, enforcing a minimum block number constraint\n * @param multicallContract multicall contract to fetch against\n * @param chunk chunk of calls to make\n * @param minBlockNumber minimum block number of the result set\n */\nasync function fetchChunk(\n\tmulticallContract: Contract,\n\tchunk: Call[],\n\tminBlockNumber: number\n): Promise<{ results: string[]; blockNumber: number }> {\n\tconsole.debug(\"Fetching chunk\", multicallContract, chunk, minBlockNumber);\n\tlet resultsBlockNumber, returnData;\n\ttry {\n\t\t[resultsBlockNumber, returnData] = await multicallContract.aggregate(\n\t\t\tchunk.map((obj) => [obj.address, obj.callData])\n\t\t);\n\t} catch (error) {\n\t\tconsole.debug(\"Failed to fetch chunk inside retry\", error);\n\t\tthrow error;\n\t}\n\tif (resultsBlockNumber.toNumber() < minBlockNumber) {\n\t\tconsole.debug(`Fetched results for old block number: ${resultsBlockNumber.toString()} vs. ${minBlockNumber}`);\n\t\tthrow new RetryableError(\"Fetched for old block number\");\n\t}\n\treturn { results: returnData, blockNumber: resultsBlockNumber.toNumber() };\n}\n\n/**\n * From the current all listeners state, return each call key mapped to the\n * minimum number of blocks per fetch. This is how often each key must be fetched.\n * @param allListeners the all listeners state\n * @param chainId the current chain id\n */\nexport function activeListeningKeys(\n\tallListeners: AppState[\"multicall\"][\"callListeners\"],\n\tchainId?: number\n): { [callKey: string]: number } {\n\tif (!allListeners || !chainId) return {};\n\tconst listeners = allListeners[chainId];\n\tif (!listeners) return {};\n\n\treturn Object.keys(listeners).reduce<{ [callKey: string]: number }>((memo, callKey) => {\n\t\tconst keyListeners = listeners[callKey];\n\n\t\tmemo[callKey] = Object.keys(keyListeners)\n\t\t\t.filter((key) => {\n\t\t\t\tconst blocksPerFetch = parseInt(key);\n\t\t\t\tif (blocksPerFetch <= 0) return false;\n\t\t\t\treturn keyListeners[blocksPerFetch] > 0;\n\t\t\t})\n\t\t\t.reduce((previousMin, current) => {\n\t\t\t\treturn Math.min(previousMin, parseInt(current));\n\t\t\t}, Infinity);\n\t\treturn memo;\n\t}, {});\n}\n\n/**\n * Return the keys that need to be refetched\n * @param callResults current call result state\n * @param listeningKeys each call key mapped to how old the data can be in blocks\n * @param chainId the current chain id\n * @param latestBlockNumber the latest block number\n */\nexport function outdatedListeningKeys(\n\tcallResults: AppState[\"multicall\"][\"callResults\"],\n\tlisteningKeys: { [callKey: string]: number },\n\tchainId: number | undefined,\n\tlatestBlockNumber: number | undefined\n): string[] {\n\tif (!chainId || !latestBlockNumber) return [];\n\tconst results = callResults[chainId];\n\t// no results at all, load everything\n\tif (!results) return Object.keys(listeningKeys);\n\n\treturn Object.keys(listeningKeys).filter((callKey) => {\n\t\tconst blocksPerFetch = listeningKeys[callKey];\n\n\t\tconst data = callResults[chainId][callKey];\n\t\t// no data, must fetch\n\t\tif (!data) return true;\n\n\t\tconst minDataBlockNumber = latestBlockNumber - (blocksPerFetch - 1);\n\n\t\t// already fetching it for a recent enough block, don't refetch it\n\t\tif (data.fetchingBlockNumber && data.fetchingBlockNumber >= minDataBlockNumber) return false;\n\n\t\t// if data is older than minDataBlockNumber, fetch it\n\t\treturn !data.blockNumber || data.blockNumber < minDataBlockNumber;\n\t});\n}\n\nexport default function Updater(): null {\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst state = useSelector<AppState, AppState[\"multicall\"]>((state) => state.multicall);\n\t// wait for listeners to settle before triggering updates\n\tconst debouncedListeners = useDebounce(state.callListeners, 100);\n\tconst latestBlockNumber = useBlockNumber();\n\tconst { chainId } = useActiveWeb3React();\n\tconst multicallContract = useMulticallContract();\n\tconst cancellations = useRef<{ blockNumber: number; cancellations: (() => void)[] }>();\n\n\tconst listeningKeys: { [callKey: string]: number } = useMemo(() => {\n\t\treturn activeListeningKeys(debouncedListeners, chainId);\n\t}, [debouncedListeners, chainId]);\n\n\tconst unserializedOutdatedCallKeys = useMemo(() => {\n\t\treturn outdatedListeningKeys(state.callResults, listeningKeys, chainId, latestBlockNumber);\n\t}, [chainId, state.callResults, listeningKeys, latestBlockNumber]);\n\n\tconst serializedOutdatedCallKeys = useMemo(() => JSON.stringify(unserializedOutdatedCallKeys.sort()), [\n\t\tunserializedOutdatedCallKeys,\n\t]);\n\n\tuseEffect(() => {\n\t\tif (!latestBlockNumber || !chainId || !multicallContract) return;\n\n\t\tconst outdatedCallKeys: string[] = JSON.parse(serializedOutdatedCallKeys);\n\t\tif (outdatedCallKeys.length === 0) return;\n\t\tconst calls = outdatedCallKeys.map((key) => parseCallKey(key));\n\n\t\tconst chunkedCalls = chunkArray(calls, CALL_CHUNK_SIZE);\n\n\t\tif (cancellations.current?.blockNumber !== latestBlockNumber) {\n\t\t\tcancellations.current?.cancellations?.forEach((c) => c());\n\t\t}\n\n\t\tdispatch(\n\t\t\tfetchingMulticallResults({\n\t\t\t\tcalls,\n\t\t\t\tchainId,\n\t\t\t\tfetchingBlockNumber: latestBlockNumber,\n\t\t\t})\n\t\t);\n\n\t\tcancellations.current = {\n\t\t\tblockNumber: latestBlockNumber,\n\t\t\tcancellations: chunkedCalls.map((chunk, index) => {\n\t\t\t\tconst { cancel, promise } = retry(() => fetchChunk(multicallContract, chunk, latestBlockNumber), {\n\t\t\t\t\tn: Infinity,\n\t\t\t\t\tminWait: 2500,\n\t\t\t\t\tmaxWait: 3500,\n\t\t\t\t});\n\t\t\t\tpromise\n\t\t\t\t\t.then(({ results: returnData, blockNumber: fetchBlockNumber }) => {\n\t\t\t\t\t\tcancellations.current = { cancellations: [], blockNumber: latestBlockNumber };\n\n\t\t\t\t\t\t// accumulates the length of all previous indices\n\t\t\t\t\t\tconst firstCallKeyIndex = chunkedCalls\n\t\t\t\t\t\t\t.slice(0, index)\n\t\t\t\t\t\t\t.reduce<number>((memo, curr) => memo + curr.length, 0);\n\t\t\t\t\t\tconst lastCallKeyIndex = firstCallKeyIndex + returnData.length;\n\n\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\tupdateMulticallResults({\n\t\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t\t\tresults: outdatedCallKeys\n\t\t\t\t\t\t\t\t\t.slice(firstCallKeyIndex, lastCallKeyIndex)\n\t\t\t\t\t\t\t\t\t.reduce<{ [callKey: string]: string | null }>((memo, callKey, i) => {\n\t\t\t\t\t\t\t\t\t\tmemo[callKey] = returnData[i] ?? null;\n\t\t\t\t\t\t\t\t\t\treturn memo;\n\t\t\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t\t\t\tblockNumber: fetchBlockNumber,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error: any) => {\n\t\t\t\t\t\tif (error instanceof CancelledError) {\n\t\t\t\t\t\t\tconsole.debug(\"Cancelled fetch for blockNumber\", latestBlockNumber);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.error(\"Failed to fetch multicall chunk\", chunk, chainId, error);\n\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\terrorFetchingMulticallResults({\n\t\t\t\t\t\t\t\tcalls: chunk,\n\t\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t\t\tfetchingBlockNumber: latestBlockNumber,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\treturn cancel;\n\t\t\t}),\n\t\t};\n\t}, [chainId, multicallContract, dispatch, serializedOutdatedCallKeys, latestBlockNumber]);\n\n\treturn null;\n}\n","// chunks array into chunks of maximum size\n// evenly distributes items among the chunks\nexport default function chunkArray<T>(items: T[], maxChunkSize: number): T[][] {\n\tif (maxChunkSize < 1) throw new Error(\"maxChunkSize must be gte 1\");\n\tif (items.length <= maxChunkSize) return [items];\n\n\tconst numChunks: number = Math.ceil(items.length / maxChunkSize);\n\tconst chunkSize = Math.ceil(items.length / numChunks);\n\n\treturn [...Array(numChunks).keys()].map((ix) => items.slice(ix * chunkSize, ix * chunkSize + chunkSize));\n}\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useAddPopup, useBlockNumber } from \"../application/hooks\";\nimport { AppDispatch, AppState } from \"../index\";\nimport { checkedTransaction, finalizeTransaction } from \"./actions\";\nimport { emitter } from \"../../lib/helper\";\n\nexport function shouldCheck(\n\tlastBlockNumber: number,\n\ttx: { addedTime: number; receipt?: {}; lastCheckedBlockNumber?: number }\n): boolean {\n\tif (tx.receipt) return false;\n\tif (!tx.lastCheckedBlockNumber) return true;\n\tconst blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber;\n\tif (blocksSinceCheck < 1) return false;\n\tconst minutesPending = (new Date().getTime() - tx.addedTime) / 1000 / 60;\n\tif (minutesPending > 60) {\n\t\t// every 10 blocks if pending for longer than an hour\n\t\treturn blocksSinceCheck > 9;\n\t} else if (minutesPending > 5) {\n\t\t// every 3 blocks if pending more than 5 minutes\n\t\treturn blocksSinceCheck > 2;\n\t} else {\n\t\t// otherwise every block\n\t\treturn true;\n\t}\n}\n\nexport default function Updater(): null {\n\tconst { chainId, library } = useActiveWeb3React();\n\n\tconst lastBlockNumber = useBlockNumber();\n\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst state = useSelector<AppState, AppState[\"transactions\"]>((state) => state.transactions);\n\n\tconst transactions = chainId ? state[chainId] ?? {} : {};\n\n\t// show popup on confirm\n\tconst addPopup = useAddPopup();\n\n\tuseEffect(() => {\n\t\tif (!chainId || !library || !lastBlockNumber) return;\n\n\t\tObject.keys(transactions)\n\t\t\t.filter((hash) => shouldCheck(lastBlockNumber, transactions[hash]))\n\t\t\t.forEach((hash) => {\n\t\t\t\tlibrary\n\t\t\t\t\t.getTransactionReceipt(hash)\n\t\t\t\t\t.then((receipt) => {\n\t\t\t\t\t\tif (receipt) {\n\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\tfinalizeTransaction({\n\t\t\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\treceipt: {\n\t\t\t\t\t\t\t\t\t\tblockHash: receipt.blockHash,\n\t\t\t\t\t\t\t\t\t\tblockNumber: receipt.blockNumber,\n\t\t\t\t\t\t\t\t\t\tcontractAddress: receipt.contractAddress,\n\t\t\t\t\t\t\t\t\t\tfrom: receipt.from,\n\t\t\t\t\t\t\t\t\t\tstatus: receipt.status,\n\t\t\t\t\t\t\t\t\t\tto: receipt.to,\n\t\t\t\t\t\t\t\t\t\ttransactionHash: receipt.transactionHash,\n\t\t\t\t\t\t\t\t\t\ttransactionIndex: receipt.transactionIndex,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\temitter.emit(\"transaction\", {\n\t\t\t\t\t\t\t\ttxn: {\n\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\tsuccess: receipt.status === 1,\n\t\t\t\t\t\t\t\t\tsummary: transactions[hash]?.summary,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tmessage: transactions[hash]?.summary,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdispatch(checkedTransaction({ chainId, hash, blockNumber: lastBlockNumber }));\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.error(`failed to check transaction hash: ${hash}`, error);\n\t\t\t\t\t});\n\t\t\t});\n\t}, [chainId, library, transactions, lastBlockNumber, dispatch, addPopup]);\n\n\treturn null;\n}\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { AppDispatch } from \"../index\";\nimport { updateMatchesDarkMode } from \"./actions\";\n\nexport default function Updater(): null {\n\tconst dispatch = useDispatch<AppDispatch>();\n\n\t// keep dark mode in sync with the system\n\tuseEffect(() => {\n\t\tconst darkHandler = (match: MediaQueryListEvent) => {\n\t\t\tdispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }));\n\t\t};\n\n\t\tconst match = window?.matchMedia(\"(prefers-color-scheme: dark)\");\n\t\tdispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }));\n\n\t\tif (match?.addListener) {\n\t\t\tmatch?.addListener(darkHandler);\n\t\t} else if (match?.addEventListener) {\n\t\t\tmatch?.addEventListener(\"change\", darkHandler);\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (match?.removeListener) {\n\t\t\t\tmatch?.removeListener(darkHandler);\n\t\t\t} else if (match?.removeEventListener) {\n\t\t\t\tmatch?.removeEventListener(\"change\", darkHandler);\n\t\t\t}\n\t\t};\n\t}, [dispatch]);\n\n\treturn null;\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nimport Loading from \"../Loading\";\nimport { emitter } from \"../../lib/helper\";\n\nconst Wrapper = styled.div`\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 10999;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tbackground-image: ${({ theme }) => theme.splashBG};\n\tdisplay: flex;\n\tvisibility: ${(props) => (props.loaded ? \"hidden\" : \"visible\")};\n\topacity: ${(props) => (props.loaded ? 0 : 1)};\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: all ease 0.4s;\n`;\n\nclass SplashScreen extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Wrapper loaded={false}>\n\t\t\t\t<Loading width={\"88\"} height={\"88\"} color={\"primary\"} active={true} id={\"splash-screen-loading\"} />\n\t\t\t</Wrapper>\n\t\t);\n\t}\n}\n\nexport default SplashScreen;\n","export default __webpack_public_path__ + \"static/media/hero_1.444638c3.png\";","import { Col, Button } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useWalletModalToggle } from \"../../../state/application/hooks\";\nimport Hero1 from \"../../../assets/images/hero/hero_1.png\";\nimport \"./hero.scss\";\nimport { useActiveWeb3React } from \"../../../hooks\";\nimport { useIsDarkMode } from \"../../../state/user/hooks\";\n\nconst StyleButton = styled(Button)`\n\theight: 56px;\n\n\t&.btn-lg {\n\t\theight: 70px;\n\t\tpadding: 20px 32px;\n\t}\n`;\n\nconst Hero = (props) => {\n\tconst toggleConnectModal = useWalletModalToggle();\n\tconst { t } = useTranslation();\n\tconst { account } = useActiveWeb3React();\n\tconst darkMode = useIsDarkMode();\n\n\treturn (\n\t\t<section className=\"row hero section d-flex\">\n\t\t\t<Col xs={12} className={\"hero__concept\"}>\n\t\t\t\t<img src={Hero1} alt={\"OctoFi\"} draggable={false} className={\"hero__image hero__image--one\"} />\n\t\t\t</Col>\n\t\t\t<Col xs={12} className={\"d-flex align-items-center justify-content-center flex-column text-center\"}>\n\t\t\t\t<h1 className={\"h1 mt-0 hero__title text-center\"}>{t(\"app.description\")}</h1>\n\t\t\t\t<div className=\"align-items-center align-self-stretch align-self-lg-auto justify-content-center text-center\">\n\t\t\t\t\t<StyleButton\n\t\t\t\t\t\tvariant={darkMode ? \"outline-primary\" : \"primary\"}\n\t\t\t\t\t\tonClick={toggleConnectModal}\n\t\t\t\t\t\tclassName={\"btn-lg w-100 w-lg-auto\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t{account ? t(\"wallet.viewOrChange\") : t(\"wallet.connect\")}\n\t\t\t\t\t</StyleButton>\n\t\t\t\t</div>\n\t\t\t</Col>\n\t\t</section>\n\t);\n};\n\nexport default Hero;\n","export default __webpack_public_path__ + \"static/media/features_1.629c7c01.svg\";","export default __webpack_public_path__ + \"static/media/features_2.f74c7f64.svg\";","export default __webpack_public_path__ + \"static/media/features_3.80772ff2.svg\";","export default __webpack_public_path__ + \"static/media/features_4.d6d83a71.svg\";","import SVG from \"react-inlinesvg\";\n\nimport Feature1 from \"../../assets/images/features/features_1.svg\";\nimport Feature2 from \"../../assets/images/features/features_2.svg\";\nimport Feature3 from \"../../assets/images/features/features_3.svg\";\nimport Feature4 from \"../../assets/images/features/features_4.svg\";\n\nconst FeatureIcon = (props) => {\n\tlet C = null;\n\tswitch (props.name) {\n\t\tcase \"support\": {\n\t\t\tC = Feature1;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"blog\": {\n\t\t\tC = Feature2;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"community\": {\n\t\t\tC = Feature3;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"careers\": {\n\t\t\tC = Feature4;\n\t\t\tbreak;\n\t\t}\n\t\tdefault: {\n\t\t\tC = Feature1;\n\t\t}\n\t}\n\n\treturn <SVG src={C} />;\n};\n\nexport default FeatureIcon;\n","import styled from \"styled-components\";\n\nimport FeatureIcon from \"./icon\";\n\nconst Feature = styled.a`\n\tdisplay: block;\n\ttext-decoration: none;\n\tcolor: inherit;\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t}\n\n\t&:hover .feature__wrapper,\n\t&:hover .feature__icon {\n\t\tborder-color: ${({ theme }) => theme.primary};\n\t}\n`;\n\nconst Wrapper = styled.div`\n\tposition: relative;\n\tborder-radius: 1.125rem;\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tpadding: 60px 30px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tflex-direction: column;\n\ttext-align: center;\n\theight: 100%;\n\tborder: 1px solid ${({ theme }) => theme.text4};\n\ttransition: all ease 0.3s;\n\n\t@media (max-width: 991px) {\n\t\theight: auto;\n\t}\n`;\n\nconst Icon = styled.div`\n\twidth: 100px;\n\theight: 100px;\n\tborder-radius: 100px;\n\tmargin-bottom: 30px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tborder: 1px solid ${({ theme }) => theme.text4};\n\tcolor: ${({ theme }) => theme.text1};\n\ttransition: all ease 0.3s;\n`;\n\nconst Title = styled.h3`\n\tfont-weight: 700;\n\tfont-size: 1.25rem;\n\tmargin-bottom: 30px;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst Desc = styled.p`\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst FeatureItem = (props) => {\n\treturn (\n\t\t<Feature href={props.href || \"#\"} target={\"_blank\"} rel={\"noreferrer noopener\"}>\n\t\t\t<Wrapper className=\"feature__wrapper mb-4 mb-lg-0\">\n\t\t\t\t<Icon className={\"feature__icon\"}>\n\t\t\t\t\t<FeatureIcon name={props.iconName} />\n\t\t\t\t</Icon>\n\t\t\t\t<Title>{props.title}</Title>\n\t\t\t\t<Desc>{props.children || props.description || props.desc}</Desc>\n\t\t\t</Wrapper>\n\t\t</Feature>\n\t);\n};\n\nexport default FeatureItem;\n","import { Col } from \"react-bootstrap\";\nimport Slider from \"react-slick\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nimport FeatureItem from \"../../../components/FeatureItem\";\nimport \"./features.scss\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Features = (props) => {\n\tconst { t } = useTranslation();\n\n\tconst settings = {\n\t\tclassName: \"slider w-100\",\n\t\tdots: true,\n\t\tarrows: false,\n\t\tinfinite: false,\n\t\tcenterMode: false,\n\t\tslidesToShow: 4,\n\t\tslidesToScroll: 1,\n\t\tcenterPadding: \"20px\",\n\t\tresponsive: [\n\t\t\t{\n\t\t\t\tbreakpoint: 1199,\n\t\t\t\tsettings: {\n\t\t\t\t\tslidesToShow: 2,\n\t\t\t\t\tslidesToScroll: 2,\n\t\t\t\t\tinfinite: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tbreakpoint: 767,\n\t\t\t\tsettings: {\n\t\t\t\t\tslidesToShow: 1,\n\t\t\t\t\tslidesToScroll: 1,\n\t\t\t\t\tinfinite: true,\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tdotsClass: \"features__dots slick-dots d-lg-none\",\n\t};\n\n\treturn (\n\t\t<section className=\"row custom-row features section d-flex align-items-stretch\">\n\t\t\t<Col xs={12}>\n\t\t\t\t<h3 className=\"h3 text-center section__title\">{t(\"app.getInTouch\")}</h3>\n\t\t\t</Col>\n\t\t\t<Col xs={12}>\n\t\t\t\t<div className=\"features__container\">\n\t\t\t\t\t<div className=\"features__inner\">\n\t\t\t\t\t\t<Slider {...settings}>\n\t\t\t\t\t\t\t<FeatureItem\n\t\t\t\t\t\t\t\thref={\"https://help.octo.fi\"}\n\t\t\t\t\t\t\t\ticonName={\"support\"}\n\t\t\t\t\t\t\t\ttitle={t(\"app.features.support.title\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"app.features.support.desc\")}\n\t\t\t\t\t\t\t</FeatureItem>\n\t\t\t\t\t\t\t<FeatureItem\n\t\t\t\t\t\t\t\thref={\"https://blog.octo.fi\"}\n\t\t\t\t\t\t\t\ticonName={\"blog\"}\n\t\t\t\t\t\t\t\ttitle={t(\"app.features.blog.title\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"app.features.blog.desc\")}\n\t\t\t\t\t\t\t</FeatureItem>\n\t\t\t\t\t\t\t<FeatureItem\n\t\t\t\t\t\t\t\thref={\"https://den.octo.fi\"}\n\t\t\t\t\t\t\t\ticonName={\"community\"}\n\t\t\t\t\t\t\t\ttitle={t(\"app.features.community.title\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"app.features.community.desc\")}\n\t\t\t\t\t\t\t</FeatureItem>\n\t\t\t\t\t\t\t<FeatureItem\n\t\t\t\t\t\t\t\thref={\"https://yolo.octo.fi\"}\n\t\t\t\t\t\t\t\ticonName={\"blog\"}\n\t\t\t\t\t\t\t\ttitle={t(\"app.features.careers.title\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"app.features.careers.desc\")}\n\t\t\t\t\t\t\t</FeatureItem>\n\t\t\t\t\t\t</Slider>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Col>\n\t\t</section>\n\t);\n};\n\nexport default Features;\n","import { Card } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nconst { Header, Body } = Card;\n\nconst StyledCard = styled(Card)`\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tborder-radius: 18px;\n\tborder: 1px solid ${({ theme }) => theme.text4};\n`;\n\nconst CustomCard = (props) => {\n\treturn (\n\t\t<StyledCard>\n\t\t\t{props.header && <Header>{props.header}</Header>}\n\t\t\t<Body>{props.children || props.body}</Body>\n\t\t</StyledCard>\n\t);\n};\n\nexport default CustomCard;\n","import ReactApexChart from \"react-apexcharts\";\nimport { Component } from \"react\";\n\nconst primaryColor = `#87dce1`;\nconst secondaryColor = `#a890fe`;\n\nconst colors = {\n\tprimary: primaryColor,\n\tsecondary: secondaryColor,\n};\n\nclass SparklineChart extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thasError: false,\n\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\tname: \"Market\",\n\t\t\t\t\tdata: props.data\n\t\t\t\t\t\t? props.data.map((price, index) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tx: 100 + index,\n\t\t\t\t\t\t\t\t\ty: price,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: [],\n\t\t\t\t},\n\t\t\t],\n\t\t\tcurrentData: null,\n\t\t\toptions: {\n\t\t\t\tchart: {\n\t\t\t\t\tid: \"area-datetime\",\n\t\t\t\t\theight: 40,\n\t\t\t\t\ttoolbar: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t},\n\t\t\t\t\tzoom: {\n\t\t\t\t\t\tenabled: false,\n\t\t\t\t\t},\n\t\t\t\t\tsparkline: {\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t},\n\t\t\t\t\tanimations: {\n\t\t\t\t\t\tenabled: false,\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"area\",\n\t\t\t\t},\n\t\t\t\tdataLabels: {\n\t\t\t\t\tenabled: false,\n\t\t\t\t},\n\t\t\t\tmarkers: {\n\t\t\t\t\tsize: 0,\n\t\t\t\t\tstyle: \"hollow\",\n\t\t\t\t},\n\t\t\t\tstroke: {\n\t\t\t\t\twidth: 1,\n\t\t\t\t\tcurve: \"straight\",\n\t\t\t\t},\n\t\t\t\tcolors: [colors[props.theme || \"primary\"]],\n\t\t\t\txaxis: {\n\t\t\t\t\ttype: \"datetime\",\n\t\t\t\t\ttickAmount: 6,\n\t\t\t\t\tlabels: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t},\n\n\t\t\t\t\taxisBorder: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t},\n\n\t\t\t\t\taxisTicks: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t},\n\t\t\t\t\tcrosshairs: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\tenabled: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tyaxis: {\n\t\t\t\t\tlabels: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t},\n\n\t\t\t\t\taxisBorder: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplotOptions: {},\n\t\t\t\ttooltip: {\n\t\t\t\t\tenabled: false,\n\t\t\t\t},\n\t\t\t\tgrid: {\n\t\t\t\t\tborderColor: \"#fc0\",\n\t\t\t\t\tclipMarkers: false,\n\t\t\t\t\tyaxis: {\n\t\t\t\t\t\tlines: {\n\t\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tfill: {\n\t\t\t\t\tgradient: {\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\topacityFrom: 0.55,\n\t\t\t\t\t\topacityTo: 0,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpadding: {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\tcomponentDidCatch() {\n\t\tthis.setState({\n\t\t\thasError: true,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn this.state.hasError ? null : (\n\t\t\t<ReactApexChart\n\t\t\t\toptions={this.state.options}\n\t\t\t\tseries={this.state.series}\n\t\t\t\ttype=\"area\"\n\t\t\t\theight={this.props.minHeight || 40}\n\t\t\t\twidth={this.props.minWidth || 120}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default SparklineChart;\n","import { Col } from \"react-bootstrap\";\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport Table from \"react-bootstrap-table-next\";\nimport Skeleton from \"react-loading-skeleton\";\nimport styled from \"styled-components\";\nimport { isMobile } from \"react-device-detect\";\n\nimport \"./currencies.scss\";\nimport SearchIcon from \"../../../assets/images/search.svg\";\nimport CustomCard from \"../../../components/CustomCard\";\nimport MarketApi from \"../../../http/market\";\nimport SparklineChart from \"../../../components/SparklineChart\";\nimport ResponsiveTable from \"../../../components/ResponsiveTable\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport CurrencyText from \"../../../components/CurrencyText\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n\tInputGroupFormControl as FormControl,\n\tInputGroup,\n\tInputGroupPrepend,\n\tInputGroupText,\n} from \"../../../components/Form\";\nimport SVG from \"react-inlinesvg\";\n\nconst GotoMarketContainer = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 24px 24px 14px;\n\n\t@media (min-width: 992px) {\n\t\tpadding: 0 24px 10px;\n\t\tmargin-top: -1rem;\n\t}\n`;\n\nconst PoolsButton = styled.button`\n\tborder-radius: 12px;\n\tbackground-color: ${({ theme }) => theme.bg2};\n\tpadding: 6px 20px;\n\tmax-height: 40px;\n\tmin-height: 40px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twhite-space: nowrap;\n\tfont-size: 1rem;\n\tfont-family: inherit;\n\tfont-weight: 500;\n\tborder: none;\n\toutline: none;\n\ttext-decoration: none;\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n`;\n\nconst TradeButton = styled(PoolsButton)`\n\tcolor: ${({ theme }) => theme.primary};\n\twidth: 100%;\n\n\t&:hover {\n\t\tcolor: ${({ theme }) => theme.bg2};\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t}\n`;\n\nconst StyledLink = styled(Link)`\n\ttext-decoration: none;\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n`;\n\nconst marketApi = new MarketApi();\n\nlet typingInterval;\n\nconst Currencies = (props) => {\n\tconst [coins, setCoins] = useState([{}, {}, {}, {}, {}, {}, {}, {}, {}, {}]);\n\tconst [query, setQuery] = useState(\"\");\n\tconst { t } = useTranslation();\n\n\tconst defaultCoins = useMemo(() => {\n\t\treturn process.env.REACT_APP_HOME_TOP10?.split(\",\") || [];\n\t}, []);\n\n\tconst getSearchedCoins = useCallback(async (query) => {\n\t\ttry {\n\t\t\tconst coins = await marketApi.get(\"search\", {\n\t\t\t\tlocale: \"en\",\n\t\t\t\tquery: query,\n\t\t\t});\n\t\t\tif (coins.length > 0) {\n\t\t\t\tconst res = await marketApi.get(\"searchedCoins\", {\n\t\t\t\t\tids: coins.slice(0, 10).map((coin) => coin.id),\n\t\t\t\t\tpageSize: 10,\n\t\t\t\t});\n\n\t\t\t\tif (res.hasOwnProperty(\"data\")) {\n\t\t\t\t\tsetCoins(res.data.slice(0, 10));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetCoins([]);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetCoins([{}, {}, {}, {}, {}, {}, {}, {}, {}, {}]);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (query === \"\") {\n\t\t\tmarketApi\n\t\t\t\t.get(\"searchedCoins\", {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tpageSize: 10,\n\t\t\t\t\tids: defaultCoins,\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.hasOwnProperty(\"data\")) {\n\t\t\t\t\t\tsetCoins(response.data);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tsetCoins([]);\n\t\t\t\t});\n\t\t} else {\n\t\t\tclearTimeout(typingInterval);\n\t\t\ttypingInterval = setTimeout(() => getSearchedCoins(query), 300);\n\t\t}\n\t}, [query]);\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"name\",\n\t\t\ttext: t(\"name\"),\n\t\t\tformatter: (cell, row) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"d-flex coin align-items-center\">\n\t\t\t\t\t\t{row.hasOwnProperty(\"image\") ? (\n\t\t\t\t\t\t\t<div className=\"coin__icon\">\n\t\t\t\t\t\t\t\t<img src={row?.image} alt={row?.name} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\twidth={isMobile ? 24 : 55}\n\t\t\t\t\t\t\t\theight={isMobile ? 24 : 55}\n\t\t\t\t\t\t\t\tclassName={isMobile ? \"mr-2\" : \"mr-4\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<span className={\"coin__symbol\"}>\n\t\t\t\t\t\t\t{row.hasOwnProperty(\"symbol\") ? (\n\t\t\t\t\t\t\t\trow?.symbol?.toUpperCase()\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Skeleton width={isMobile ? 30 : 80} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className={\"coin__name\"}>\n\t\t\t\t\t\t\t{row.hasOwnProperty(\"name\") ? row?.name : <Skeleton width={isMobile ? 40 : 120} />}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: 60,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"price\",\n\t\t\ttext: t(\"table.price\"),\n\t\t\tformatter: (cell, row) => {\n\t\t\t\treturn (\n\t\t\t\t\t<span className={\"coin__price\"}>\n\t\t\t\t\t\t{row.hasOwnProperty(\"current_price\") ? (\n\t\t\t\t\t\t\t<CurrencyText>{row?.current_price}</CurrencyText>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Skeleton width={isMobile ? 50 : 80} height={32} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"price_change\",\n\t\t\ttext: t(\"table.24_price\"),\n\t\t\tformatter: (cell, row) => {\n\t\t\t\tconst data = row?.price_change_percentage_24h?.toFixed(4);\n\t\t\t\treturn row.hasOwnProperty(\"current_price\") ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={`label label-inline ${isMobile ? \"label-sm\" : \"label-lg\"} label-light-${\n\t\t\t\t\t\t\tdata > 0 ? \"success\" : \"danger\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{data > 0 ? \"+\" : \"\"}\n\t\t\t\t\t\t{data ? `${data}%` : \"\"}\n\t\t\t\t\t</span>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton width={80} height={32} />\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"sparkline\",\n\t\t\ttext: t(\"markets\"),\n\t\t\tformatter: (cell, row, index) => {\n\t\t\t\tconst data = row?.sparkline_in_7d?.price;\n\t\t\t\treturn row.hasOwnProperty(\"sparkline_in_7d\") ? (\n\t\t\t\t\t<SparklineChart data={data} theme={index % 2 === 1 ? \"secondary\" : \"primary\"} />\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton width={120} height={40} />\n\t\t\t\t);\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\twidth: 180,\n\t\t\t},\n\t\t},\n\t];\n\n\tconst mobileColumns = [\n\t\t...columns,\n\t\t{\n\t\t\tdataField: \"actions\",\n\t\t\ttext: t(\"table.actions\"),\n\t\t\tformatter(cellContent, row) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"d-flex flex-column align-items-stretch align-items-lg-center justify-content-center w-100\">\n\t\t\t\t\t\t<StyledLink to={`/tools/market/${row?.id}`}>\n\t\t\t\t\t\t\t<TradeButton>View More</TradeButton>\n\t\t\t\t\t\t</StyledLink>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t\tisAction: true,\n\t\t},\n\t];\n\n\tconst rowEvents = {\n\t\tonClick: (e, row) => {\n\t\t\tprops.history.push(`/tools/market/${row?.id}`);\n\t\t},\n\t};\n\n\treturn (\n\t\t<section className=\"row currency section d-flex align-items-stretch\">\n\t\t\t<Col\n\t\t\t\txs={12}\n\t\t\t\tclassName={\n\t\t\t\t\t\"d-flex flex-column flex-lg-row align-items-stretch align-items-lg-center justify-content-between section__title\"\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"d-flex align-items-start justify-content-between\">\n\t\t\t\t\t<h2 className=\"h2 mr-auto\">{t(\"tokens.assets\")}</h2>\n\t\t\t\t\t<Link to={\"/tools/explore/tokens\"} className={\"d-flex d-lg-none\"}>\n\t\t\t\t\t\t<button className=\"btn btn-link p-0\" style={{ fontWeight: 500 }}>\n\t\t\t\t\t\t\t{t(\"tokens.allAssets\")}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<InputGroup className={\"w-auto\"}>\n\t\t\t\t\t<InputGroupPrepend>\n\t\t\t\t\t\t<InputGroupText>\n\t\t\t\t\t\t\t<SVG src={SearchIcon} />\n\t\t\t\t\t\t</InputGroupText>\n\t\t\t\t\t</InputGroupPrepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tid=\"inlineFormInputGroup\"\n\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\n\t\t\t\t\t\tclassName={\"form-control--currency\"}\n\t\t\t\t\t/>\n\t\t\t\t</InputGroup>\n\t\t\t</Col>\n\t\t\t<Col xs={12}>\n\t\t\t\t<CustomCard>\n\t\t\t\t\t{coins.length > 0 ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\twrapperClasses=\"table-responsive d-none d-lg-block\"\n\t\t\t\t\t\t\t\tbordered={false}\n\t\t\t\t\t\t\t\tclasses={`table currencies table-vertical-center overflow-hidden table-dark-border table-hover`}\n\t\t\t\t\t\t\t\tbootstrap4\n\t\t\t\t\t\t\t\tremote\n\t\t\t\t\t\t\t\tkeyField=\"id\"\n\t\t\t\t\t\t\t\trowEvents={rowEvents}\n\t\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\t\tdata={coins}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ResponsiveTable breakpoint={\"lg\"} columns={mobileColumns} data={coins} />\n\t\t\t\t\t\t\t<GotoMarketContainer>\n\t\t\t\t\t\t\t\t<Link to={\"/tools/explore/tokens\"}>\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" style={{ fontWeight: 500 }}>\n\t\t\t\t\t\t\t\t\t\t{t(\"tokens.allAssets\")}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</GotoMarketContainer>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span className=\"py-5 font-size-sm font-weight-medium d-flex align-items-center justify-content-center\">\n\t\t\t\t\t\t\t{t(\"tokens.noToken\")}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</CustomCard>\n\t\t\t</Col>\n\t\t</section>\n\t);\n};\n\nexport default withRouter(Currencies);\n","import Slider from \"react-slick\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nimport { banners } from \"../../../constants\";\nimport \"./banners.scss\";\n\nconst Banners = (props) => {\n\tconst settings = {\n\t\tclassName: \"slider w-100\",\n\t\tdots: true,\n\t\tarrows: false,\n\t\tinfinite: false,\n\t\tcenterMode: false,\n\t\tslidesToShow: 3,\n\t\tslidesToScroll: 3,\n\t\tcenterPadding: \"30px\",\n\t\tresponsive: [\n\t\t\t{\n\t\t\t\tbreakpoint: 1199,\n\t\t\t\tsettings: {\n\t\t\t\t\tslidesToShow: 2,\n\t\t\t\t\tslidesToScroll: 2,\n\t\t\t\t\tinfinite: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tbreakpoint: 767,\n\t\t\t\tsettings: {\n\t\t\t\t\tslidesToShow: 1,\n\t\t\t\t\tslidesToScroll: 1,\n\t\t\t\t\tinfinite: true,\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tdotsClass: \"banner__dots slick-dots\",\n\t};\n\n\treturn (\n\t\t<section className=\"row banners section\">\n\t\t\t<div className=\"banners__container\">\n\t\t\t\t<div className=\"banners__inner\">\n\t\t\t\t\t<Slider {...settings}>\n\t\t\t\t\t\t{banners.map((banner, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className={\"w-100\"} key={`banner-${i}`}>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={banner.url}\n\t\t\t\t\t\t\t\t\t\ttarget={\"_blank\"}\n\t\t\t\t\t\t\t\t\t\trel={\"noopener noreferrer\"}\n\t\t\t\t\t\t\t\t\t\tclassName={\"banner__link\"}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={banner.image.default}\n\t\t\t\t\t\t\t\t\t\t\talt={`banner ${i}`}\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"banner__image\"}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Slider>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n\nexport default Banners;\n","import { useEffect } from \"react\";\nimport aos from \"aos\";\nimport Web3 from 'web3';\n\nimport Page from \"../../components/Page\";\nimport Hero from \"./sections/Hero\";\nimport Features from \"./sections/Features\";\nimport Currencies from \"./sections/Currencies\";\nimport Banners from \"./sections/Banners\";\nimport useParsedQueryString from \"../../hooks/useParsedQueryString\";\nimport { toast } from \"react-hot-toast\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nconst HomePage = (props) => {\n\tconst { account } = useActiveWeb3React();\n\tconst queryString = useParsedQueryString();\n\tconst { t } = useTranslation();\n\n\n\tuseEffect(() => {\n\t\tconst web3 = new Web3(Web3.givenProvider);\n\t\tweb3.eth.getAccounts((err, res) => {\n\t\t\tif(err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\n\t\t\tconsole.log(res);\n\t\t})\n\t}, [])\n\n\tuseEffect(() => {\n\t\taos.init();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (queryString && queryString.error) {\n\t\t\tif (account) {\n\t\t\t\ttoast.error(t(\"errors.notFound\"));\n\t\t\t} else {\n\t\t\t\ttoast.error(t(\"errors.walletConnect\"));\n\t\t\t}\n\t\t}\n\t}, [queryString]);\n\n\treturn (\n\t\t<Page disableAccountCheck={true}>\n\t\t\t{/* Home-Hero: start */}\n\t\t\t<Hero />\n\t\t\t{/* Home-Hero: end */}\n\n\t\t\t{/* Home-Currencies: start */}\n\t\t\t<Banners />\n\t\t\t{/* Home-Currencies: end */}\n\n\t\t\t{/* Home-Currencies: start */}\n\t\t\t<Currencies />\n\t\t\t{/* Home-Currencies: end */}\n\n\t\t\t{/* Home-Features: start */}\n\t\t\t<Features />\n\t\t\t{/* Home-Features: end */}\n\t\t</Page>\n\t);\n};\n\nexport default HomePage;\n","import { Switch, Route, Redirect } from \"react-router-dom\";\nimport { useEffect, lazy, Suspense } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"./hooks\";\nimport SplashScreen from \"./components/SplashScreen\";\nimport { fetchCurrencies } from \"./state/currency/actions\";\nimport HomePage from \"./pages/Home\";\nimport { useDarkModeManager } from \"./state/user/hooks\";\n\nconst Dashboard = lazy(() => import(\"./pages/Dashboard\"));\nconst Platform = lazy(() => import(\"./pages/Platform\"));\nconst Pools = lazy(() => import(\"./pages/Pools\"));\nconst Swap = lazy(() => import(\"./pages/Swap\"));\nconst Spot = lazy(() => import(\"./pages/Spot\"));\nconst InstantSwap = lazy(() => import(\"./pages/InstantSwap\"));\nconst Markets = lazy(() => import(\"./pages/Markets\"));\nconst Explore = lazy(() => import(\"./pages/Explore\"));\nconst ExploreTypeList = lazy(() => import(\"./pages/ExploreTypeList\"));\nconst CoinDetails = lazy(() => import(\"./pages/CoinDetails\"));\nconst Governance = lazy(() => import(\"./pages/Governance\"));\nconst CreateProposal = lazy(() => import(\"./pages/CreateProposal\"));\nconst Proposals = lazy(() => import(\"./pages/Proposals\"));\nconst Vote = lazy(() => import(\"./pages/Vote\"));\nconst History = lazy(() => import(\"./pages/History\"));\nconst Wallet = lazy(() => import(\"./pages/Wallet\"));\nconst FiatOff = lazy(() => import(\"./pages/FiatOff\"));\nconst FiatOn = lazy(() => import(\"./pages/FiatOn\"));\nconst NFT = lazy(() => import(\"./pages/NFT\"));\nconst Borrow = lazy(() => import(\"./pages/Borrow\"));\nconst TokenSets = lazy(() => import(\"./pages/TokenSets\"));\nconst Launchpad = lazy(() => import(\"./pages/Launchpad\"));\nconst LaunchpadItem = lazy(() => import(\"./pages/LaunchpadItem\"));\nconst NewLaunchpad = lazy(() => import(\"./pages/NewLaunchpad\"));\n\n\nconst Routes = (props) => {\n\tconst [darkMode] = useDarkModeManager();\n\tconst { account } = useActiveWeb3React();\n\n\tconst selectedCurrency = useSelector((state) => state.currency.selected);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (darkMode) {\n\t\t\tdocument.body.classList.add(\"dark-mode\");\n\t\t} else {\n\t\t\tdocument.body.classList.remove(\"dark-mode\");\n\t\t}\n\t}, [darkMode]);\n\n\tuseEffect(() => {\n\t\tdispatch(fetchCurrencies(selectedCurrency));\n\t}, [selectedCurrency, dispatch]);\n\n\treturn (\n\t\t<>\n\t\t\t<Suspense fallback={<SplashScreen />}>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path={\"/\"} component={HomePage} exact />\n\t\t\t\t\t<Route path={\"/platforms/:platform\"} component={Platform} />\n\t\t\t\t\t<Route path={\"/trade/markets\"} component={Markets} />\n\t\t\t\t\t<Route path={\"/fiat/off-cards\"} component={FiatOff} />\n\t\t\t\t\t<Route path={\"/fiat/on\"} component={FiatOn} />\n\t\t\t\t\t<Route path={\"/invest/pools\"} component={Pools} />\n\t\t\t\t\t<Route exact path={\"/invest/nft\"} component={NFT} />\n\t\t\t\t\t<Route path={\"/invest/loans\"} component={Borrow} />\n\t\t\t\t\t<Route path={\"/invest/tokensets\"} component={TokenSets} />\n\t\t\t\t\t<Route path={\"/invest/launchpad\"} exact component={Launchpad}/>\n\t\t\t\t\t<Route path={\"/invest/launchpad/new\"} exact component={NewLaunchpad}/>\n\t\t\t\t\t<Route path={'/invest/launchpad/:address'} exact component={LaunchpadItem}/>\n\t\t\t\t\t<Route path={\"/trade/spot\"} component={Spot} />\n\t\t\t\t\t<Route path={\"/swap/uni\"} component={Swap} />\n\t\t\t\t\t<Route path={\"/swap/all\"} component={InstantSwap} />\n\t\t\t\t\t<Route path={\"/tools/governance\"} exact component={Governance} />\n\t\t\t\t\t<Route path={\"/tools/governance/:space/create\"} exact component={CreateProposal} />\n\t\t\t\t\t<Route path={\"/tools/governance/:space\"} exact component={Proposals} />\n\t\t\t\t\t<Route path={\"/tools/governance/:space/proposal/:id\"} exact component={Vote} />\n\t\t\t\t\t<Route path={\"/tools/explore\"} exact component={Explore} />\n\t\t\t\t\t<Route path={\"/tools/explore/:type\"} exact component={ExploreTypeList} />\n\t\t\t\t\t<Route path={\"/tools/market/:id\"} exact component={CoinDetails} />\n\t\t\t\t\t<Route path={\"/coins/:id\"} exact component={CoinDetails} />\n\t\t\t\t\t{account && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Route path={\"/account/history\"} exact component={History} />\n\t\t\t\t\t\t\t<Route path={\"/account/wallet\"} exact component={Wallet} />\n\t\t\t\t\t\t\t<Route path={\"/dashboard\"} component={Dashboard} />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Redirect to={\"/?error=1\"} />\n\t\t\t\t</Switch>\n\t\t\t</Suspense>\n\t\t</>\n\t);\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport styled from \"styled-components\";\n\nimport { network } from \"../../connectors\";\nimport { useEagerConnect, useInactiveListener } from \"../../hooks\";\nimport { NetworkContextName } from \"../../constants\";\nimport Loader from \"../Loader\";\n\nconst MessageWrapper = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 20rem;\n`;\n\nconst Message = styled.h2`\n\tcolor: ${({ theme }) => theme.secondary1};\n`;\n\nexport default function Web3ReactManager({ children }: { children: JSX.Element }) {\n\tconst { active } = useWeb3React();\n\tconst { active: networkActive, error: networkError, activate: activateNetwork } = useWeb3React(NetworkContextName);\n\n\t// try to eagerly connect to an injected provider, if it exists and has granted access already\n\tconst triedEager = useEagerConnect();\n\n\t// after eagerly trying injected, if the network connect ever isn't active or in an error state, activate itd\n\tuseEffect(() => {\n\t\tif (triedEager && !networkActive && !networkError && !active) {\n\t\t\tactivateNetwork(network);\n\t\t}\n\t}, [triedEager, networkActive, networkError, activateNetwork, active]);\n\n\t// when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\n\tuseInactiveListener(!triedEager);\n\n\t// handle delayed loader state\n\tconst [showLoader, setShowLoader] = useState(false);\n\tuseEffect(() => {\n\t\tconst timeout = setTimeout(() => {\n\t\t\tsetShowLoader(true);\n\t\t}, 600);\n\n\t\treturn () => {\n\t\t\tclearTimeout(timeout);\n\t\t};\n\t}, []);\n\n\t// on page load, do nothing until we've tried to connect to the injected connector\n\tif (!triedEager) {\n\t\treturn null;\n\t}\n\n\t// if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\n\tif (!active && networkError) {\n\t\treturn (\n\t\t\t<MessageWrapper>\n\t\t\t\t<Message>An Error was occurred</Message>\n\t\t\t</MessageWrapper>\n\t\t);\n\t}\n\n\t// if neither context is active, spin\n\tif (!active && !networkActive) {\n\t\treturn showLoader ? (\n\t\t\t<MessageWrapper>\n\t\t\t\t<Loader />\n\t\t\t</MessageWrapper>\n\t\t) : null;\n\t}\n\n\treturn children;\n}\n","import { useCallback, useEffect } from \"react\";\nimport toast from \"react-hot-toast\";\n\nimport { getEtherscanLink } from \"../../utils\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useActivePopups, useRemovePopup } from \"../../state/application/hooks\";\n\nconst TransactionHandler = (props) => {\n\tconst { chainId } = useActiveWeb3React();\n\tconst activePopups = useActivePopups();\n\tconst removePopup = useRemovePopup();\n\n\tuseEffect(() => {\n\t\tactivePopups.map((item) => {\n\t\t\tconfirmTransaction(item.content, item.key);\n\t\t\treturn item;\n\t\t});\n\t}, [activePopups]);\n\n\tconst confirmTransaction = useCallback((e, key) => {\n\t\ttoast((t) => {\n\t\t\treturn (\n\t\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t\t<span className={\"d-block mb-3\"}>{e?.txn?.summary}</span>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={getEtherscanLink(chainId, e?.txn?.hash, \"transaction\")}\n\t\t\t\t\t\tclassName={`btn btn-sm btn-light-${e?.txn?.success ? \"primary\" : \"danger\"} cursor-pointer`}\n\t\t\t\t\t\ttarget={\"_blank\"}\n\t\t\t\t\t\trel={\"noreferrer noopener\"}\n\t\t\t\t\t>\n\t\t\t\t\t\tView on Etherscan ðŸ¡•\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t\tsetTimeout(() => {\n\t\t\tremovePopup(key);\n\t\t}, 5000);\n\t}, []);\n\n\treturn null;\n};\n\nexport default TransactionHandler;\n","import { HashRouter as Router } from \"react-router-dom\";\nimport { SkeletonTheme } from \"react-loading-skeleton\";\nimport { Toaster } from \"react-hot-toast\";\n\nimport { FixedGlobalStyle, ThemedGlobalStyle } from \"./theme\";\nimport RouteChanger from \"./components/RouteChanger/routeChanger\";\nimport WalletModal from \"./components/WalletModal\";\nimport ApplicationUpdater from \"./state/application/updater\";\nimport ListsUpdater from \"./state/lists/updater\";\nimport MultiCallUpdater from \"./state/multicall/updater\";\nimport TransactionUpdater from \"./state/transactions/updater\";\nimport UserUpdater from \"./state/user/updater\";\nimport Routes from \"./Routes\";\nimport \"./global.scss\";\nimport Web3ReactManager from \"./components/Web3ReactManager\";\nimport TransactionHandler from \"./components/TransactionHandler\";\nimport { useIsDarkMode } from \"./state/user/hooks\";\n\nfunction Updaters() {\n\treturn (\n\t\t<>\n\t\t\t<ListsUpdater />\n\t\t\t<UserUpdater />\n\t\t\t<ApplicationUpdater />\n\t\t\t<TransactionUpdater />\n\t\t\t<MultiCallUpdater />\n\t\t</>\n\t);\n}\n\nfunction App() {\n\tconst darkMode = useIsDarkMode();\n\n\treturn (\n\t\t<Web3ReactManager>\n\t\t\t<FixedGlobalStyle />\n\t\t\t<Updaters />\n\t\t\t<Toaster\n\t\t\t\tposition=\"bottom-left\"\n\t\t\t\ttoastOptions={{\n\t\t\t\t\tclassName: \"\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackground: \"#464646\",\n\t\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\t\tzIndex: 9999999,\n\t\t\t\t\t\tboxShadow: \"initial\",\n\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t},\n\t\t\t\t\tduration: 5000,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<TransactionHandler />\n\t\t\t<SkeletonTheme\n\t\t\t\tcolor={darkMode ? \"#1e1f24\" : \"rgb(212, 218, 242)\"}\n\t\t\t\thighlightColor={darkMode ? \"#232429\" : \"#F3F5FD\"}\n\t\t\t>\n\t\t\t\t<ThemedGlobalStyle />\n\t\t\t\t<Router>\n\t\t\t\t\t<WalletModal />\n\t\t\t\t\t<RouteChanger />\n\t\t\t\t\t<Routes />\n\t\t\t\t</Router>\n\t\t\t</SkeletonTheme>\n\t\t</Web3ReactManager>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import { Web3Provider } from \"@ethersproject/providers\";\n\nexport default function getLibrary(provider: any): Web3Provider {\n\tconst library = new Web3Provider(provider, \"any\");\n\tlibrary.pollingInterval = 15000;\n\treturn library;\n}\n","import i18next from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport Backend from \"i18next-http-backend\";\n\ni18next\n\t.use(Backend)\n\t.use(initReactI18next)\n\t.init({\n\t\tbackend: {\n\t\t\tloadPath: \"./locales/{{lng}}/{{ns}}.json\",\n\t\t},\n\t\tfallbackLng: \"en\",\n\t\tdebug: process.env.NODE_ENV === \"development\" ? true : false,\n\t\tinterpolation: { escapeValue: false },\n\t});\n\nexport default i18next;\n","import { createReducer, nanoid } from \"@reduxjs/toolkit\";\nimport { addPopup, PopupContent, removePopup, updateBlockNumber, ApplicationModal, setOpenModal } from \"./actions\";\n\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>;\n\nexport interface ApplicationState {\n\treadonly blockNumber: { readonly [chainId: number]: number };\n\treadonly popupList: PopupList;\n\treadonly openModal: ApplicationModal | null;\n}\n\nconst initialState: ApplicationState = {\n\tblockNumber: {},\n\tpopupList: [],\n\topenModal: null,\n};\n\nexport default createReducer(initialState, (builder) =>\n\tbuilder\n\t\t.addCase(updateBlockNumber, (state, action) => {\n\t\t\tconst { chainId, blockNumber } = action.payload;\n\t\t\tif (typeof state.blockNumber[chainId] !== \"number\") {\n\t\t\t\tstate.blockNumber[chainId] = blockNumber;\n\t\t\t} else {\n\t\t\t\tstate.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId]);\n\t\t\t}\n\t\t})\n\t\t.addCase(setOpenModal, (state, action) => {\n\t\t\tstate.openModal = action.payload;\n\t\t})\n\t\t.addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\n\t\t\tstate.popupList = (key ? state.popupList.filter((popup) => popup.key !== key) : state.popupList).concat([\n\t\t\t\t{\n\t\t\t\t\tkey: key || nanoid(),\n\t\t\t\t\tshow: true,\n\t\t\t\t\tcontent,\n\t\t\t\t\tremoveAfterMs,\n\t\t\t\t},\n\t\t\t]);\n\t\t})\n\t\t.addCase(removePopup, (state, { payload: { key } }) => {\n\t\t\tstate.popupList.forEach((p) => {\n\t\t\t\tif (p.key === key) {\n\t\t\t\t\tp.show = false;\n\t\t\t\t}\n\t\t\t});\n\t\t})\n);\n","import { createAction } from \"@reduxjs/toolkit\";\n\n// fired once when the app reloads but before the app renders\n// allows any updates to be applied to store data loaded from localStorage\nexport const updateVersion = createAction<void>(\"global/updateVersion\");\n","import {INITIAL_ALLOWED_SLIPPAGE, DEFAULT_DEADLINE_FROM_NOW, DEFAULT_THEME} from \"../../constants\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport { updateVersion } from \"../global/actions\";\nimport {\n\taddSerializedPair,\n\taddSerializedToken,\n\tremoveSerializedPair,\n\tremoveSerializedToken,\n\tSerializedPair,\n\tSerializedToken,\n\tupdateMatchesDarkMode,\n\tupdateUserDarkMode,\n\tupdateUserExpertMode,\n\tupdateUserSlippageTolerance,\n\tupdateUserDeadline,\n\ttoggleURLWarning,\n} from \"./actions\";\n\nconst currentTimestamp = () => new Date().getTime();\n\nexport interface UserState {\n\t// the timestamp of the last updateVersion action\n\tlastUpdateVersionTimestamp?: number;\n\n\tuserDarkMode: boolean | null; // the user's choice for dark mode or light mode\n\tmatchesDarkMode: boolean; // whether the dark mode media query matches\n\n\tuserExpertMode: boolean;\n\n\t// user defined slippage tolerance in bips, used in all txns\n\tuserSlippageTolerance: number;\n\n\t// deadline set by user in minutes, used in all txns\n\tuserDeadline: number;\n\n\ttokens: {\n\t\t[chainId: number]: {\n\t\t\t[address: string]: SerializedToken;\n\t\t};\n\t};\n\n\tpairs: {\n\t\t[chainId: number]: {\n\t\t\t// keyed by token0Address:token1Address\n\t\t\t[key: string]: SerializedPair;\n\t\t};\n\t};\n\n\ttimestamp: number;\n\tURLWarningVisible: boolean;\n}\n\nfunction pairKey(token0Address: string, token1Address: string) {\n\treturn `${token0Address};${token1Address}`;\n}\n\nexport const initialState: UserState = {\n\tuserDarkMode: DEFAULT_THEME,\n\tmatchesDarkMode: false,\n\tuserExpertMode: false,\n\tuserSlippageTolerance: INITIAL_ALLOWED_SLIPPAGE,\n\tuserDeadline: DEFAULT_DEADLINE_FROM_NOW,\n\ttokens: {},\n\tpairs: {},\n\ttimestamp: currentTimestamp(),\n\tURLWarningVisible: true,\n};\n\nexport default createReducer(initialState, (builder) =>\n\tbuilder\n\t\t.addCase(updateVersion, (state) => {\n\t\t\t// slippage isnt being tracked in local storage, reset to default\n\t\t\t// noinspection SuspiciousTypeOfGuard\n\t\t\tif (typeof state.userSlippageTolerance !== \"number\") {\n\t\t\t\tstate.userSlippageTolerance = INITIAL_ALLOWED_SLIPPAGE;\n\t\t\t}\n\n\t\t\t// deadline isnt being tracked in local storage, reset to default\n\t\t\t// noinspection SuspiciousTypeOfGuard\n\t\t\tif (typeof state.userDeadline !== \"number\") {\n\t\t\t\tstate.userDeadline = DEFAULT_DEADLINE_FROM_NOW;\n\t\t\t}\n\n\t\t\tstate.lastUpdateVersionTimestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(updateUserDarkMode, (state, action) => {\n\t\t\tstate.userDarkMode = action.payload.userDarkMode;\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(updateMatchesDarkMode, (state, action) => {\n\t\t\tstate.matchesDarkMode = action.payload.matchesDarkMode;\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(updateUserExpertMode, (state, action) => {\n\t\t\tstate.userExpertMode = action.payload.userExpertMode;\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(updateUserSlippageTolerance, (state, action) => {\n\t\t\tstate.userSlippageTolerance = action.payload.userSlippageTolerance;\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(updateUserDeadline, (state, action) => {\n\t\t\tstate.userDeadline = action.payload.userDeadline;\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(addSerializedToken, (state, { payload: { serializedToken } }) => {\n\t\t\tstate.tokens[serializedToken.chainId] = state.tokens[serializedToken.chainId] || {};\n\t\t\tstate.tokens[serializedToken.chainId][serializedToken.address] = serializedToken;\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(removeSerializedToken, (state, { payload: { address, chainId } }) => {\n\t\t\tstate.tokens[chainId] = state.tokens[chainId] || {};\n\t\t\tdelete state.tokens[chainId][address];\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(addSerializedPair, (state, { payload: { serializedPair } }) => {\n\t\t\tif (\n\t\t\t\tserializedPair.token0.chainId === serializedPair.token1.chainId &&\n\t\t\t\tserializedPair.token0.address !== serializedPair.token1.address\n\t\t\t) {\n\t\t\t\tconst chainId = serializedPair.token0.chainId;\n\t\t\t\tstate.pairs[chainId] = state.pairs[chainId] || {};\n\t\t\t\tstate.pairs[chainId][\n\t\t\t\t\tpairKey(serializedPair.token0.address, serializedPair.token1.address)\n\t\t\t\t] = serializedPair;\n\t\t\t}\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(removeSerializedPair, (state, { payload: { chainId, tokenAAddress, tokenBAddress } }) => {\n\t\t\tif (state.pairs[chainId]) {\n\t\t\t\t// just delete both keys if either exists\n\t\t\t\tdelete state.pairs[chainId][pairKey(tokenAAddress, tokenBAddress)];\n\t\t\t\tdelete state.pairs[chainId][pairKey(tokenBAddress, tokenAAddress)];\n\t\t\t}\n\t\t\tstate.timestamp = currentTimestamp();\n\t\t})\n\t\t.addCase(toggleURLWarning, (state) => {\n\t\t\tstate.URLWarningVisible = !state.URLWarningVisible;\n\t\t})\n);\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport enum Field {\n\tLIQUIDITY_PERCENT = \"LIQUIDITY_PERCENT\",\n\tLIQUIDITY = \"LIQUIDITY\",\n\tCURRENCY_A = \"CURRENCY_A\",\n\tCURRENCY_B = \"CURRENCY_B\",\n}\n\nexport const typeInput = createAction<{ field: Field; typedValue: string }>(\"burn/typeInputBurn\");\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n\taddTransaction,\n\tcheckedTransaction,\n\tclearAllTransactions,\n\tfinalizeTransaction,\n\tSerializableTransactionReceipt,\n} from \"./actions\";\n\nconst now = () => new Date().getTime();\n\nexport interface TransactionDetails {\n\thash: string;\n\tapproval?: { tokenAddress: string; spender: string };\n\tsummary?: string;\n\tclaim?: { recipient: string };\n\treceipt?: SerializableTransactionReceipt;\n\tlastCheckedBlockNumber?: number;\n\taddedTime: number;\n\tconfirmedTime?: number;\n\tfrom: string;\n}\n\nexport interface TransactionState {\n\t[chainId: number]: {\n\t\t[txHash: string]: TransactionDetails;\n\t};\n}\n\nexport const initialState: TransactionState = {};\n\nexport default createReducer(initialState, (builder) =>\n\tbuilder\n\t\t.addCase(addTransaction, (transactions, { payload: { chainId, from, hash, approval, summary, claim } }) => {\n\t\t\tif (transactions[chainId]?.[hash]) {\n\t\t\t\tthrow Error(\"Attempted to add existing transaction.\");\n\t\t\t}\n\t\t\tconst txs = transactions[chainId] ?? {};\n\t\t\ttxs[hash] = { hash, approval, summary, claim, from, addedTime: now() };\n\t\t\ttransactions[chainId] = txs;\n\t\t})\n\t\t.addCase(clearAllTransactions, (transactions, { payload: { chainId } }) => {\n\t\t\tif (!transactions[chainId]) return;\n\t\t\ttransactions[chainId] = {};\n\t\t})\n\t\t.addCase(checkedTransaction, (transactions, { payload: { chainId, hash, blockNumber } }) => {\n\t\t\tconst tx = transactions[chainId]?.[hash];\n\t\t\tif (!tx) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!tx.lastCheckedBlockNumber) {\n\t\t\t\ttx.lastCheckedBlockNumber = blockNumber;\n\t\t\t} else {\n\t\t\t\ttx.lastCheckedBlockNumber = Math.max(blockNumber, tx.lastCheckedBlockNumber);\n\t\t\t}\n\t\t})\n\t\t.addCase(finalizeTransaction, (transactions, { payload: { hash, chainId, receipt } }) => {\n\t\t\tconst tx = transactions[chainId]?.[hash];\n\t\t\tif (!tx) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttx.receipt = receipt;\n\t\t\ttx.confirmedTime = now();\n\t\t})\n);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { Field, replaceSwapState, selectCurrency, setRecipient, switchCurrencies, typeInput } from \"./actions\";\n\nexport interface SwapState {\n\treadonly independentField: Field;\n\treadonly typedValue: string;\n\treadonly [Field.INPUT]: {\n\t\treadonly currencyId: string | undefined;\n\t};\n\treadonly [Field.OUTPUT]: {\n\t\treadonly currencyId: string | undefined;\n\t};\n\t// the typed recipient address or ENS name, or null if swap should go to sender\n\treadonly recipient: string | null;\n}\n\nconst initialState: SwapState = {\n\tindependentField: Field.INPUT,\n\ttypedValue: \"\",\n\t[Field.INPUT]: {\n\t\tcurrencyId: \"\",\n\t},\n\t[Field.OUTPUT]: {\n\t\tcurrencyId: \"\",\n\t},\n\trecipient: null,\n};\n\nexport default createReducer<SwapState>(initialState, (builder) =>\n\tbuilder\n\t\t.addCase(\n\t\t\treplaceSwapState,\n\t\t\t(state, { payload: { typedValue, recipient, field, inputCurrencyId, outputCurrencyId } }) => {\n\t\t\t\treturn {\n\t\t\t\t\t[Field.INPUT]: {\n\t\t\t\t\t\tcurrencyId: inputCurrencyId,\n\t\t\t\t\t},\n\t\t\t\t\t[Field.OUTPUT]: {\n\t\t\t\t\t\tcurrencyId: outputCurrencyId,\n\t\t\t\t\t},\n\t\t\t\t\tindependentField: field,\n\t\t\t\t\ttypedValue: typedValue,\n\t\t\t\t\trecipient,\n\t\t\t\t};\n\t\t\t}\n\t\t)\n\t\t.addCase(selectCurrency, (state, { payload: { currencyId, field } }) => {\n\t\t\tconst otherField = field === Field.INPUT ? Field.OUTPUT : Field.INPUT;\n\t\t\tif (currencyId === state[otherField].currencyId) {\n\t\t\t\t// the case where we have to swap the order\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tindependentField: state.independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT,\n\t\t\t\t\t[field]: { currencyId: currencyId },\n\t\t\t\t\t[otherField]: { currencyId: state[field].currencyId },\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// the normal case\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[field]: { currencyId: currencyId },\n\t\t\t\t};\n\t\t\t}\n\t\t})\n\t\t.addCase(switchCurrencies, (state) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tindependentField: state.independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT,\n\t\t\t\t[Field.INPUT]: { currencyId: state[Field.OUTPUT].currencyId },\n\t\t\t\t[Field.OUTPUT]: { currencyId: state[Field.INPUT].currencyId },\n\t\t\t};\n\t\t})\n\t\t.addCase(typeInput, (state, { payload: { field, typedValue } }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tindependentField: field,\n\t\t\t\ttypedValue,\n\t\t\t};\n\t\t})\n\t\t.addCase(setRecipient, (state, { payload: { recipient } }) => {\n\t\t\tstate.recipient = recipient;\n\t\t})\n);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { Field, resetMintState, typeInput } from \"./actions\";\n\nexport interface MintState {\n\treadonly independentField: Field;\n\treadonly typedValue: string;\n\treadonly otherTypedValue: string; // for the case when there's no liquidity\n}\n\nconst initialState: MintState = {\n\tindependentField: Field.CURRENCY_A,\n\ttypedValue: \"\",\n\totherTypedValue: \"\",\n};\n\nexport default createReducer<MintState>(initialState, (builder) =>\n\tbuilder\n\t\t.addCase(resetMintState, () => initialState)\n\t\t.addCase(typeInput, (state, { payload: { field, typedValue, noLiquidity } }) => {\n\t\t\tif (noLiquidity) {\n\t\t\t\t// they're typing into the field they've last typed in\n\t\t\t\tif (field === state.independentField) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tindependentField: field,\n\t\t\t\t\t\ttypedValue,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t// they're typing into a new field, store the other value\n\t\t\t\telse {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tindependentField: field,\n\t\t\t\t\t\ttypedValue,\n\t\t\t\t\t\totherTypedValue: state.typedValue,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tindependentField: field,\n\t\t\t\t\ttypedValue,\n\t\t\t\t\totherTypedValue: \"\",\n\t\t\t\t};\n\t\t\t}\n\t\t})\n);\n","import { DEFAULT_ACTIVE_LIST_URLS } from \"../../constants/lists\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport { getVersionUpgrade, VersionUpgrade } from \"@uniswap/token-lists\";\nimport { TokenList } from \"@uniswap/token-lists/dist/types\";\nimport { DEFAULT_LIST_OF_LISTS } from \"../../constants/lists\";\nimport { updateVersion } from \"../global/actions\";\nimport { acceptListUpdate, addList, fetchTokenList, removeList, enableList, disableList } from \"./actions\";\n\nexport interface ListsState {\n\treadonly byUrl: {\n\t\treadonly [url: string]: {\n\t\t\treadonly current: TokenList | null;\n\t\t\treadonly pendingUpdate: TokenList | null;\n\t\t\treadonly loadingRequestId: string | null;\n\t\t\treadonly error: string | null;\n\t\t};\n\t};\n\t// this contains the default list of lists from the last time the updateVersion was called, i.e. the app was reloaded\n\treadonly lastInitializedDefaultListOfLists?: string[];\n\n\t// currently active lists\n\treadonly activeListUrls: string[] | undefined;\n}\n\ntype ListState = ListsState[\"byUrl\"][string];\n\nconst NEW_LIST_STATE: ListState = {\n\terror: null,\n\tcurrent: null,\n\tloadingRequestId: null,\n\tpendingUpdate: null,\n};\n\ntype Mutable<T> = { -readonly [P in keyof T]: T[P] extends ReadonlyArray<infer U> ? U[] : T[P] };\n\nconst initialState: ListsState = {\n\tlastInitializedDefaultListOfLists: DEFAULT_LIST_OF_LISTS,\n\tbyUrl: {\n\t\t...DEFAULT_LIST_OF_LISTS.reduce<Mutable<ListsState[\"byUrl\"]>>((memo, listUrl) => {\n\t\t\tmemo[listUrl] = NEW_LIST_STATE;\n\t\t\treturn memo;\n\t\t}, {}),\n\t},\n\tactiveListUrls: DEFAULT_ACTIVE_LIST_URLS,\n};\n\nexport default createReducer(initialState, (builder) =>\n\tbuilder\n\t\t.addCase(fetchTokenList.pending, (state, { payload: { requestId, url } }) => {\n\t\t\tstate.byUrl[url] = {\n\t\t\t\tcurrent: null,\n\t\t\t\tpendingUpdate: null,\n\t\t\t\t...state.byUrl[url],\n\t\t\t\tloadingRequestId: requestId,\n\t\t\t\terror: null,\n\t\t\t};\n\t\t})\n\t\t.addCase(fetchTokenList.fulfilled, (state, { payload: { requestId, tokenList, url } }) => {\n\t\t\tconst current = state.byUrl[url]?.current;\n\t\t\tconst loadingRequestId = state.byUrl[url]?.loadingRequestId;\n\n\t\t\t// no-op if update does nothing\n\t\t\tif (current) {\n\t\t\t\tconst upgradeType = getVersionUpgrade(current.version, tokenList.version);\n\n\t\t\t\tif (upgradeType === VersionUpgrade.NONE) return;\n\t\t\t\tif (loadingRequestId === null || loadingRequestId === requestId) {\n\t\t\t\t\tstate.byUrl[url] = {\n\t\t\t\t\t\t...state.byUrl[url],\n\t\t\t\t\t\tloadingRequestId: null,\n\t\t\t\t\t\terror: null,\n\t\t\t\t\t\tcurrent: current,\n\t\t\t\t\t\tpendingUpdate: tokenList,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// activate if on default active\n\t\t\t\tif (DEFAULT_ACTIVE_LIST_URLS.includes(url)) {\n\t\t\t\t\tstate.activeListUrls?.push(url);\n\t\t\t\t}\n\n\t\t\t\tstate.byUrl[url] = {\n\t\t\t\t\t...state.byUrl[url],\n\t\t\t\t\tloadingRequestId: null,\n\t\t\t\t\terror: null,\n\t\t\t\t\tcurrent: tokenList,\n\t\t\t\t\tpendingUpdate: null,\n\t\t\t\t};\n\t\t\t}\n\t\t})\n\t\t.addCase(fetchTokenList.rejected, (state, { payload: { url, requestId, errorMessage } }) => {\n\t\t\tif (state.byUrl[url]?.loadingRequestId !== requestId) {\n\t\t\t\t// no-op since it's not the latest request\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.byUrl[url] = {\n\t\t\t\t...state.byUrl[url],\n\t\t\t\tloadingRequestId: null,\n\t\t\t\terror: errorMessage,\n\t\t\t\tcurrent: null,\n\t\t\t\tpendingUpdate: null,\n\t\t\t};\n\t\t})\n\t\t.addCase(addList, (state, { payload: url }) => {\n\t\t\tif (!state.byUrl[url]) {\n\t\t\t\tstate.byUrl[url] = NEW_LIST_STATE;\n\t\t\t}\n\t\t})\n\t\t.addCase(removeList, (state, { payload: url }) => {\n\t\t\tif (state.byUrl[url]) {\n\t\t\t\tdelete state.byUrl[url];\n\t\t\t}\n\t\t\t// remove list from active urls if needed\n\t\t\tif (state.activeListUrls && state.activeListUrls.includes(url)) {\n\t\t\t\tstate.activeListUrls = state.activeListUrls.filter((u) => u !== url);\n\t\t\t}\n\t\t})\n\t\t.addCase(enableList, (state, { payload: url }) => {\n\t\t\tif (!state.byUrl[url]) {\n\t\t\t\tstate.byUrl[url] = NEW_LIST_STATE;\n\t\t\t}\n\n\t\t\tif (state.activeListUrls && !state.activeListUrls.includes(url)) {\n\t\t\t\tstate.activeListUrls.push(url);\n\t\t\t}\n\n\t\t\tif (!state.activeListUrls) {\n\t\t\t\tstate.activeListUrls = [url];\n\t\t\t}\n\t\t})\n\t\t.addCase(disableList, (state, { payload: url }) => {\n\t\t\tif (state.activeListUrls && state.activeListUrls.includes(url)) {\n\t\t\t\tstate.activeListUrls = state.activeListUrls.filter((u) => u !== url);\n\t\t\t}\n\t\t})\n\t\t.addCase(acceptListUpdate, (state, { payload: url }) => {\n\t\t\tif (!state.byUrl[url]?.pendingUpdate) {\n\t\t\t\tthrow new Error(\"accept list update called without pending update\");\n\t\t\t}\n\t\t\tstate.byUrl[url] = {\n\t\t\t\t...state.byUrl[url],\n\t\t\t\tpendingUpdate: null,\n\t\t\t\tcurrent: state.byUrl[url].pendingUpdate,\n\t\t\t};\n\t\t})\n\t\t.addCase(updateVersion, (state) => {\n\t\t\t// state loaded from localStorage, but new lists have never been initialized\n\t\t\tif (!state.lastInitializedDefaultListOfLists) {\n\t\t\t\tstate.byUrl = initialState.byUrl;\n\t\t\t\tstate.activeListUrls = initialState.activeListUrls;\n\t\t\t} else if (state.lastInitializedDefaultListOfLists) {\n\t\t\t\tconst lastInitializedSet = state.lastInitializedDefaultListOfLists.reduce<Set<string>>(\n\t\t\t\t\t(s, l) => s.add(l),\n\t\t\t\t\tnew Set()\n\t\t\t\t);\n\t\t\t\tconst newListOfListsSet = DEFAULT_LIST_OF_LISTS.reduce<Set<string>>((s, l) => s.add(l), new Set());\n\n\t\t\t\tDEFAULT_LIST_OF_LISTS.forEach((listUrl) => {\n\t\t\t\t\tif (!lastInitializedSet.has(listUrl)) {\n\t\t\t\t\t\tstate.byUrl[listUrl] = NEW_LIST_STATE;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tstate.lastInitializedDefaultListOfLists.forEach((listUrl) => {\n\t\t\t\t\tif (!newListOfListsSet.has(listUrl)) {\n\t\t\t\t\t\tdelete state.byUrl[listUrl];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tstate.lastInitializedDefaultListOfLists = DEFAULT_LIST_OF_LISTS;\n\n\t\t\t// if no active lists, activate defaults\n\t\t\tif (!state.activeListUrls) {\n\t\t\t\tstate.activeListUrls = DEFAULT_ACTIVE_LIST_URLS;\n\n\t\t\t\t// for each list on default list, initialize if needed\n\t\t\t\tDEFAULT_ACTIVE_LIST_URLS.map((listUrl: string) => {\n\t\t\t\t\tif (!state.byUrl[listUrl]) {\n\t\t\t\t\t\tstate.byUrl[listUrl] = NEW_LIST_STATE;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t}\n\t\t})\n);\n","import { getAvailableMarkets } from \"../../common/markets\";\nimport { getKnownTokens } from \"../../utils/known_tokens\";\nimport { getCurrencyPairByTokensSymbol } from \"../../utils/spot/knownCurrencyPair\";\nimport queryString from \"query-string\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport * as actions from \"./actions\";\nimport { setMarketMakerStats } from \"./actions\";\n\nconst parsedUrl = new URL(window.location.href.replace(\"#/\", \"\"));\nconst base = parsedUrl.searchParams.get(\"base\") || getAvailableMarkets()[0].base;\nconst quote = parsedUrl.searchParams.get(\"quote\") || getAvailableMarkets()[0].quote;\nlet currencyPair;\n\nconst known_tokens = getKnownTokens();\n\ntry {\n\tcurrencyPair = getCurrencyPairByTokensSymbol(base, quote);\n} catch (e) {\n\tcurrencyPair = getCurrencyPairByTokensSymbol(getAvailableMarkets()[0].base, getAvailableMarkets()[0].quote);\n}\n\nconst getMakerAddresses = () => {\n\tconst makerAddressesString = queryString.parse(queryString.extract(window.location.hash)).makerAddresses;\n\tif (!makerAddressesString) {\n\t\treturn null;\n\t}\n\tconst makerAddresses = makerAddressesString.split(\",\");\n\treturn makerAddresses.map((a) => a.toLowerCase());\n};\n\nconst initialMarketState = {\n\tcurrencyPair,\n\tbaseToken: known_tokens.getTokenBySymbol(currencyPair.base),\n\tquoteToken: known_tokens.getTokenBySymbol(currencyPair.quote),\n\tmarkets: null,\n\tethInUsd: null,\n\ttokensPrice: null,\n\tmarketStats: null,\n\tmakerAddresses: getMakerAddresses(),\n\tmarketsStats: [],\n\tmarketMakerStats: [],\n};\n\nexport default createReducer(initialMarketState, (builder) => {\n\tbuilder\n\t\t.addCase(actions.setCurrencyPair, (state, { payload }) => {\n\t\t\treturn { ...state, currencyPair: payload };\n\t\t})\n\t\t.addCase(actions.setMarketTokens, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbaseToken: payload.baseToken,\n\t\t\t\tquoteToken: payload.quoteToken,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setMarketStats, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmarketStats: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceQuoteStart, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tquoteInUsd: null,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceQuoteUpdate, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tquoteInUsd: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceQuoteError, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tquoteInUsd: null,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setMarketsStats, (state, { payload }) => {\n\t\t\treturn { ...state, marketsStats: payload };\n\t\t})\n\t\t.addCase(actions.setMarkets, (state, { payload }) => {\n\t\t\treturn { ...state, markets: payload };\n\t\t})\n\t\t.addCase(actions.fetchERC20MarketsError, (state, { payload }) => {\n\t\t\treturn state;\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceEtherStart, (state, { payload }) => {\n\t\t\treturn state;\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceEtherError, (state, { payload }) => {\n\t\t\treturn state;\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceEtherUpdate, (state, { payload }) => {\n\t\t\treturn { ...state, ethInUsd: payload };\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceTokensStart, (state, { payload }) => {\n\t\t\treturn state;\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceTokensUpdate, (state, { payload }) => {\n\t\t\treturn { ...state, tokensPrice: payload };\n\t\t})\n\t\t.addCase(actions.fetchMarketPriceTokensError, (state, { payload }) => {\n\t\t\treturn state;\n\t\t})\n\t\t.addCase(actions.setMarketMakerStats, (state, action) => {\n\t\t\treturn { ...state, marketMakerStats: action.payload };\n\t\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { Field, typeInput } from \"./actions\";\n\nexport interface BurnState {\n\treadonly independentField: Field;\n\treadonly typedValue: string;\n}\n\nconst initialState: BurnState = {\n\tindependentField: Field.LIQUIDITY_PERCENT,\n\ttypedValue: \"0\",\n};\n\nexport default createReducer<BurnState>(initialState, (builder) =>\n\tbuilder.addCase(typeInput, (state, { payload: { field, typedValue } }) => {\n\t\treturn {\n\t\t\t...state,\n\t\t\tindependentField: field,\n\t\t\ttypedValue,\n\t\t};\n\t})\n);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n\taddMulticallListeners,\n\terrorFetchingMulticallResults,\n\tfetchingMulticallResults,\n\tremoveMulticallListeners,\n\ttoCallKey,\n\tupdateMulticallResults,\n} from \"./actions\";\n\nexport interface MulticallState {\n\tcallListeners?: {\n\t\t// on a per-chain basis\n\t\t[chainId: number]: {\n\t\t\t// stores for each call key the listeners' preferences\n\t\t\t[callKey: string]: {\n\t\t\t\t// stores how many listeners there are per each blocks per fetch preference\n\t\t\t\t[blocksPerFetch: number]: number;\n\t\t\t};\n\t\t};\n\t};\n\n\tcallResults: {\n\t\t[chainId: number]: {\n\t\t\t[callKey: string]: {\n\t\t\t\tdata?: string | null;\n\t\t\t\tblockNumber?: number;\n\t\t\t\tfetchingBlockNumber?: number;\n\t\t\t};\n\t\t};\n\t};\n}\n\nconst initialState: MulticallState = {\n\tcallResults: {},\n};\n\nexport default createReducer(initialState, (builder) =>\n\tbuilder\n\t\t.addCase(\n\t\t\taddMulticallListeners,\n\t\t\t(state, { payload: { calls, chainId, options: { blocksPerFetch = 1 } = {} } }) => {\n\t\t\t\tconst listeners: MulticallState[\"callListeners\"] = state.callListeners\n\t\t\t\t\t? state.callListeners\n\t\t\t\t\t: (state.callListeners = {});\n\t\t\t\tlisteners[chainId] = listeners[chainId] ?? {};\n\t\t\t\tcalls.forEach((call) => {\n\t\t\t\t\tconst callKey = toCallKey(call);\n\t\t\t\t\tlisteners[chainId][callKey] = listeners[chainId][callKey] ?? {};\n\t\t\t\t\tlisteners[chainId][callKey][blocksPerFetch] =\n\t\t\t\t\t\t(listeners[chainId][callKey][blocksPerFetch] ?? 0) + 1;\n\t\t\t\t});\n\t\t\t}\n\t\t)\n\t\t.addCase(\n\t\t\tremoveMulticallListeners,\n\t\t\t(state, { payload: { chainId, calls, options: { blocksPerFetch = 1 } = {} } }) => {\n\t\t\t\tconst listeners: MulticallState[\"callListeners\"] = state.callListeners\n\t\t\t\t\t? state.callListeners\n\t\t\t\t\t: (state.callListeners = {});\n\n\t\t\t\tif (!listeners[chainId]) return;\n\t\t\t\tcalls.forEach((call) => {\n\t\t\t\t\tconst callKey = toCallKey(call);\n\t\t\t\t\tif (!listeners[chainId][callKey]) return;\n\t\t\t\t\tif (!listeners[chainId][callKey][blocksPerFetch]) return;\n\n\t\t\t\t\tif (listeners[chainId][callKey][blocksPerFetch] === 1) {\n\t\t\t\t\t\tdelete listeners[chainId][callKey][blocksPerFetch];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlisteners[chainId][callKey][blocksPerFetch]--;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t)\n\t\t.addCase(fetchingMulticallResults, (state, { payload: { chainId, fetchingBlockNumber, calls } }) => {\n\t\t\tstate.callResults[chainId] = state.callResults[chainId] ?? {};\n\t\t\tcalls.forEach((call) => {\n\t\t\t\tconst callKey = toCallKey(call);\n\t\t\t\tconst current = state.callResults[chainId][callKey];\n\t\t\t\tif (!current) {\n\t\t\t\t\tstate.callResults[chainId][callKey] = {\n\t\t\t\t\t\tfetchingBlockNumber,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tif ((current.fetchingBlockNumber ?? 0) >= fetchingBlockNumber) return;\n\t\t\t\t\tstate.callResults[chainId][callKey].fetchingBlockNumber = fetchingBlockNumber;\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t\t.addCase(errorFetchingMulticallResults, (state, { payload: { fetchingBlockNumber, chainId, calls } }) => {\n\t\t\tstate.callResults[chainId] = state.callResults[chainId] ?? {};\n\t\t\tcalls.forEach((call) => {\n\t\t\t\tconst callKey = toCallKey(call);\n\t\t\t\tconst current = state.callResults[chainId][callKey];\n\t\t\t\tif (!current) return; // only should be dispatched if we are already fetching\n\t\t\t\tif (current.fetchingBlockNumber === fetchingBlockNumber) {\n\t\t\t\t\tdelete current.fetchingBlockNumber;\n\t\t\t\t\tcurrent.data = null;\n\t\t\t\t\tcurrent.blockNumber = fetchingBlockNumber;\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t\t.addCase(updateMulticallResults, (state, { payload: { chainId, results, blockNumber } }) => {\n\t\t\tstate.callResults[chainId] = state.callResults[chainId] ?? {};\n\t\t\tObject.keys(results).forEach((callKey) => {\n\t\t\t\tconst current = state.callResults[chainId][callKey];\n\t\t\t\tif ((current?.blockNumber ?? 0) > blockNumber) return;\n\t\t\t\tstate.callResults[chainId][callKey] = {\n\t\t\t\t\tdata: results[callKey],\n\t\t\t\t\tblockNumber,\n\t\t\t\t};\n\t\t\t});\n\t\t})\n);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { haveEnoughBalance, saveAccount } from \"./actions\";\n\ninterface initialInterface {\n\taddress: string;\n\tenoughCoinBalance: boolean;\n}\nconst initialState: initialInterface = {\n\taddress: \"\",\n\tenoughCoinBalance: false,\n};\n\nexport default createReducer(initialState, (builder) => {\n\t// @ts-ignore\n\tbuilder\n\t\t.addCase(saveAccount, (state, { payload }) => {\n\t\t\treturn (state.address = payload.address);\n\t\t})\n\t\t.addCase(haveEnoughBalance, (state, { payload }) => {\n\t\t\tstate.enoughCoinBalance = payload;\n\t\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { DEFAULT_GAS_PRICE, DEFAULT_ESTIMATED_TRANSACTION_TIME_MS } from \"../../constants\";\nimport { setCurrenciesRates, changeSelectedCurrency, setGasPrice, changeGasPrice, setGasInfo } from \"./actions\";\n\nconst initialState = {\n\tselected: \"USD\",\n\tcurrenciesRate: {},\n\tgasPrice: [],\n\tselectedGasPrice: \"fast\",\n\tgasInfo: {\n\t\tgasPriceInWei: DEFAULT_GAS_PRICE,\n\t\testimatedTimeMs: DEFAULT_ESTIMATED_TRANSACTION_TIME_MS,\n\t},\n};\n\nexport default createReducer(initialState, (builder) =>\n\t// @ts-ignore\n\tbuilder\n\t\t.addCase(setCurrenciesRates, (state, { payload: { rates } }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrenciesRate: {\n\t\t\t\t\t...rates,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(changeSelectedCurrency, (state, { payload: { id } }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t};\n\t\t})\n\t\t.addCase(setGasPrice, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgasPrice: Object.keys(payload)\n\t\t\t\t\t.map((gas) => {\n\t\t\t\t\t\treturn [gas, payload[gas]];\n\t\t\t\t\t})\n\t\t\t\t\t.filter((item) => {\n\t\t\t\t\t\treturn ![\"health\", \"block_number\", \"block_time\"].includes(item[0]);\n\t\t\t\t\t}),\n\t\t\t};\n\t\t})\n\t\t.addCase(changeGasPrice, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedGasPrice: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(setGasInfo, (state, { payload }) => {\n\t\t\treturn { ...state, gasInfo: payload };\n\t\t})\n);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { setListLoading, setPools, selectPool, clearSelectedPool } from \"./actions\";\n\nconst initialState = {\n\tUniswap: {\n\t\tdata: [],\n\t\tloading: false,\n\t\terror: false,\n\t\tisFinished: false,\n\t},\n\tBalancer: {\n\t\tdata: [],\n\t\tloading: false,\n\t\terror: false,\n\t\tisFinished: false,\n\t},\n\tCurve: {\n\t\tdata: [],\n\t\tloading: false,\n\t\terror: false,\n\t\tisFinished: false,\n\t},\n\tYearn: {\n\t\tdata: [],\n\t\tloading: false,\n\t\terror: false,\n\t\tisFinished: false,\n\t},\n\tselected: {\n\t\tisUniswap: false,\n\t\tdata: {\n\t\t\tpoolName: \"\",\n\t\t\taddress: \"0x00\",\n\t\t},\n\t\ttype: \"\",\n\t},\n};\n\nexport default createReducer(initialState, (builder) => {\n\tbuilder\n\t\t.addCase(setPools, (state, { payload }) => {\n\t\t\tif (payload.page === 1) {\n\t\t\t\tstate[payload.type].data = payload.data;\n\t\t\t} else {\n\t\t\t\tstate[payload.type].data = state[payload.type].data.concat(payload.data);\n\t\t\t}\n\t\t\tstate[payload.type].isFinished = payload.data.length < payload.pageSize;\n\t\t})\n\t\t.addCase(setListLoading, (state, { payload }) => {\n\t\t\tstate[payload.type].loading = payload.value;\n\t\t})\n\t\t.addCase(selectPool, (state, { payload }) => {\n\t\t\tstate.selected.data = payload.selectedPool;\n\t\t\tstate.selected.type = payload.type;\n\t\t\tstate.selected.isUniswap = payload.type === \"Uniswap\";\n\t\t})\n\t\t.addCase(clearSelectedPool, (state) => {\n\t\t\tstate.selected = {\n\t\t\t\tisUniswap: false,\n\t\t\t\tdata: {\n\t\t\t\t\tpoolName: \"\",\n\t\t\t\t},\n\t\t\t\ttype: \"\",\n\t\t\t};\n\t\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { saveBalances, toggleLoading, setAccountOverview, setTransformedBalances } from \"./actions\";\n\nconst initialState = {\n\tdata: [],\n\ttransformedBalance: [],\n\toverview: {\n\t\twallet: {\n\t\t\tbalances: [],\n\t\t\ttotal: 0,\n\t\t\ttitle: \"Wallet\",\n\t\t\tslug: \"wallet\",\n\t\t\tvariant: \"success\",\n\t\t},\n\t\tdeposits: {\n\t\t\tbalances: [],\n\t\t\ttotal: 0,\n\t\t\ttitle: \"Deposits\",\n\t\t\tslug: \"deposits\",\n\t\t\tvariant: \"success\",\n\t\t},\n\t\tdebts: {\n\t\t\tbalances: [],\n\t\t\ttotal: 0,\n\t\t\ttitle: \"Debts\",\n\t\t\tslug: \"debts\",\n\t\t\tvariant: \"danger\",\n\t\t},\n\t},\n\tloading: false,\n};\n\nexport default createReducer(initialState, (builder) => {\n\tbuilder\n\t\t.addCase(saveBalances, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdata: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(toggleLoading, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(setAccountOverview, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\toverview: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(setTransformedBalances, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransformedBalance: payload,\n\t\t\t};\n\t\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\n\nimport { setExploreSection } from \"./actions\";\nimport { exploreSections } from \"../../constants\";\n\nconst initialState = {\n\t...exploreSections,\n};\n\nexport default createReducer(initialState, (builder) => {\n\tbuilder.addCase(setExploreSection, (state, { payload }) => {\n\t\tstate[payload.id] = {\n\t\t\t...state[payload.id],\n\t\t\tloading: false,\n\t\t\tdata: payload.data,\n\t\t};\n\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\n\nimport {\n\tsaveAllTokens,\n\tsaveMarketCoins,\n\tsaveSelectedCoin,\n\tsetHistorical,\n\tsetLoading,\n\tsetCoinMarketPrices,\n\tsetCoinPriceLoading,\n} from \"./actions\";\n\nconst initialState = {\n\tallTokens: {\n\t\tdata: [],\n\t\tloading: false,\n\t\tpage: 1,\n\t\ttotal: 0,\n\t},\n\tmarketCoins: {\n\t\tdata: [],\n\t\tprices: {\n\t\t\tdata: {},\n\t\t\tloading: {},\n\t\t},\n\t\tloading: false,\n\t},\n\tselected: {\n\t\tid: null,\n\t\tdata: null,\n\t\tloading: false,\n\t},\n\thistorical: {\n\t\tid: null,\n\n\t\tdata: {\n\t\t\t30: {\n\t\t\t\tprice: [],\n\t\t\t\tmarket_cap: [],\n\t\t\t\ttotal_volume: [],\n\t\t\t},\n\t\t},\n\t\tloading: false,\n\t},\n};\n\nexport default createReducer(initialState, (builder) => {\n\tbuilder\n\t\t.addCase(setLoading, (state, { payload }) => {\n\t\t\tstate[payload.type].loading = payload.value;\n\t\t})\n\t\t.addCase(saveAllTokens, (state, { payload }) => {\n\t\t\tstate.allTokens.data = payload.data;\n\t\t\tstate.allTokens.page = payload.page;\n\t\t\tstate.allTokens.total = payload.total;\n\t\t})\n\t\t.addCase(saveMarketCoins, (state, { payload }) => {\n\t\t\tstate.marketCoins.data = payload;\n\t\t})\n\t\t.addCase(saveSelectedCoin, (state, { payload }) => {\n\t\t\tstate.selected.data = payload.data;\n\t\t\tstate.selected.id = payload.id;\n\t\t})\n\t\t.addCase(setHistorical, (state, { payload }) => {\n\t\t\tstate.historical.id = payload.id;\n\t\t\tstate.historical.data = payload.data;\n\t\t})\n\t\t.addCase(setCoinPriceLoading, (state, { payload }) => {\n\t\t\tstate.marketCoins.prices.loading[payload.id] = payload.value;\n\t\t})\n\t\t.addCase(setCoinMarketPrices, (state, { payload }) => {\n\t\t\tstate.marketCoins.prices.data[payload.id] = payload.result;\n\t\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\n\nimport { setLoading, setSpaces, setProposals } from \"./actions\";\n\nconst initialState = {\n\tloading: false,\n\tspaces: {},\n\tproposals: {},\n};\n\nexport default createReducer(initialState, (builder) => {\n\tbuilder\n\t\t.addCase(setLoading, (state, { payload }) => {\n\t\t\tstate.loading = payload.value || false;\n\t\t})\n\t\t.addCase(setSpaces, (state, { payload }) => {\n\t\t\tstate.spaces = payload.spaces;\n\t\t})\n\t\t.addCase(setProposals, (state, { payload }) => {\n\t\t\tstate.proposals[payload.id] = payload.proposals;\n\t\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\n\nimport { FEE_PERCENTAGE, FEE_RECIPIENT, MIN_ORDER_EXPIRATION_TIME_ON_ORDERBOOK, ServerState } from \"../../constants\";\nimport * as actions from \"./actions\";\nimport { setMarketMakerStats } from \"../spot/actions\";\n\nconst initialRelayerState = {\n\torders: [],\n\tuserOrders: [],\n\taccountMarketStats: [],\n\tieoOrders: [],\n\tuserIEOOrders: [],\n\tfeePercentage: FEE_PERCENTAGE,\n\tfeeRecipient: FEE_RECIPIENT,\n\torderBookState: ServerState.NotLoaded,\n\tmarketsStatsState: ServerState.NotLoaded,\n\tmarketFillsState: ServerState.NotLoaded,\n\tminOrderExpireTimeOnBooks: MIN_ORDER_EXPIRATION_TIME_ON_ORDERBOOK,\n};\n\nexport default createReducer(initialRelayerState, (builder) => {\n\tbuilder\n\t\t.addCase(actions.setOrders, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\torders: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setUserOrders, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserOrders: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setMarketFillState, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmarketFillsState: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setOrderBookState, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\torderBookState: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setMarketsStatsState, (state, { payload }) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmarketsStatsState: payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setMinOrderExpireTimeOnBooks, (state, { payload }) => {\n\t\t\treturn { ...state, minOrderExpireTimeOnBooks: payload };\n\t\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\n\nimport * as actions from \"./actions\";\n\nconst initialStepsModalState = {\n\tdoneSteps: [],\n\tcurrentStep: null,\n\tpendingSteps: [],\n};\nconst initialUIState = {\n\tnotifications: [],\n\tfills: [],\n\tmarketFills: {},\n\tuserFills: [],\n\tuserMarketFills: {},\n\thasUnreadNotifications: false,\n\tstepsModal: initialStepsModalState,\n\torderPriceSelected: null,\n\torderBuyPriceSelected: null,\n\torderSellPriceSelected: null,\n\tmakerAmountSelected: null,\n\tsidebarOpen: false,\n\tfiatType: \"APPLE_PAY\",\n\tstartTour: false,\n\topenFiatOnRampModal: false,\n\topenFiatOnRampChooseModal: false,\n\tconfigData: null,\n\tisAffiliate: false,\n};\n\nexport default createReducer(initialUIState, (builder) => {\n\tbuilder\n\t\t.addCase(actions.addMarketFills, (state, action) => {\n\t\t\tconst marketFills = state.marketFills;\n\t\t\tconst mf = {};\n\n\t\t\tObject.keys({ ...(action.payload || {}), ...marketFills }).forEach((m) => {\n\t\t\t\tif (action.payload && Object.keys(action.payload).length > 0 && Array.isArray(action.payload[m])) {\n\t\t\t\t\tif (marketFills[m] && marketFills[m].length) {\n\t\t\t\t\t\tconst newFills = action.payload[m].filter((fill) => {\n\t\t\t\t\t\t\tconst doesAlreadyExist = marketFills[m].some((f) => f.id === fill.id);\n\t\t\t\t\t\t\treturn !doesAlreadyExist;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewFills.length ? (mf[m] = [...newFills, ...marketFills[m]]) : (mf[m] = [...marketFills[m]]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmf[m] = action.payload[m];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (marketFills[m] && marketFills[m].length) {\n\t\t\t\t\t\tmf[m] = [...marketFills[m]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (action.payload && Object.keys(action.payload).length > 0) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tmarketFills: mf,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t})\n\t\t.addCase(actions.setMakerAmountSelected, (state, action) => {\n\t\t\treturn { ...state, makerAmountSelected: action.payload };\n\t\t})\n\t\t.addCase(actions.setOrderBuyPriceSelected, (state, action) => {\n\t\t\treturn { ...state, orderBuyPriceSelected: action.payload };\n\t\t})\n\t\t.addCase(actions.setOrderPriceSelected, (state, action) => {\n\t\t\treturn { ...state, orderPriceSelected: action.payload };\n\t\t})\n\t\t.addCase(actions.setOrderSellPriceSelected, (state, action) => {\n\t\t\treturn { ...state, orderSellPriceSelected: action.payload };\n\t\t})\n\t\t.addCase(actions.setStepsModalCurrentStep, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstepsModal: {\n\t\t\t\t\t...state.stepsModal,\n\t\t\t\t\tcurrentStep: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setStepsModalPendingSteps, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstepsModal: {\n\t\t\t\t\t...state.stepsModal,\n\t\t\t\t\tpendingSteps: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setStepsModalDoneSteps, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstepsModal: {\n\t\t\t\t\t...state.stepsModal,\n\t\t\t\t\tdoneSteps: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setOrderSecondsExpirationTime, (state, action) => {\n\t\t\treturn { ...state, orderSecondsExpirationTime: action.payload };\n\t\t})\n\t\t.addCase(actions.stepsModalAdvanceStep, (state, action) => {\n\t\t\tconst { doneSteps, currentStep, pendingSteps } = state.stepsModal;\n\t\t\tlet newSteps;\n\t\t\tif (currentStep === null && pendingSteps.length === 0) {\n\t\t\t\tnewSteps = state.stepsModal;\n\t\t\t} else if (pendingSteps.length === 0 && currentStep !== null) {\n\t\t\t\tnewSteps = {\n\t\t\t\t\t...state.stepsModal,\n\t\t\t\t\tdoneSteps: doneSteps.concat([currentStep]),\n\t\t\t\t\tcurrentStep: null,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tnewSteps = {\n\t\t\t\t\t...state.stepsModal,\n\t\t\t\t\tpendingSteps: pendingSteps.slice(1),\n\t\t\t\t\tdoneSteps: doneSteps.concat([currentStep]),\n\t\t\t\t\tcurrentStep: pendingSteps[0],\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstepsModal: newSteps,\n\t\t\t};\n\t\t});\n});\n","import { createReducer } from \"@reduxjs/toolkit\";\n\nimport { AaveGlobalLoadingState, AaveLoadingState, Protocol } from \"../../utils/aave/types\";\nimport * as actions from \"./actions\";\n\nconst initialState = {\n\tprotocol: Protocol.Aave,\n\taTokensData: [],\n\taaveReservesGQLResponse: [],\n\taaveLoadingState: AaveLoadingState.NotLoaded,\n\taaveGlobalLoadingState: AaveGlobalLoadingState.NotLoaded,\n\tcurrency: \"NATIVE\",\n};\n\nexport default createReducer(initialState, (builder) => {\n\tbuilder\n\t\t.addCase(actions.initializeAaveData, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setATokenBalances, (state, action) => {\n\t\t\treturn { ...state, aTokensData: action.payload };\n\t\t})\n\t\t.addCase(actions.setAaveCurrency, (state, action) => {\n\t\t\treturn { ...state, currency: action.payload };\n\t\t})\n\t\t.addCase(actions.setAaveLoadingState, (state, action) => {\n\t\t\treturn { ...state, aaveLoadingState: action.payload };\n\t\t})\n\t\t.addCase(actions.setAaveUserAccountData, (state, action) => {\n\t\t\treturn { ...state, userAccountData: action.payload };\n\t\t})\n\t\t.addCase(actions.setAaveReservesGQLResponse, (state, action) => {\n\t\t\treturn { ...state, aaveReservesGQLResponse: action.payload };\n\t\t})\n\t\t.addCase(actions.setATokenBalance, (state, action) => {\n\t\t\tconst aToken = action.payload;\n\t\t\tconst aTokensData = state.aTokensData;\n\t\t\tconst index = aTokensData.findIndex((it) => it.address === aToken.address);\n\t\t\taTokensData[index] = aToken;\n\t\t\treturn { ...state, aTokensData };\n\t\t});\n});\n","import { createAction } from \"@reduxjs/toolkit\";\nimport { ServerState } from \"../../constants\";\n\nexport const setState = createAction(\"margin/setState\", (newState, property) => {\n\treturn {\n\t\tpayload: {\n\t\t\tnewState,\n\t\t\tproperty,\n\t\t},\n\t};\n});\n\nexport const setMarkets = createAction(\"margin/setMarkets\");\n\nexport const setSelectedMarket = createAction(\"margin/setSelectedMarket\");\n\nexport const setTrades = createAction(\"margin/setTrades\");\n\nexport const setOrders = createAction(\"margin/setOrders\");\n\nexport const setOrderbook = createAction(\"margin/setOrderbook\");\n\nexport const setPositions = createAction(\"margin/setPositions\");\n\nexport const setMarketStats = createAction(\"margin/setMarketStats\");\n\nexport const setMakerAmountSelected = createAction(\"margin/setMakerAmount\");\n\nexport const setOrderBuyPriceSelected = createAction(\"margin/setOrderBuyPrice\");\n\nexport const setOrderPriceSelected = createAction(\"margin/setOrderPrice\");\n\nexport const setOrderSellPriceSelected = createAction(\"margin/setOrderSellPrice\");\n\nexport const setAuthCode = createAction(\"margin/setAuthCode\");\n\nexport const setAuthCodeExpire = createAction(\"margin/setAuthCodeExpire\");\n\nexport const setPrivateData = createAction(\"margin/setPrivateData\");\n\nexport const setFee = createAction(\"margin/setFee\");\n\nexport const setGasPrice = createAction(\"margin/setGasPrice\");\n\nexport const setUserTrades = createAction(\"margin/setUserTrades\");\n\nexport const setLockedBalances = createAction(\"margin/setLockedBalances\");\n\nexport const fetchMarkets = (api) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setState(ServerState.Loading, \"markets\"));\n\t\ttry {\n\t\t\tconst { markets } = await api.getMarkets();\n\n\t\t\tdispatch(setMarkets(markets));\n\t\t\tdispatch(setState(ServerState.Done, \"markets\"));\n\n\t\t\treturn markets;\n\t\t} catch (e) {\n\t\t\tdispatch(setState(ServerState.Error, \"markets\"));\n\t\t}\n\t};\n};\n\nexport const fetchTrades = (api) => {\n\treturn async (dispatch, getState) => {\n\t\tdispatch(setState(ServerState.Loading, \"trades\"));\n\t\tconst store = getState();\n\t\tconst market = store.margin.selectedMarket;\n\t\ttry {\n\t\t\tconst { trades } = await api.listTrades(market);\n\t\t\tdispatch(setTrades(trades));\n\t\t\tdispatch(setState(ServerState.Done, \"trades\"));\n\t\t} catch (e) {\n\t\t\tdispatch(setState(ServerState.Error, \"trades\"));\n\t\t}\n\t};\n};\n\nexport const fetchOrderbook = (api) => {\n\treturn async (dispatch, getState) => {\n\t\tdispatch(setState(ServerState.Loading, \"orderbook\"));\n\t\tconst store = getState();\n\t\tconst market = store.margin.selectedMarket;\n\t\ttry {\n\t\t\tconst { orderbook } = await api.getOrderbook(market);\n\t\t\tdispatch(setOrderbook(orderbook));\n\t\t\tdispatch(setState(ServerState.Done, \"orderbook\"));\n\t\t} catch (e) {\n\t\t\tdispatch(setState(ServerState.Error, \"orderbook\"));\n\t\t}\n\t};\n};\n\nexport const fetchOrders = (api) => {\n\treturn async (dispatch, getState) => {\n\t\tconst store = getState();\n\t\tconst market = store.margin.selectedMarket;\n\t\tif (store.margin.authCode) {\n\t\t\tdispatch(setState(ServerState.Loading, \"orders\"));\n\t\t\ttry {\n\t\t\t\tconst { orders } = await api.getOrders({\n\t\t\t\t\tmarketId: market,\n\t\t\t\t});\n\t\t\t\tdispatch(setOrders(orders));\n\t\t\t\tdispatch(setState(ServerState.Done, \"orders\"));\n\t\t\t} catch (e) {\n\t\t\t\tdispatch(setState(ServerState.Error, \"orders\"));\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport const fetchPositions = (api) => {\n\treturn async (dispatch, getState) => {\n\t\tconst store = getState();\n\t\tif (store.margin.authCode) {\n\t\t\tdispatch(setState(ServerState.Loading, \"positions\"));\n\t\t\ttry {\n\t\t\t\tconst { positions } = await api.getPositions();\n\t\t\t\tdispatch(setPositions(positions));\n\t\t\t\tdispatch(setState(ServerState.Done, \"positions\"));\n\t\t\t} catch (e) {\n\t\t\t\tdispatch(setState(ServerState.Error, \"positions\"));\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport const fetchMarketStats = (api) => {\n\treturn async (dispatch, getState) => {\n\t\tdispatch(setState(ServerState.Loading, \"marketStats\"));\n\t\tconst store = getState();\n\t\tconst market = store.margin.selectedMarket;\n\t\ttry {\n\t\t\tconst { ticker } = await api.getTicker(market);\n\t\t\tdispatch(setMarketStats(ticker));\n\t\t\tdispatch(setState(ServerState.Done, \"marketStats\"));\n\t\t} catch (e) {\n\t\t\tdispatch(setState(ServerState.Error, \"marketStats\"));\n\t\t}\n\t};\n};\n\nexport const calculateFee = (api, params) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setState(ServerState.Loading, \"fees\"));\n\t\ttry {\n\t\t\tconst { fees } = await api.calculateFee(params);\n\t\t\tdispatch(setFee(fees));\n\t\t\tdispatch(setState(ServerState.Done, \"fees\"));\n\t\t} catch (e) {\n\t\t\tdispatch(setState(ServerState.Error, \"fees\"));\n\t\t}\n\t};\n};\n\nexport const getGasPrice = (api) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setState(ServerState.Loading, \"gas\"));\n\t\ttry {\n\t\t\tconst { gas } = await api.getGas();\n\t\t\tdispatch(setGasPrice(gas));\n\t\t\tdispatch(setState(ServerState.Done, \"gas\"));\n\t\t} catch (e) {\n\t\t\tdispatch(setState(ServerState.Error, \"gas\"));\n\t\t}\n\t};\n};\n\nexport const fetchUserTrades = (api) => {\n\treturn async (dispatch, getState) => {\n\t\tconst store = getState();\n\t\tconst market = store.margin.selectedMarket;\n\t\tif (store.margin.authCode) {\n\t\t\tdispatch(setState(ServerState.Loading, \"userTrades\"));\n\t\t\ttry {\n\t\t\t\tconst { trades } = await api.getAccountTrades(market);\n\t\t\t\tdispatch(setUserTrades(trades));\n\t\t\t\tdispatch(setState(ServerState.Done, \"userTrades\"));\n\t\t\t} catch (e) {\n\t\t\t\tdispatch(setState(ServerState.Error, \"userTrades\"));\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport const fetchUserLockedBalances = (api) => {\n\treturn async (dispatch, getState) => {\n\t\tconst store = getState();\n\t\tif (store.margin.authCode) {\n\t\t\tdispatch(setState(ServerState.Loading, \"lockedBalances\"));\n\t\t\ttry {\n\t\t\t\tconst { lockedBalances } = await api.getLockedBalances();\n\t\t\t\tdispatch(setLockedBalances(lockedBalances));\n\t\t\t\tdispatch(setState(ServerState.Done, \"lockedBalances\"));\n\t\t\t} catch (e) {\n\t\t\t\tdispatch(setState(ServerState.Error, \"lockedBalances\"));\n\t\t\t}\n\t\t}\n\t};\n};\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { DEFAULT_MARGIN_MARKET, ServerState } from \"../../constants\";\nimport * as actions from \"./actions\";\n\nconst initialState = {\n\tmarkets: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\ttrades: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\torderbook: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: {\n\t\t\tasks: [],\n\t\t\tbids: [],\n\t\t},\n\t},\n\torders: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\tpositions: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\tmarketStats: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\tfee: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\tgas: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\tuserTrades: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\tlockedBalances: {\n\t\tstate: ServerState.NotLoaded,\n\t\tdata: null,\n\t},\n\tauthCode: null,\n\tauthCodeExpire: null,\n\taccessToPrivate: false,\n\tgasPrice: null,\n\tselectedMarket: DEFAULT_MARGIN_MARKET,\n\tselectedMarketStats: null,\n\torderPriceSelected: null,\n\torderBuyPriceSelected: null,\n\torderSellPriceSelected: null,\n\tmakerAmountSelected: null,\n};\n\nexport default createReducer(initialState, (builder) => {\n\tbuilder\n\t\t.addCase(actions.setState, (state, action) => {\n\t\t\tconst { property, newState } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[property]: {\n\t\t\t\t\t...state[property],\n\t\t\t\t\tstate: newState,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setMarkets, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmarkets: {\n\t\t\t\t\t...state.markets,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setTrades, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttrades: {\n\t\t\t\t\t...state.trades,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setOrders, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\torders: {\n\t\t\t\t\t...state.orders,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setPositions, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpositions: {\n\t\t\t\t\t...state.positions,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setOrderbook, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\torderbook: {\n\t\t\t\t\t...state.orderbook,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setMarketStats, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmarketStats: {\n\t\t\t\t\t...state.marketStats,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setSelectedMarket, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedMarket: action.payload.id,\n\t\t\t\tselectedMarketStats: action.payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setMakerAmountSelected, (state, action) => {\n\t\t\treturn { ...state, makerAmountSelected: action.payload };\n\t\t})\n\t\t.addCase(actions.setOrderBuyPriceSelected, (state, action) => {\n\t\t\treturn { ...state, orderBuyPriceSelected: action.payload };\n\t\t})\n\t\t.addCase(actions.setOrderPriceSelected, (state, action) => {\n\t\t\treturn { ...state, orderPriceSelected: action.payload };\n\t\t})\n\t\t.addCase(actions.setOrderSellPriceSelected, (state, action) => {\n\t\t\treturn { ...state, orderSellPriceSelected: action.payload };\n\t\t})\n\t\t.addCase(actions.setAuthCode, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tauthCode: action.payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setAuthCodeExpire, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tauthCodeExpire: action.payload,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setPrivateData, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToPrivate: true,\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setFee, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfee: {\n\t\t\t\t\t...state.fee,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setGasPrice, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgas: {\n\t\t\t\t\t...state.gas,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setUserTrades, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserTrades: {\n\t\t\t\t\t...state.userTrades,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t})\n\t\t.addCase(actions.setLockedBalances, (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlockedBalances: {\n\t\t\t\t\t...state.lockedBalances,\n\t\t\t\t\tdata: action.payload,\n\t\t\t\t},\n\t\t\t};\n\t\t});\n});\n","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\nimport { save, load } from \"redux-localstorage-simple\";\nimport thunk from \"redux-thunk\";\n\nimport application from \"./application/reducer\";\nimport { updateVersion } from \"./global/actions\";\nimport user from \"./user/reducer\";\nimport transactions from \"./transactions/reducer\";\nimport swap from \"./swap/reducer\";\nimport mint from \"./mint/reducer\";\nimport lists from \"./lists/reducer\";\nimport burn from \"./burn/reducer\";\nimport multicall from \"./multicall/reducer\";\nimport account from \"./account/reducer\";\nimport currency from \"./currency/reducer\";\nimport pools from \"./pools/reducer\";\nimport balances from \"./balances/reducer\";\nimport explore from \"./explore/reducer\";\nimport market from \"./market/reducer\";\nimport governance from \"./governance/reducer\";\nimport relayer from \"./relayer/reducer\";\nimport spot from \"./spot/reducer\";\nimport spotUI from \"./spotUI/reducer\";\nimport aave from \"./aave/reducers\";\nimport margin from \"./margin/reducer\";\n\nconst rootReducer = combineReducers({\n\tapplication,\n\taave,\n\tuser,\n\ttransactions,\n\tswap,\n\tmint,\n\tburn,\n\tmulticall,\n\tlists,\n\tcurrency,\n\tpools,\n\taccount,\n\tbalances,\n\texplore,\n\tmarket,\n\tgovernance,\n\trelayer,\n\tspot,\n\tspotUI,\n\tmargin,\n});\n\nconst PERSISTED_KEYS: string[] = [\"user\", \"transactions\", \"currency\", \"lists\"];\n\nexport const store = configureStore({\n\treducer: rootReducer,\n\tmiddleware: [save({ states: PERSISTED_KEYS }), thunk],\n\tpreloadedState: load({ states: PERSISTED_KEYS }),\n});\n\nstore.dispatch(updateVersion());\n\nexport type AppState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default {\n\tstore,\n};\n","import { Provider } from \"react-redux\";\nimport { store } from \"./state\";\nimport ThemeProvider from \"./theme\";\n\nconst Providers = (props) => {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<ThemeProvider>{props.children}</ThemeProvider>\n\t\t</Provider>\n\t);\n};\n\nexport default Providers;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"inter-ui\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { createWeb3ReactRoot, Web3ReactProvider } from \"@web3-react/core\";\nimport getLibrary from \"./utils/getLibrary\";\nimport { NetworkContextName } from \"./constants\";\nimport \"./i18n\";\nimport Providers from \"./Providers\";\n\nconst Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Web3ReactProvider getLibrary={getLibrary}>\n\t\t\t<Web3ProviderNetwork getLibrary={getLibrary}>\n\t\t\t\t<Providers>\n\t\t\t\t\t<App />\n\t\t\t\t</Providers>\n\t\t\t</Web3ProviderNetwork>\n\t\t</Web3ReactProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { createAction } from \"@reduxjs/toolkit\";\n\nimport { emitter } from \"../../lib/helper\";\nimport marketApi from \"../../http/market\";\n\nconst api = new marketApi();\n\nexport const saveMarketCoins = createAction(\"market/save\", (data) => {\n\treturn {\n\t\tpayload: data,\n\t};\n});\n\nexport const saveAllTokens = createAction(\"market/all\", (data, page, total) => {\n\treturn {\n\t\tpayload: {\n\t\t\tdata,\n\t\t\tpage,\n\t\t\ttotal,\n\t\t},\n\t};\n});\n\nexport const saveSelectedCoin = createAction(\"market/selected\", (data, id) => {\n\treturn {\n\t\tpayload: {\n\t\t\tdata,\n\t\t\tid,\n\t\t},\n\t};\n});\n\nexport const setLoading = createAction(\"market/loading\", (type, value) => {\n\treturn {\n\t\tpayload: {\n\t\t\ttype,\n\t\t\tvalue,\n\t\t},\n\t};\n});\n\nexport const setHistorical = createAction(\"market/historical\", (data, id, days) => {\n\treturn {\n\t\tpayload: {\n\t\t\tdata,\n\t\t\tid,\n\t\t\tdays,\n\t\t},\n\t};\n});\n\nexport const setCoinMarketPrices = createAction(\"market/prices\", (id, result) => {\n\treturn {\n\t\tpayload: {\n\t\t\tid,\n\t\t\tresult,\n\t\t},\n\t};\n});\n\nexport const setCoinPriceLoading = createAction(\"market/priceLoading\", (value, id) => {\n\treturn {\n\t\tpayload: {\n\t\t\tvalue,\n\t\t\tid,\n\t\t},\n\t};\n});\n\nexport const fetchCoinMarketPrices = (payload) => {\n\treturn (dispatch) => {\n\t\tdispatch(setCoinPriceLoading(true, payload.id));\n\t\tapi.get(\"single\", payload)\n\t\t\t.then((response) => {\n\t\t\t\tdispatch(setCoinMarketPrices(payload.id, response));\n\t\t\t\tdispatch(setCoinPriceLoading(false, payload.id));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(setCoinPriceLoading(false, payload.id));\n\t\t\t});\n\t};\n};\n\nexport const fetchMarketCoins = () => {\n\treturn (dispatch) => {\n\t\tdispatch(setLoading(\"marketCoins\", true));\n\t\tapi.get(\"marketCoins\")\n\t\t\t.then((response) => {\n\t\t\t\tdispatch(saveMarketCoins(response.data));\n\t\t\t\tdispatch(setLoading(\"marketCoins\", false));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(setLoading(\"marketCoins\", false));\n\t\t\t});\n\t};\n};\n\nexport const fetchAllCoins = (page, pageSize) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setLoading(\"allTokens\", true));\n\t\ttry {\n\t\t\tconst globalResponse = await api.get(\"global\");\n\t\t\tconst response = await api.get(\"all\", { pageSize, page });\n\t\t\tdispatch(saveAllTokens(response.data, page, globalResponse.data.data.active_cryptocurrencies));\n\t\t\tdispatch(setLoading(\"allTokens\", false));\n\t\t} catch (error) {\n\t\t\tdispatch(setLoading(\"allTokens\", false));\n\t\t}\n\t};\n};\n\nexport const fetchSelectedCoin = (id) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setLoading(\"selected\", true));\n\n\t\ttry {\n\t\t\tconst res = await api.get(\"selected\", { id });\n\t\t\tdispatch(saveSelectedCoin(res.data, id));\n\t\t\tdispatch(setLoading(\"selected\", false));\n\t\t} catch (e) {\n\t\t\tdispatch(setLoading(\"selected\", false));\n\t\t\temitter.emit(\"change-route\", {\n\t\t\t\tpath: \"/market\",\n\t\t\t});\n\t\t}\n\t};\n};\nexport const fetchSelectedContract = (address) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setLoading(\"selected\", true));\n\n\t\ttry {\n\t\t\tconst res = await api.get(\"selectedContract\", { address });\n\t\t\tdispatch(saveSelectedCoin(res.data, address));\n\t\t\tdispatch(setLoading(\"selected\", false));\n\t\t} catch (e) {\n\t\t\tdispatch(setLoading(\"selected\", false));\n\t\t\temitter.emit(\"change-route\", {\n\t\t\t\tpath: \"/dashboard\",\n\t\t\t});\n\t\t}\n\t};\n};\n\nexport const fetchHistoricalData = (id) => {\n\treturn (dispatch) => {\n\t\tdispatch(setLoading(\"historical\", true));\n\t\tapi.get(\"allHistorical\", { id })\n\t\t\t.then((response) => {\n\t\t\t\tdispatch(setHistorical(response, id));\n\t\t\t\tdispatch(setLoading(\"historical\", false));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(setLoading(\"historical\", false));\n\t\t\t});\n\t};\n};\n\nexport const fetchContractHistoricalData = (address) => {\n\treturn (dispatch) => {\n\t\tdispatch(setLoading(\"historical\", true));\n\t\tapi.get(\"historicalContract\", { address })\n\t\t\t.then((response) => {\n\t\t\t\tdispatch(setHistorical(response, address));\n\t\t\t\tdispatch(setLoading(\"historical\", false));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(setLoading(\"historical\", false));\n\t\t\t});\n\t};\n};\n","import { TransactionResponse } from \"@ethersproject/providers\";\nimport { useCallback, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { AppDispatch, AppState } from \"../index\";\nimport { addTransaction } from \"./actions\";\nimport { TransactionDetails } from \"./reducer\";\n\n// helper that can take a ethers library transaction response and add it to the list of transactions\nexport function useTransactionAdder(): (\n\tresponse: TransactionResponse,\n\tcustomData?: {\n\t\tsummary?: string;\n\t\tapproval?: { tokenAddress: string; spender: string };\n\t\tclaim?: { recipient: string };\n\t}\n) => void {\n\tconst { chainId, account } = useActiveWeb3React();\n\tconst dispatch = useDispatch<AppDispatch>();\n\n\treturn useCallback(\n\t\t(\n\t\t\tresponse: TransactionResponse,\n\t\t\t{\n\t\t\t\tsummary,\n\t\t\t\tapproval,\n\t\t\t\tclaim,\n\t\t\t}: {\n\t\t\t\tsummary?: string;\n\t\t\t\tclaim?: { recipient: string };\n\t\t\t\tapproval?: { tokenAddress: string; spender: string };\n\t\t\t} = {}\n\t\t) => {\n\t\t\tif (!account) return;\n\t\t\tif (!chainId) return;\n\n\t\t\tconst { hash } = response;\n\t\t\tif (!hash) {\n\t\t\t\tthrow Error(\"No transaction hash found.\");\n\t\t\t}\n\t\t\tdispatch(addTransaction({ hash, from: account, chainId, approval, summary, claim }));\n\t\t},\n\t\t[dispatch, chainId, account]\n\t);\n}\n\n// returns all the transactions for the current chain\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\n\tconst { chainId } = useActiveWeb3React();\n\n\tconst state = useSelector<AppState, AppState[\"transactions\"]>((state) => state.transactions);\n\n\treturn chainId ? state[chainId] ?? {} : {};\n}\n\nexport function useIsTransactionPending(transactionHash?: string): boolean {\n\tconst transactions = useAllTransactions();\n\n\tif (!transactionHash || !transactions[transactionHash]) return false;\n\n\treturn !transactions[transactionHash].receipt;\n}\n\n/**\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\n * @param tx to check for recency\n */\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\n\treturn new Date().getTime() - tx.addedTime < 86_400_000;\n}\n\n// returns whether a token has a pending approval transaction\nexport function useHasPendingApproval(tokenAddress: string | undefined, spender: string | undefined): boolean {\n\tconst allTransactions = useAllTransactions();\n\treturn useMemo(\n\t\t() =>\n\t\t\ttypeof tokenAddress === \"string\" &&\n\t\t\ttypeof spender === \"string\" &&\n\t\t\tObject.keys(allTransactions).some((hash) => {\n\t\t\t\tconst tx = allTransactions[hash];\n\t\t\t\tif (!tx) return false;\n\t\t\t\tif (tx.receipt) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tconst approval = tx.approval;\n\t\t\t\t\tif (!approval) return false;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tapproval.spender === spender &&\n\t\t\t\t\t\tapproval.tokenAddress === tokenAddress &&\n\t\t\t\t\t\tisTransactionRecent(tx)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t[allTransactions, spender, tokenAddress]\n\t);\n}\n\n// watch for submissions to claim\n// return null if not done loading, return undefined if not found\nexport function useUserHasSubmittedClaim(\n\taccount?: string\n): { claimSubmitted: boolean; claimTxn: TransactionDetails | undefined } {\n\tconst allTransactions = useAllTransactions();\n\n\t// get the txn if it has been submitted\n\tconst claimTxn = useMemo(() => {\n\t\tconst txnIndex = Object.keys(allTransactions).find((hash) => {\n\t\t\tconst tx = allTransactions[hash];\n\t\t\treturn tx.claim && tx.claim.recipient === account;\n\t\t});\n\t\treturn txnIndex && allTransactions[txnIndex] ? allTransactions[txnIndex] : undefined;\n\t}, [account, allTransactions]);\n\n\treturn { claimSubmitted: Boolean(claimTxn), claimTxn };\n}\n","import { ChainId, Currency, CurrencyAmount, ETHER, Token, TokenAmount, WETH } from \"@uniswap/sdk\";\n\nexport function wrappedCurrency(currency: Currency | undefined, chainId: ChainId | undefined): Token | undefined {\n\treturn chainId && currency === ETHER ? WETH[chainId] : currency instanceof Token ? currency : undefined;\n}\n\nexport function wrappedCurrencyAmount(\n\tcurrencyAmount: CurrencyAmount | undefined,\n\tchainId: ChainId | undefined\n): TokenAmount | undefined {\n\tconst token = currencyAmount && chainId ? wrappedCurrency(currencyAmount.currency, chainId) : undefined;\n\treturn token && currencyAmount ? new TokenAmount(token, currencyAmount.raw) : undefined;\n}\n\nexport function unwrappedToken(token: Token): Currency {\n\tif (token.equals(WETH[token.chainId])) return ETHER;\n\treturn token;\n}\n","import SVG from \"react-inlinesvg\";\nimport styled from \"styled-components\";\nimport React, { useState, useCallback } from \"react\";\n\nconst BadSource = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 300px;\n\tbackground-color: ${({ theme }) => theme.text1};\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`;\n\nconst Img = ({ src, alt, ...props }) => {\n\tconst [tries, refresh] = useState(0);\n\n\tconst errorHandler = useCallback(() => {\n\t\trefresh(-1);\n\t}, []);\n\n\tif (tries > -1 && src) {\n\t\treturn <img {...props} src={src} alt={alt} onError={errorHandler} />;\n\t}\n\n\treturn (\n\t\t<BadSource {...props}>\n\t\t\t<SVG src={require(\"../../../assets/images/question-mark.svg\").default} />\n\t\t</BadSource>\n\t);\n};\n\nexport default Img;\n","import { BigNumber } from \"@0x/utils\";\nimport { convertDateToUTCTimestamp } from \"./timeUtils\";\n\nexport const filterMarketsByString = (markets, str) => {\n\treturn markets.filter((market) => {\n\t\tconst baseLowerCase = market.currencyPair.base.toLowerCase();\n\t\tconst quoteLowerCase = market.currencyPair.quote.toLowerCase();\n\t\treturn `${baseLowerCase}/${quoteLowerCase}`.indexOf(str.toLowerCase()) !== -1;\n\t});\n};\n\nexport const filterMarketsByTokenSymbol = (markets, tokenSymbol) => {\n\treturn markets.filter(\n\t\t(market) => market.currencyPair.base === tokenSymbol || market.currencyPair.quote === tokenSymbol\n\t);\n};\n\n/**\n * Export current market as string\n */\nexport const marketToString = (currencyPair) => {\n\treturn `${currencyPair.base.toUpperCase()}-${currencyPair.quote.toUpperCase()}`;\n};\n\n/**\n * Get Today fills at UTC time\n */\nexport const getTodayFillsUTC = (fills) => {\n\tif (fills && fills.length) {\n\t\tconst startOfDay = new Date();\n\t\tstartOfDay.setHours(0, 0, 0, 0);\n\t\tconst startOfDayUtc = convertDateToUTCTimestamp(startOfDay);\n\t\treturn fills.filter((f) => convertDateToUTCTimestamp(f.timestamp) > startOfDayUtc);\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport const getTodayHighPriceFromFills = (fills) => {\n\tif (fills && fills.length) {\n\t\tconst todayFills = getTodayFillsUTC(fills);\n\t\tif (todayFills && todayFills.length) {\n\t\t\treturn new BigNumber(Math.max(...todayFills.map((f) => Number(f.price))));\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport const getTodayLowerPriceFromFills = (fills) => {\n\tif (fills && fills.length) {\n\t\tconst todayFills = getTodayFillsUTC(fills);\n\t\tif (todayFills && todayFills.length) {\n\t\t\treturn new BigNumber(Math.min(...todayFills.map((f) => Number(f.price))));\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport const getTodayClosedOrdersFromFills = (fills) => {\n\tif (fills && fills.length) {\n\t\tconst todayFills = getTodayFillsUTC(fills);\n\t\tif (todayFills && todayFills.length) {\n\t\t\treturn todayFills.length;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/**\n * Export current market as string\n */\nexport const getLastPrice = (fills) => {\n\tif (fills && fills.length) {\n\t\treturn fills[0].price;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/**\n * Export current market as string\n */\nexport const marketToStringFromTokens = (base, quote) => {\n\treturn `${base.symbol.toUpperCase()}-${quote.symbol.toUpperCase()}`;\n};\n","export const INSUFFICIENT_MAKER_BALANCE_ERR = \"INSUFFICIENT MAKER BALANCE\";\nexport const SIGNATURE_ERR = \"User denied message signature\";\nexport const USER_DENIED_TRANSACTION_SIGNATURE_ERR = \"User denied transaction signature\";\nexport const INSUFFICIENT_ORDERS_TO_FILL_AMOUNT_ERR = \"There are not enough orders to fill this amount\";\nexport const RELAYER_ERR = \"There was an error with the relayer\";\nexport const INSUFFICIENT_FEE_BALANCE = \"INSUFFICIENT MAKER FEE BALANCE\";\nexport const INSUFFICIENT_FEE_BALANCE_MSG = `You don't have enough 0x to pay fees`;\nexport const INSUFFICIENT_ETH_BALANCE_FOR_DEPOSIT = \"INSUFFICIENT_ETH_BALANCE_FOR_DEPOSIT\";\nexport const UNEXPECTED_ERROR = \"An unexpected error happened\";\n","import { parse, ParsedQs } from \"qs\";\nimport { useMemo } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function useParsedQueryString(): ParsedQs {\n\tconst { search } = useLocation();\n\treturn useMemo(\n\t\t() => (search && search.length > 1 ? parse(search, { parseArrays: false, ignoreQueryPrefix: true }) : {}),\n\t\t[search]\n\t);\n}\n","import { getKnownTokens } from \"../known_tokens\";\nimport { assetDataUtils } from \"@0x/order-utils\";\nimport { OrderSide, UI_DECIMALS_DISPLAYED_PRICE_ETH } from \"../../constants\";\nimport { tokenAmountInUnitsToBigNumber } from \"./tokens\";\n\nexport const ordersToUIOrders = (orders, baseToken, ordersInfo = undefined) => {\n\tif (ordersInfo) {\n\t\treturn ordersToUIOrdersWithOrdersInfo(orders, ordersInfo, baseToken);\n\t} else {\n\t\treturn ordersToUIOrdersWithoutOrderInfo(orders, baseToken);\n\t}\n};\n\nconst ordersToUIOrdersWithoutOrderInfo = (orders, baseToken) => {\n\tconst baseTokenEncoded = assetDataUtils.encodeERC20AssetData(baseToken.address);\n\n\treturn orders.map((order, i) => {\n\t\tconst makerAssetAddress = assetDataUtils.decodeAssetDataOrThrow(order.makerAssetData).tokenAddress;\n\t\tconst makerAssetTokenDecimals = getKnownTokens().getTokenByAddress(makerAssetAddress).decimals;\n\t\tconst makerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(order.makerAssetAmount, makerAssetTokenDecimals);\n\n\t\tconst takerAssetAddress = assetDataUtils.decodeAssetDataOrThrow(order.takerAssetData).tokenAddress;\n\t\tconst takerAssetTokenDecimals = getKnownTokens().getTokenByAddress(takerAssetAddress).decimals;\n\t\tconst takerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(order.takerAssetAmount, takerAssetTokenDecimals);\n\n\t\tconst side = order.takerAssetData === baseTokenEncoded ? OrderSide.Buy : OrderSide.Sell;\n\t\tconst isSell = side === OrderSide.Sell;\n\n\t\tconst size = side === OrderSide.Sell ? order.makerAssetAmount : order.takerAssetAmount;\n\t\tconst filled = null;\n\t\tconst status = null;\n\t\tconst price = isSell\n\t\t\t? takerAssetAmountInUnits.div(makerAssetAmountInUnits)\n\t\t\t: makerAssetAmountInUnits.div(takerAssetAmountInUnits);\n\n\t\treturn {\n\t\t\trawOrder: order,\n\t\t\tside,\n\t\t\tsize,\n\t\t\tfilled,\n\t\t\tprice,\n\t\t\tstatus,\n\t\t};\n\t});\n};\n\n// The user has web3 and the order info could be retrieved from the contract\nconst ordersToUIOrdersWithOrdersInfo = (orders, ordersInfo, baseToken) => {\n\tif (ordersInfo.length !== orders.length) {\n\t\tthrow new Error(\n\t\t\t`AssertionError: Orders info length does not match orders length: ${ordersInfo.length} !== ${orders.length}`\n\t\t);\n\t}\n\n\tconst selectedTokenEncoded = assetDataUtils.encodeERC20AssetData(baseToken.address);\n\n\treturn orders.map((order, i) => {\n\t\tconst orderInfo = ordersInfo[i];\n\n\t\tconst side = order.takerAssetData === selectedTokenEncoded ? OrderSide.Buy : OrderSide.Sell;\n\t\tconst isSell = side === OrderSide.Sell;\n\t\tconst size = isSell ? order.makerAssetAmount : order.takerAssetAmount;\n\n\t\tconst makerAssetAddress = assetDataUtils.decodeAssetDataOrThrow(order.makerAssetData).tokenAddress;\n\t\tconst makerAssetTokenDecimals = getKnownTokens().getTokenByAddress(makerAssetAddress).decimals;\n\t\tconst makerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(order.makerAssetAmount, makerAssetTokenDecimals);\n\n\t\tconst takerAssetAddress = assetDataUtils.decodeAssetDataOrThrow(order.takerAssetData).tokenAddress;\n\t\tconst takerAssetTokenDecimals = getKnownTokens().getTokenByAddress(takerAssetAddress).decimals;\n\t\tconst takerAssetAmountInUnits = tokenAmountInUnitsToBigNumber(order.takerAssetAmount, takerAssetTokenDecimals);\n\n\t\tconst filled = isSell\n\t\t\t? orderInfo.orderTakerAssetFilledAmount.div(order.takerAssetAmount).multipliedBy(order.makerAssetAmount)\n\t\t\t: orderInfo.orderTakerAssetFilledAmount;\n\t\tconst price = isSell\n\t\t\t? takerAssetAmountInUnits.div(makerAssetAmountInUnits)\n\t\t\t: makerAssetAmountInUnits.div(takerAssetAmountInUnits);\n\t\tconst status = orderInfo.orderStatus;\n\n\t\treturn {\n\t\t\trawOrder: order,\n\t\t\tside,\n\t\t\tsize,\n\t\t\tfilled,\n\t\t\tprice,\n\t\t\tstatus,\n\t\t};\n\t});\n};\n\nexport const mergeByPrice = (orders, precision = UI_DECIMALS_DISPLAYED_PRICE_ETH) => {\n\tconst initialValue = {};\n\tconst ordersByPrice = orders.reduce((acc, order) => {\n\t\tacc[order.price.toFixed(precision)] = acc[order.price.toFixed(precision)] || [];\n\t\tacc[order.price.toFixed(precision)].push(order);\n\t\treturn acc;\n\t}, initialValue);\n\n\t// Returns an array of OrderBookItem\n\treturn Object.keys(ordersByPrice)\n\t\t.map((price) => {\n\t\t\treturn ordersByPrice[price].reduce((acc, order) => {\n\t\t\t\treturn {\n\t\t\t\t\t...acc,\n\t\t\t\t\tsize: acc.size.plus(order.size),\n\t\t\t\t};\n\t\t\t});\n\t\t})\n\t\t.map((order) => {\n\t\t\tlet newSize = order.size;\n\t\t\tif (order.filled) {\n\t\t\t\tnewSize = order.size.minus(order.filled);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tside: order.side,\n\t\t\t\tprice: order.price,\n\t\t\t\tsize: newSize,\n\t\t\t};\n\t\t});\n};\n","import { Modal as BSModal } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nexport const Modal = styled(BSModal)`\n\t& .modal-content {\n\t\tbackground-color: ${({ theme }) => theme.modalBG} !important;\n\t\tcolor: ${({ theme }) => theme.text1} !important;\n\t}\n\t& .modal-body,\n\t& .modal-header,\n\t& .modal-footer {\n\t\tcolor: ${({ theme }) => theme.text1} !important;\n\t}\n`;\n","import { InputGroup as Group, Form } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nexport const InputGroupPrepend = styled(Group.Prepend)``;\n\nexport const InputGroupAppend = styled(Group.Append)``;\n\nexport const InputGroupText = styled(Group.Text)`\n\tbackground-color: ${({ theme }) => theme.modalBG} !important;\n\tborder-color: ${({ theme }) => theme.text4} !important;\n\tcolor: ${({ theme }) => theme.text1};\n  \n  ${InputGroupPrepend} & {\n    padding-left: 2rem;\n    padding-right: 0.75rem;\n  } \n  \n  ${InputGroupAppend} & {\n    padding-right: 2rem;\n    padding-left: 0.75rem;\n  } \n`;\n\nexport const InputGroupFormControl = styled(Form.Control)`\n\tborder-color: ${({ theme }) => theme.text4} !important;\n\tbackground-color: ${({ theme }) => theme.modalBG} !important;\n\tcolor: ${({ theme }) => theme.text1} !important;\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n`;\nexport const FormControl = styled(Form.Control)`\n\tborder-color: ${({ theme }) => theme.text3} !important;\n\tbackground-color: ${({ theme }) => theme.bg1} !important;\n\tcolor: ${({ theme }) => theme.text1} !important;\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n`;\n\nexport const InputGroup = styled(Group)`\n\t& ${InputGroupText} {\n\t\tbackground-color: ${({ theme, bg }) => (bg === \"darker\" ? theme.bg1 : theme.modalBG)} !important;\n\t}\n\n\t& ${InputGroupFormControl} {\n\t\tbackground-color: ${({ theme, bg }) => (bg === \"darker\" ? theme.bg1 : theme.modalBG)} !important;\n\t}\n`;\n","import { Web3Provider } from \"@ethersproject/providers\";\nimport { ChainId } from \"@uniswap/sdk\";\nimport { useWeb3React as useWeb3ReactCore } from \"@web3-react/core\";\nimport { Web3ReactContextInterface } from \"@web3-react/core/dist/types\";\nimport { useEffect, useState } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport { injected } from \"../connectors\";\nimport { NetworkContextName } from \"../constants\";\n\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & { chainId?: ChainId } {\n\tconst context = useWeb3ReactCore<Web3Provider>();\n\tconst contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName);\n\treturn context.active ? context : contextNetwork;\n}\n\nexport function useEagerConnect() {\n\tconst { activate, active } = useWeb3ReactCore(); // specifically using useWeb3ReactCore because of what this hook does\n\tconst [tried, setTried] = useState(false);\n\n\tuseEffect(() => {\n\t\tinjected.isAuthorized().then((isAuthorized) => {\n\t\t\tif (isAuthorized) {\n\t\t\t\tactivate(injected, undefined, true).catch(() => {\n\t\t\t\t\tsetTried(true);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (isMobile && window.ethereum) {\n\t\t\t\t\tactivate(injected, undefined, true).catch(() => {\n\t\t\t\t\t\tsetTried(true);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsetTried(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}, [activate]); // intentionally only running on mount (make sure it's only mounted once :))\n\n\t// if the connection worked, wait until we get confirmation of that to flip the flag\n\tuseEffect(() => {\n\t\tif (active) {\n\t\t\tsetTried(true);\n\t\t}\n\t}, [active]);\n\n\treturn tried;\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */\nexport function useInactiveListener(suppress = false) {\n\tconst { active, error, activate } = useWeb3ReactCore(); // specifically using useWeb3React because of what this hook does\n\n\tuseEffect(() => {\n\t\tconst { ethereum } = window;\n\n\t\tif (ethereum && ethereum.on && !active && !error && !suppress) {\n\t\t\tconst handleChainChanged = () => {\n\t\t\t\t// eat errors\n\t\t\t\tactivate(injected, undefined, true).catch((error) => {\n\t\t\t\t\tconsole.error(\"Failed to activate after chain changed\", error);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst handleAccountsChanged = (accounts: string[]) => {\n\t\t\t\tif (accounts.length > 0) {\n\t\t\t\t\t// eat errors\n\t\t\t\t\tactivate(injected, undefined, true).catch((error) => {\n\t\t\t\t\t\tconsole.error(\"Failed to activate after accounts changed\", error);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tethereum.on(\"chainChanged\", handleChainChanged);\n\t\t\tethereum.on(\"accountsChanged\", handleAccountsChanged);\n\n\t\t\treturn () => {\n\t\t\t\tif (ethereum.removeListener) {\n\t\t\t\t\tethereum.removeListener(\"chainChanged\", handleChainChanged);\n\t\t\t\t\tethereum.removeListener(\"accountsChanged\", handleAccountsChanged);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}, [active, error, suppress, activate]);\n}\n","import { ApolloClient, InMemoryCache, gql } from \"@apollo/client\";\n\nexport const uniswapClient = new ApolloClient({\n\turi: \"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2\",\n\tcache: new InMemoryCache(),\n});\n\nexport class Api {\n\tconstructor() {\n\t\tthis.client = uniswapClient;\n\t}\n\n\tfetchPools({ pageSize, page, orderBy, orderDirection }) {\n\t\treturn this.client\n\t\t\t.query({\n\t\t\t\tquery: gql`\n                query {\n                    pairs(first:${pageSize}, skip: ${(page - 1) * pageSize}, orderBy: ${\n\t\t\t\t\torderBy || \"volumeUSD\"\n\t\t\t\t}, orderDirection:${orderDirection || \"desc\"}){\n                        id,\n                        token0{\n                            id,\n                            symbol,\n                            name,\n                            decimals,\n                            totalLiquidity\n                        }\n                        token1{\n                            id,\n                            symbol,\n                            name,\n                            decimals,\n                            totalLiquidity,\n                        }\n                        totalSupply\n                        volumeUSD\n                        volumeToken0\n                        volumeToken1\n                        txCount\n                    }\n                }\n\n            `,\n\t\t\t})\n\t\t\t.then((response) =>\n\t\t\t\tresponse.data.pairs.map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\ttotalSupply: Number(item.totalSupply),\n\t\t\t\t\t\ttxCount: Number(item.txCount),\n\t\t\t\t\t\tvolumeUSD: Number(item.volumeUSD),\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t)\n\t\t\t.catch((error) => error);\n\t}\n}\n","import { ApolloClient, gql, InMemoryCache } from \"@apollo/client\";\n\nexport const balancerClient = new ApolloClient({\n\turi: \"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer\",\n\tcache: new InMemoryCache(),\n});\n\nexport class Api {\n\tconstructor() {\n\t\tthis.client = balancerClient;\n\t}\n\n\tfetchPools({ pageSize, page, orderBy, orderDirection }) {\n\t\treturn this.client\n\t\t\t.query({\n\t\t\t\tquery: gql`\n                query {\n                    pools(first:${pageSize}, skip: ${(page - 1) * pageSize}, orderBy: ${\n\t\t\t\t\torderBy || \"liquidity\"\n\t\t\t\t}, orderDirection:${orderDirection || \"desc\"}, where: {publicSwap: true}){\n                        id\n                        name\n                        symbol\n                        totalSwapVolume\n                        liquidity\n                        finalized\n                        publicSwap\n                        swapFee\n                        totalWeight\n                        tokensList\n                        active\n                        tokens {\n                            id\n                            address\n                            balance\n                            name\n                            decimals\n                            symbol\n                            denormWeight\n                        }\n                    }\n                }\n            `,\n\t\t\t})\n\t\t\t.then((response) =>\n\t\t\t\tresponse.data.pools.map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tliquidity: Number(item.liquidity),\n\t\t\t\t\t\ttotalWeight: Number(item.totalWeight),\n\t\t\t\t\t\ttotalSwapVolume: Number(item.totalSwapVolume),\n\t\t\t\t\t\tswapFee: Number(item.swapFee),\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t)\n\t\t\t.catch((error) => error);\n\t}\n}\n","import { ApolloClient, gql, InMemoryCache } from \"@apollo/client\";\n\nexport const curveClient = new ApolloClient({\n\turi: \"https://api.thegraph.com/subgraphs/name/protofire/curve\",\n\tcache: new InMemoryCache(),\n});\n\nexport class Api {\n\tconstructor() {\n\t\tthis.client = curveClient;\n\t}\n\n\tfetchPools({ pageSize, page, orderBy, orderDirection }) {\n\t\treturn this.client\n\t\t\t.query({\n\t\t\t\tquery: gql`\n                query {\n                    pools(first:${pageSize}, skip: ${(page - 1) * pageSize}, orderBy: ${\n\t\t\t\t\torderBy || \"virtualPrice\"\n\t\t\t\t}, orderDirection:${orderDirection || \"desc\"}){\n                        id\n                        address\n                        balances\n                        poolToken{\n                            id,\n                            name\n                            symbol\n                            address\n                        }\n                        virtualPrice\n                        fee\n                        coins{\n                            id,\n                            name\n                            symbol\n                            address\n                            decimals\n                        }\n                    }\n                }\n\n            `,\n\t\t\t})\n\t\t\t.then((response) =>\n\t\t\t\tresponse.data.pools.map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tfee: Number(item.fee),\n\t\t\t\t\t\tvirtualPrice: Number(item.virtualPrice),\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t)\n\t\t\t.catch((error) => error);\n\t}\n}\n","import { ApolloClient, gql, InMemoryCache } from \"@apollo/client\";\n\nexport const yearnClient = new ApolloClient({\n\turi: \"https://api.thegraph.com/subgraphs/name/graham-u/yearnfinancedev\",\n\tcache: new InMemoryCache(),\n});\n\nexport class Api {\n\tconstructor() {\n\t\tthis.client = yearnClient;\n\t}\n\n\tfetchPools({ pageSize, page, orderBy, orderDirection }) {\n\t\treturn this.client\n\t\t\t.query({\n\t\t\t\tquery: gql`\n                query {\n                    vaults(first:${pageSize}, skip: ${(page - 1) * pageSize}, orderBy: ${\n\t\t\t\t\torderBy || \"vaultBalance\"\n\t\t\t\t}, orderDirection:${orderDirection || \"desc\"}){\n                        id\n                        pricePerFullShare\n                        totalSupply\n                        vaultBalance\n                        available\n                        shareToken{\n                            id,\n                            address\n                            decimals\n                            name\n                            symbol\n                        }\n                        underlyingToken{\n                            id,\n                            address\n                            decimals\n                            name\n                            symbol\n                        }\n                    }\n                }\n\n            `,\n\t\t\t})\n\t\t\t.then((response) =>\n\t\t\t\tresponse.data.vaults.map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tpricePerFullShare: Number(item.pricePerFullShare),\n\t\t\t\t\t\ttotalSupply: Number(item.totalSupply),\n\t\t\t\t\t\tvaultBalance: Number(item.vaultBalance),\n\t\t\t\t\t\tavailable: Number(item.available),\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t)\n\t\t\t.catch((error) => error);\n\t}\n}\n","import { createAction } from \"@reduxjs/toolkit\";\n\nimport * as Apis from \"../../graphql\";\n\nexport const setPools = createAction(\"pools/set\", (type, data, pageSize, page) => {\n\treturn {\n\t\tpayload: {\n\t\t\ttype,\n\t\t\tdata,\n\t\t\tpageSize,\n\t\t\tpage,\n\t\t},\n\t};\n});\nexport const setListLoading = createAction(\"pools/loading\", (type, value) => {\n\treturn {\n\t\tpayload: {\n\t\t\ttype,\n\t\t\tvalue,\n\t\t},\n\t};\n});\n\nexport const selectPool = createAction(\"pools/select\", (type, selectedPool) => {\n\treturn {\n\t\tpayload: {\n\t\t\ttype,\n\t\t\tselectedPool,\n\t\t},\n\t};\n});\n\nexport const clearSelectedPool = createAction(\"pools/clearSelected\");\n\nexport const fetchPools = (type, options) => {\n\treturn async (dispatch) => {\n\t\tconst api = new Apis[type]();\n\t\tdispatch(setListLoading(type, true));\n\n\t\ttry {\n\t\t\tconst response = await api.fetchPools(options);\n\t\t\tdispatch(setPools(type, response, options.pageSize, options.page));\n\t\t\tdispatch(setListLoading(type, false));\n\t\t\treturn response;\n\t\t} catch (e) {\n\t\t\tdispatch(setListLoading(type, false));\n\t\t\treturn false;\n\t\t}\n\t};\n};\n","import { getAvailableMarkets } from \"../../common/markets\";\n\nexport const getCurrencyPairByTokensSymbol = (base, quote) => {\n\tconst currencyPair = getAvailableMarkets().find(\n\t\t(m) => m.base === base.toLowerCase() && m.quote === quote.toLowerCase()\n\t);\n\tif (!currencyPair) {\n\t\tthrow new Error(`Currency pair with base token ${base} and quote token ${quote} not found in known markets`);\n\t}\n\treturn currencyPair;\n};\n\nexport const getCurrencyPairFromTokens = (base, quote) => {\n\tconst currencyPair = getAvailableMarkets().find(\n\t\t(m) => m.base === base.symbol.toLowerCase() && m.quote === quote.symbol.toLowerCase()\n\t);\n\tif (!currencyPair) {\n\t\tthrow new Error(`Currency pair with base token ${base} and quote token ${quote} not found in known markets`);\n\t}\n\treturn currencyPair;\n};\n","import { createAction } from \"@reduxjs/toolkit\";\nimport defiSdk from \"../../utils/getDefiSdk\";\nimport { getBalances } from \"./hooks\";\n\nexport const saveBalances = createAction(\"balances/save\", (balances) => {\n\treturn {\n\t\tpayload: balances,\n\t};\n});\n\nexport const toggleLoading = createAction(\"balances/loading\", (state) => {\n\treturn {\n\t\tpayload: state,\n\t};\n});\n\nexport const fetchBalances = (account) => {\n\treturn async (dispatch) => {\n\t\tif (!account) return;\n\t\tdispatch(toggleLoading(true));\n\t\tconst balances = await defiSdk.getAccountBalances(account);\n\t\tdispatch(saveBalances(balances));\n\t\tdispatch(toggleLoading(false));\n\t};\n};\n\nexport const setTransformedBalances = createAction(\"balances/transformed\", (balances) => {\n\treturn {\n\t\tpayload: balances,\n\t};\n});\n\nexport const setAccountOverview = createAction(\"balances/overview\", (overview) => {\n\treturn {\n\t\tpayload: overview,\n\t};\n});\n\nexport const fetchTransformedBalances = (balances, wallet, ethBalance) => {\n\treturn async (dispatch) => {\n\t\tconst res = await getBalances(balances, wallet, ethBalance);\n\n\t\tdispatch(setTransformedBalances(res.balances));\n\t\tdispatch(setAccountOverview(res.overview));\n\t};\n};\n","export const currencyExchangeRate: string = \"https://api.exchangeratesapi.io/\";\nexport const cryptoExchangeRate: string = \"https://api.coingecko.com/api/v3/\";\n","import { INSUFFICIENT_ORDERS_TO_FILL_AMOUNT_ERR } from \"./common\";\n\nexport class InsufficientOrdersAmountException extends Error {\n\tconstructor() {\n\t\tsuper(INSUFFICIENT_ORDERS_TO_FILL_AMOUNT_ERR);\n\t}\n}\n\nexport class SignedOrderException extends Error {\n\tconstructor(m) {\n\t\tsuper(m);\n\t\t// Set the prototype explicitly.\n\t\tObject.setPrototypeOf(this, SignedOrderException.prototype);\n\t}\n}\n","import styled, { ThemeContext } from \"styled-components\";\nimport { useContext } from \"react\";\n\nimport \"./style.scss\";\n\nconst Wrapper = styled.div`\n\twidth: ${({ width }) => `${width || 55}px`};\n\theight: ${({ height }) => `${height || 55}px`};\n`;\n\nconst Loading = (props) => {\n\tlet color = \"primary\";\n\tlet customColor = false;\n\tconst theme = useContext(ThemeContext);\n\tconst classNames = [\"loading-spine\"];\n\n\tif (props.active || props.color === \"success\") {\n\t\tclassNames.push(\"active\");\n\t} else if (props.failed || props.color === \"danger\") {\n\t\tclassNames.push(\"failed\");\n\t}\n\n\tif ([\"primary\", \"secondary\", \"danger\", \"warning\", \"success\", \"tertiary\"].includes(props.color)) {\n\t\tcolor = props.color;\n\t} else {\n\t\tcustomColor = props.color;\n\t}\n\n\treturn (\n\t\t<Wrapper color={props.color} width={props.width} height={props.height} className={classNames.join(\" \")}>\n\t\t\t<svg viewBox=\"0 0 88 88\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t<circle cx=\"44\" cy=\"44\" r=\"38.5\" stroke=\"white\" strokeOpacity=\"0.07\" strokeWidth=\"11\" />\n\t\t\t\t<mask id={`path-2-inside-${props.id}`} fill=\"white\">\n\t\t\t\t\t<path d=\"M11.3657 23.5322C8.80255 21.9247 8.00317 18.5169 9.91657 16.1733C15.2963 9.58384 22.4998 4.66252 30.6818 2.06404C40.6129 -1.08993 51.341 -0.617078 60.9562 3.39842C70.5713 7.41391 78.4493 14.7114 83.1876 23.9917C87.9259 33.272 89.2169 43.9326 86.8308 54.0757C84.4448 64.2187 78.5364 73.1858 70.1578 79.3804C61.7791 85.575 51.4739 88.595 41.077 87.9028C30.6801 87.2106 20.8663 82.8511 13.3828 75.6004C7.21733 69.6268 2.96332 62.0102 1.08548 53.7135C0.417581 50.7626 2.65237 48.0686 5.66336 47.7723C8.67436 47.476 11.311 49.6978 12.1001 52.6186C13.6444 58.3344 16.7065 63.5651 21.0068 67.7316C26.6268 73.1768 33.9969 76.4507 41.8049 76.9706C49.6129 77.4904 57.3519 75.2224 63.6442 70.5703C69.9365 65.9183 74.3736 59.1841 76.1655 51.5667C77.9575 43.9494 76.9879 35.9433 73.4295 28.974C69.8711 22.0046 63.9548 16.5242 56.7339 13.5086C49.5131 10.493 41.4563 10.1379 33.9981 12.5065C28.2914 14.3189 23.2185 17.636 19.288 22.0638C17.2794 24.3265 13.9288 25.1398 11.3657 23.5322Z\" />\n\t\t\t\t</mask>\n\t\t\t\t<path\n\t\t\t\t\td=\"M11.3657 23.5322C8.80255 21.9247 8.00317 18.5169 9.91657 16.1733C15.2963 9.58384 22.4998 4.66252 30.6818 2.06404C40.6129 -1.08993 51.341 -0.617078 60.9562 3.39842C70.5713 7.41391 78.4493 14.7114 83.1876 23.9917C87.9259 33.272 89.2169 43.9326 86.8308 54.0757C84.4448 64.2187 78.5364 73.1858 70.1578 79.3804C61.7791 85.575 51.4739 88.595 41.077 87.9028C30.6801 87.2106 20.8663 82.8511 13.3828 75.6004C7.21733 69.6268 2.96332 62.0102 1.08548 53.7135C0.417581 50.7626 2.65237 48.0686 5.66336 47.7723C8.67436 47.476 11.311 49.6978 12.1001 52.6186C13.6444 58.3344 16.7065 63.5651 21.0068 67.7316C26.6268 73.1768 33.9969 76.4507 41.8049 76.9706C49.6129 77.4904 57.3519 75.2224 63.6442 70.5703C69.9365 65.9183 74.3736 59.1841 76.1655 51.5667C77.9575 43.9494 76.9879 35.9433 73.4295 28.974C69.8711 22.0046 63.9548 16.5242 56.7339 13.5086C49.5131 10.493 41.4563 10.1379 33.9981 12.5065C28.2914 14.3189 23.2185 17.636 19.288 22.0638C17.2794 24.3265 13.9288 25.1398 11.3657 23.5322Z\"\n\t\t\t\t\tstroke={`url(#paint0_linear-${props.id})`}\n\t\t\t\t\tstrokeWidth=\"22\"\n\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\tmask={`url(#path-2-inside-${props.id})`}\n\t\t\t\t/>\n\t\t\t\t<defs>\n\t\t\t\t\t<linearGradient\n\t\t\t\t\t\tid={`paint0_linear-${props.id}`}\n\t\t\t\t\t\tx1=\"67.1\"\n\t\t\t\t\t\ty1=\"11\"\n\t\t\t\t\t\tx2=\"1.1\"\n\t\t\t\t\t\ty2=\"40.7\"\n\t\t\t\t\t\tgradientUnits=\"userSpaceOnUse\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<stop stopColor={customColor || theme[color]} />\n\t\t\t\t\t\t<stop offset=\"1\" stopColor={customColor || theme[color]} stopOpacity=\"0\" />\n\t\t\t\t\t</linearGradient>\n\t\t\t\t</defs>\n\t\t\t</svg>\n\t\t</Wrapper>\n\t);\n};\n\nexport default Loading;\n","/**\n * Returns true if the string value is zero in hex\n * @param hexNumberString\n */\nexport default function isZero(hexNumberString: string) {\n\treturn /^0x0*$/.test(hexNumberString);\n}\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport enum Field {\n\tCURRENCY_A = \"CURRENCY_A\",\n\tCURRENCY_B = \"CURRENCY_B\",\n}\n\nexport const typeInput = createAction<{ field: Field; typedValue: string; noLiquidity: boolean }>(\"mint/typeInputMint\");\nexport const resetMintState = createAction<void>(\"mint/resetMintState\");\n","import { useMemo } from \"react\";\n\nexport const useLogo = (space, symbolIndex) => {\n\treturn useMemo(() => {\n\t\tconst file = symbolIndex ? (symbolIndex === \"space\" ? \"space\" : `logo${symbolIndex}`) : \"logo\";\n\t\treturn `https://raw.githubusercontent.com/bonustrack/snapshot-spaces/master/spaces/${space}/${file}.png`;\n\t}, [space, symbolIndex]);\n};\n\nexport function jsonParse(input, fallback) {\n\tif (typeof input !== \"string\") {\n\t\treturn fallback || {};\n\t}\n\ttry {\n\t\treturn JSON.parse(input);\n\t} catch (err) {\n\t\treturn fallback || {};\n\t}\n}\n\nexport function formatProposal(proposal) {\n\tproposal.msg = jsonParse(proposal.msg, proposal.msg);\n\n\t// v0.1.0\n\tif (proposal.msg.version === \"0.1.0\") {\n\t\tproposal.msg.payload.start = 1595088000;\n\t\tproposal.msg.payload.end = 1595174400;\n\t\tproposal.msg.payload.snapshot = 10484400;\n\t\tproposal.bpt_voting_disabled = \"1\";\n\t}\n\n\t// v0.1.1\n\tif (proposal.msg.version === \"0.1.0\" || proposal.msg.version === \"0.1.1\") {\n\t\tproposal.msg.payload.metadata = {};\n\t}\n\n\treturn proposal;\n}\n\nexport function formatProposals(proposals) {\n\treturn Object.fromEntries(Object.entries(proposals).map((proposal) => [proposal[0], formatProposal(proposal[1])]));\n}\n\nexport function shorten(str, key) {\n\tif (!str) return str;\n\tlet limit;\n\tif (key === \"symbol\") limit = 6;\n\tif (key === \"name\") limit = 64;\n\tif (key === \"choice\") limit = 12;\n\tif (limit) return str.length > limit ? `${str.slice(0, limit).trim()}...` : str;\n\treturn shorten(str);\n}\n","import { Interface } from \"@ethersproject/abi\";\nimport ERC20_ABI from \"./erc20.json\";\nimport ERC20_BYTES32_ABI from \"./erc20_bytes32.json\";\n\nconst ERC20_INTERFACE = new Interface(ERC20_ABI);\n\nconst ERC20_BYTES32_INTERFACE = new Interface(ERC20_BYTES32_ABI);\n\nexport default ERC20_INTERFACE;\nexport { ERC20_ABI, ERC20_BYTES32_INTERFACE, ERC20_BYTES32_ABI };\n","import { useEffect, useRef } from \"react\";\n\n// modified from https://usehooks.com/usePrevious/\nexport default function usePrevious<T>(value: T) {\n\t// The ref object is a generic container whose current property is mutable ...\n\t// ... and can hold any value, similar to an instance property on a class\n\tconst ref = useRef<T>();\n\n\t// Store current value in ref\n\tuseEffect(() => {\n\t\tref.current = value;\n\t}, [value]); // Only re-run if value changes\n\n\t// Return previous value (happens before update in useEffect above)\n\treturn ref.current;\n}\n","import { createAction } from \"@reduxjs/toolkit\";\n\nimport Governance from \"../../http/governance\";\nimport { formatProposals } from \"./hooks\";\nconst api = new Governance();\n\nexport const setLoading = createAction(\"governance/loading\", (value) => {\n\treturn {\n\t\tpayload: {\n\t\t\tvalue,\n\t\t},\n\t};\n});\n\nexport const setSpaces = createAction(\"governance/spaces\", (spaces) => {\n\treturn {\n\t\tpayload: {\n\t\t\tspaces,\n\t\t},\n\t};\n});\n\nexport const setProposals = createAction(\"governance/proposals\", (proposals, id) => {\n\treturn {\n\t\tpayload: {\n\t\t\tproposals,\n\t\t\tid,\n\t\t},\n\t};\n});\n\nexport const fetchSpaces = () => {\n\treturn async (dispatch) => {\n\t\tdispatch(setLoading(true));\n\t\ttry {\n\t\t\tconst res = await api.get(\"spaces\");\n\t\t\tdispatch(setSpaces(res));\n\t\t\tdispatch(setLoading(false));\n\t\t} catch (error) {\n\t\t\tdispatch(setLoading(false));\n\t\t}\n\t};\n};\n\nexport const fetchProposals = (id) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setLoading(true));\n\t\ttry {\n\t\t\tlet proposals = await api.get(\"proposals\", { id });\n\t\t\tdispatch(setProposals(formatProposals(proposals), id));\n\t\t\tdispatch(setLoading(false));\n\t\t} catch (error) {\n\t\t\tdispatch(setLoading(false));\n\t\t}\n\t};\n};\n","import { assetDataUtils } from \"@0x/order-utils\";\nimport { AssetProxyId } from \"@0x/types\";\n\nimport ConfigIEO from \"../constants/spot-config/mainnet/config-ieo.json\";\nimport Config from \"../constants/spot-config/mainnet/config.json\";\nimport { getTokenByAddress } from \"./spot/tokens\";\nimport { getContract, isAddress } from \"./index\";\nimport { ERC20_ABI } from \"../constants\";\n\nimport {\n\tgetWethTokenFromTokensMetaDataByNetworkId,\n\tmapTokensMetaDataFromForm,\n\tmapTokensMetaDataToTokenByNetworkId,\n} from \"./spot/tokenMetadata\";\nimport { mapTokensIEOMetaDataToTokenByNetworkId } from \"./spot/tokenIEOMetadata\";\n\nexport class KnownTokens {\n\t_tokens = [];\n\t_tokensIEO = [];\n\t_wethToken;\n\n\tconstructor(knownTokensMetadata) {\n\t\tthis._tokens = mapTokensMetaDataToTokenByNetworkId(knownTokensMetadata).filter(\n\t\t\t(token) => !isWeth(token.symbol)\n\t\t);\n\t\tthis._tokensIEO = mapTokensIEOMetaDataToTokenByNetworkId(ConfigIEO.tokens).filter(\n\t\t\t(token) => !isWeth(token.symbol)\n\t\t);\n\t\tthis._wethToken = getWethTokenFromTokensMetaDataByNetworkId(knownTokensMetadata);\n\t}\n\tupdateTokens = (knownTokensMetadata) => {\n\t\tthis._tokens = mapTokensMetaDataFromForm(knownTokensMetadata).filter((token) => !isWeth(token.symbol));\n\t};\n\n\tgetTokenBySymbol = (symbol) => {\n\t\tconst symbolInLowerCaseScore = symbol.toLowerCase();\n\t\tlet token = this._tokens.find((t) => t.symbol === symbolInLowerCaseScore);\n\t\tif (!token) {\n\t\t\tif (symbolInLowerCaseScore === \"weth\") {\n\t\t\t\treturn this.getWethToken();\n\t\t\t}\n\t\t}\n\t\tif (!token) {\n\t\t\ttoken = this._tokensIEO.find((t) => t.symbol === symbolInLowerCaseScore);\n\t\t}\n\t\tif (!token) {\n\t\t\tconst errorMessage = `Token with symbol ${symbol} not found in known tokens`;\n\t\t\tthrow new Error(errorMessage);\n\t\t}\n\t\treturn token;\n\t};\n\n\tgetTokenByAddress = (address) => {\n\t\tconst addressInLowerCase = address.toLowerCase();\n\t\tlet token = this._tokens.find((t) => t.address.toLowerCase() === addressInLowerCase);\n\t\tif (!token) {\n\t\t\t// If it's not on the tokens list, we check if it's an wETH token\n\t\t\t// TODO - Maybe the this._tokens could be refactored to also have wETH inside\n\t\t\ttoken = this._wethToken.address === address ? this._wethToken : undefined;\n\t\t}\n\t\tif (!token) {\n\t\t\ttoken = this._tokensIEO.find((t) => t.address.toLowerCase() === addressInLowerCase);\n\t\t}\n\t\tif (!token) {\n\t\t\tthrow new Error(`Token with address ${address} not found in known tokens`);\n\t\t}\n\t\treturn token;\n\t};\n\n\tgetTokenIEOByAddress = (address) => {\n\t\tconst addressInLowerCase = address.toLowerCase();\n\t\tconst token = this._tokensIEO.find((t) => t.address.toLowerCase() === addressInLowerCase);\n\t\tif (!token) {\n\t\t\tthrow new Error(`Token with address ${address} not found in known tokens`);\n\t\t}\n\t\treturn token;\n\t};\n\n\tgetTokenByAssetData = (assetData) => {\n\t\tconst tokenAddress = assetDataUtils.decodeAssetDataOrThrow(assetData).tokenAddress;\n\t\treturn this.getTokenByAddress(tokenAddress);\n\t};\n\n\tisKnownAddress = (address) => {\n\t\ttry {\n\t\t\tthis.getTokenByAddress(address);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tisKnownSymbol = (symbol) => {\n\t\ttry {\n\t\t\tthis.getTokenBySymbol(symbol);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tisIEOKnownAddress = (address) => {\n\t\ttry {\n\t\t\tthis.getTokenIEOByAddress(address);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\t/**\n\t * Checks if a Fill event is valid.\n\t *\n\t * A Fill event is considered valid if the order involves two ERC20 tokens whose addresses we know.\n\t *\n\t */\n\tisValidFillEvent = (fillEvent) => {\n\t\tconst { makerAssetData, takerAssetData } = fillEvent.args;\n\n\t\tif (!isERC20AssetData(makerAssetData) || !isERC20AssetData(takerAssetData)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst makerAssetAddress = assetDataUtils.decodeAssetDataOrThrow(makerAssetData).tokenAddress;\n\t\tconst takerAssetAddress = assetDataUtils.decodeAssetDataOrThrow(takerAssetData).tokenAddress;\n\n\t\tif (!this.isKnownAddress(makerAssetAddress) || !this.isKnownAddress(takerAssetAddress)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\tgetTokenByName = (name) => {\n\t\tconst nameInLowerCaseScore = name.toLowerCase();\n\t\tlet token = this._tokens.find((t) => t.name.toLowerCase() === nameInLowerCaseScore);\n\t\tif (!token) {\n\t\t\ttoken = this._tokensIEO.find((t) => t.name.toLowerCase() === nameInLowerCaseScore);\n\t\t}\n\t\tif (!token) {\n\t\t\tthrow new Error(`Token with name ${name} not found in known tokens`);\n\t\t}\n\t\treturn token;\n\t};\n\n\tgetWethToken = () => {\n\t\treturn this._wethToken;\n\t};\n\n\tgetTokens = () => {\n\t\treturn this._tokens;\n\t};\n\tfindToken = (data) => {\n\t\tif (!data) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.isKnownSymbol(data)) {\n\t\t\treturn this.getTokenBySymbol(data);\n\t\t}\n\n\t\tif (this.isKnownAddress(data)) {\n\t\t\treturn this.getTokenByAddress(data);\n\t\t}\n\t\treturn null;\n\t};\n\t/**\n\t * Try to find token, if not exists in current list it will try to\n\t * fetch it\n\t */\n\tfindTokenOrFetchIt = async (data, library, account) => {\n\t\tif (!data) {\n\t\t\treturn null;\n\t\t}\n\t\tlet token = this.findToken(data);\n\t\tif (token) {\n\t\t\treturn token;\n\t\t} else {\n\t\t\tif (isAddress(data)) {\n\t\t\t\ttoken = await this._fetchTokenMetadata(data, library, account);\n\t\t\t\tif (token) {\n\t\t\t\t\treturn token;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\tpushToken = (token) => {\n\t\tthis._tokens.push(token);\n\t};\n\tpushTokenIEO = (token) => {\n\t\tthis._tokensIEO.push(token);\n\t};\n\t// Could be address or symbol\n\taddTokenByAddress = async (data, library, account) => {\n\t\tif (this.isKnownSymbol(data) || this.isKnownAddress(data)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (isAddress(data)) {\n\t\t\tconst token = await this._fetchTokenMetadata(data, library, account);\n\t\t\tif (token) {\n\t\t\t\tthis._tokens.push(token);\n\t\t\t\treturn token;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * Adds metadata from Coingecko\n\t */\n\tfetchTokenMetadaFromGecko = async (token, library, account) => {\n\t\ttry {\n\t\t\tconst tokenData = await getTokenByAddress(token.address.toLowerCase(), library, account);\n\t\t\tconst thumbImage = tokenData.image.thumb;\n\t\t\tlet t;\n\t\t\tt = {\n\t\t\t\t...token,\n\t\t\t\tc_id: tokenData.id,\n\t\t\t\ticon: thumbImage.substring(0, thumbImage.indexOf(\"?\")),\n\t\t\t\tdisplayDecimals: 2,\n\t\t\t\tminAmount: 0,\n\t\t\t};\n\t\t\treturn t;\n\t\t} catch (e) {\n\t\t\treturn token;\n\t\t}\n\t};\n\n\t_fetchTokenMetadata = async (address, library, account) => {\n\t\ttry {\n\t\t\tlet token = await getTokenMetadaDataFromContract(address, library, account);\n\t\t\tif (!token) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconst tokenData = await getTokenByAddress(address.toLowerCase());\n\t\t\t\tconst thumbImage = tokenData.image.thumb;\n\t\t\t\ttoken = {\n\t\t\t\t\t...token,\n\t\t\t\t\tc_id: tokenData.id,\n\t\t\t\t\ticon: thumbImage.substring(0, thumbImage.indexOf(\"?\")),\n\t\t\t\t\tdisplayDecimals: 2,\n\t\t\t\t\tminAmount: 0,\n\t\t\t\t};\n\t\t\t\treturn token;\n\t\t\t} catch (e) {\n\t\t\t\treturn token;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn null;\n\t\t}\n\t};\n}\n\nlet knownTokens;\nexport const getKnownTokens = (knownTokensMetadata = Config.tokens) => {\n\tif (!knownTokens) {\n\t\tknownTokens = new KnownTokens(knownTokensMetadata);\n\t}\n\treturn knownTokens;\n};\n\nexport const getTokenMetadaDataFromContract = async (address, library, account = undefined) => {\n\ttry {\n\t\tconst contract = await getContract(address.toLowerCase(), ERC20_ABI, library, account);\n\t\tconst name = await contract.name().callAsync();\n\t\tconst symbol = (await contract.symbol().callAsync()).toLowerCase();\n\t\tconst decimals = Number(await contract.decimals().callAsync());\n\t\tconst token = {\n\t\t\taddress: address.toLowerCase(),\n\t\t\tdecimals,\n\t\t\tname,\n\t\t\tsymbol,\n\t\t\tprimaryColor: \"#081e6e\",\n\t\t\tdisplayDecimals: 2,\n\t\t\tminAmount: 0,\n\t\t\tlisted: false,\n\t\t\tisStableCoin: false,\n\t\t};\n\t\treturn token;\n\t} catch (e) {\n\t\treturn null;\n\t}\n};\n\nexport const isERC20AssetData = (assetData) => {\n\ttry {\n\t\tconst asset = assetDataUtils.decodeAssetDataOrThrow(assetData);\n\t\tif (asset.assetProxyId === AssetProxyId.ERC20) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nexport const isZrx = (token) => {\n\treturn token === \"zrx\";\n};\n\nexport const isWeth = (token) => {\n\treturn token === \"weth\";\n};\n\nexport const isWhackd = (token) => {\n\treturn token === \"whackd\";\n};\n\nexport const isWethToken = (token) => {\n\tif (token.symbol.toLowerCase() === \"weth\") {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const getWethAssetData = () => {\n\tconst known_tokens = getKnownTokens();\n\tconst wethToken = known_tokens.getWethToken();\n\treturn assetDataUtils.encodeERC20AssetData(wethToken.address).toLowerCase();\n};\n","import { NETWORK_ID, UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION, Network } from \"../../constants\";\n\nexport const getWethTokenFromTokensMetaDataByNetworkId = (tokensMetaData) => {\n\tconst tokenMetaData = tokensMetaData.find((t) => t.symbol === \"weth\");\n\tif (!tokenMetaData) {\n\t\tthrow new Error(\"WETH Token MetaData not found\");\n\t}\n\treturn {\n\t\taddress: tokenMetaData.addresses[NETWORK_ID],\n\t\tsymbol: tokenMetaData.symbol,\n\t\tdecimals: tokenMetaData.decimals,\n\t\tname: tokenMetaData.name,\n\t\tprimaryColor: tokenMetaData.primaryColor,\n\t\ticon: tokenMetaData.icon,\n\t\tdisplayDecimals:\n\t\t\ttokenMetaData.displayDecimals !== undefined\n\t\t\t\t? Number(tokenMetaData.displayDecimals)\n\t\t\t\t: UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION,\n\t\tid: tokenMetaData.id || undefined,\n\t\tc_id: tokenMetaData.c_id || undefined,\n\t\tminAmount: tokenMetaData.minAmount || 0,\n\t\tmaxAmount: tokenMetaData.maxAmount || undefined,\n\t\tprecision:\n\t\t\ttokenMetaData.precision !== undefined ? tokenMetaData.precision : UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION,\n\t\twebsite: tokenMetaData.website || undefined,\n\t\tdescription: tokenMetaData.description || undefined,\n\t\tverisafe_sticker: undefined,\n\t\tlisted: true,\n\t\tisStableCoin: tokenMetaData.isStableCoin ? true : false,\n\t};\n};\n\nexport const mapTokensMetaDataToTokenByNetworkId = (tokensMetaData) => {\n\treturn tokensMetaData\n\t\t.filter((tokenMetaData) => tokenMetaData.addresses[NETWORK_ID])\n\t\t.map((tokenMetaData) => {\n\t\t\tlet address = tokenMetaData.addresses[NETWORK_ID];\n\t\t\tif (NETWORK_ID === Network.Mainnet) {\n\t\t\t\tif (tokenMetaData.mainnetAddress) {\n\t\t\t\t\taddress = tokenMetaData.mainnetAddress;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\taddress,\n\t\t\t\tsymbol: tokenMetaData.symbol,\n\t\t\t\tdecimals: tokenMetaData.decimals,\n\t\t\t\tname: tokenMetaData.name,\n\t\t\t\tprimaryColor: tokenMetaData.primaryColor,\n\t\t\t\ticon: tokenMetaData.icon,\n\t\t\t\tdisplayDecimals:\n\t\t\t\t\ttokenMetaData.displayDecimals !== undefined\n\t\t\t\t\t\t? Number(tokenMetaData.displayDecimals)\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION,\n\t\t\t\tid: tokenMetaData.id || undefined,\n\t\t\t\tc_id: tokenMetaData.c_id || undefined,\n\t\t\t\tminAmount: tokenMetaData.minAmount || 0,\n\t\t\t\tmaxAmount: tokenMetaData.maxAmount || undefined,\n\t\t\t\tprecision:\n\t\t\t\t\ttokenMetaData.precision !== undefined\n\t\t\t\t\t\t? tokenMetaData.precision\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION,\n\t\t\t\twebsite: tokenMetaData.website || undefined,\n\t\t\t\tdescription: tokenMetaData.description || undefined,\n\t\t\t\tverisafe_sticker: tokenMetaData.verisafe_sticker || undefined,\n\t\t\t\tlisted: true,\n\t\t\t\tisStableCoin: tokenMetaData.isStableCoin ? true : false,\n\t\t\t};\n\t\t});\n};\n\nexport const mapTokensMetaDataFromForm = (tokensMetaData) => {\n\treturn tokensMetaData\n\t\t.filter((tokenMetaData) => tokenMetaData.mainnetAddress)\n\t\t.map((tokenMetaData) => {\n\t\t\treturn {\n\t\t\t\taddress: tokenMetaData.mainnetAddress || \"\",\n\t\t\t\tsymbol: tokenMetaData.symbol,\n\t\t\t\tdecimals: Number(tokenMetaData.decimals),\n\t\t\t\tname: tokenMetaData.name,\n\t\t\t\tprimaryColor: tokenMetaData.primaryColor,\n\t\t\t\ticon: tokenMetaData.icon,\n\t\t\t\tdisplayDecimals:\n\t\t\t\t\ttokenMetaData.displayDecimals !== undefined\n\t\t\t\t\t\t? Number(tokenMetaData.displayDecimals)\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION,\n\t\t\t\tid: tokenMetaData.id || undefined,\n\t\t\t\tc_id: tokenMetaData.c_id || undefined,\n\t\t\t\tminAmount: Number(tokenMetaData.minAmount) || 0,\n\t\t\t\tmaxAmount: Number(tokenMetaData.maxAmount) || undefined,\n\t\t\t\tprecision:\n\t\t\t\t\ttokenMetaData.precision !== undefined\n\t\t\t\t\t\t? Number(tokenMetaData.precision)\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION,\n\t\t\t\twebsite: tokenMetaData.website || undefined,\n\t\t\t\tdescription: tokenMetaData.description || undefined,\n\t\t\t\tverisafe_sticker: tokenMetaData.verisafe_sticker || undefined,\n\t\t\t\tlisted: true,\n\t\t\t\tisStableCoin: tokenMetaData.isStableCoin ? true : false,\n\t\t\t};\n\t\t});\n};\n","import { NETWORK_ID, UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION } from \"../../constants\";\n\nexport const mapTokensIEOMetaDataToTokenByNetworkId = (tokensMetaData) => {\n\treturn tokensMetaData\n\t\t.filter((tokenMetaData) => tokenMetaData.addresses[NETWORK_ID])\n\t\t.map((tokenMetaData) => {\n\t\t\treturn {\n\t\t\t\taddress: tokenMetaData.addresses[NETWORK_ID],\n\t\t\t\tsymbol: tokenMetaData.symbol,\n\t\t\t\tdecimals: tokenMetaData.decimals,\n\t\t\t\tname: tokenMetaData.name,\n\t\t\t\tprimaryColor: tokenMetaData.primaryColor,\n\t\t\t\ticon: tokenMetaData.icon,\n\t\t\t\tdisplayDecimals:\n\t\t\t\t\ttokenMetaData.displayDecimals !== undefined\n\t\t\t\t\t\t? tokenMetaData.displayDecimals\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION,\n\t\t\t\tid: tokenMetaData.id || undefined,\n\t\t\t\tc_id: tokenMetaData.c_id || undefined,\n\t\t\t\tminAmount: tokenMetaData.minAmount || 0,\n\t\t\t\tmaxAmount: tokenMetaData.maxAmount || undefined,\n\t\t\t\tprecision:\n\t\t\t\t\ttokenMetaData.precision !== undefined\n\t\t\t\t\t\t? tokenMetaData.precision\n\t\t\t\t\t\t: UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION,\n\t\t\t\twebsite: tokenMetaData.website || undefined,\n\t\t\t\tdescription: tokenMetaData.description || undefined,\n\t\t\t\tverisafe_sticker: tokenMetaData.verisafe_sticker || undefined,\n\t\t\t\towners: tokenMetaData.owners || [],\n\t\t\t\tsocial: {\n\t\t\t\t\tfacebook_url: (tokenMetaData.social && tokenMetaData.social.facebook_url) || undefined,\n\t\t\t\t\treddit_url: (tokenMetaData.social && tokenMetaData.social.reddit_url) || undefined,\n\t\t\t\t\ttwitter_url: (tokenMetaData.social && tokenMetaData.social.twitter_url) || undefined,\n\t\t\t\t\ttelegram_url: (tokenMetaData.social && tokenMetaData.social.telegram_url) || undefined,\n\t\t\t\t\tdiscord_url: (tokenMetaData.social && tokenMetaData.social.discord_url) || undefined,\n\t\t\t\t\tbitcointalk_url: (tokenMetaData.social && tokenMetaData.social.bitcointalk_url) || undefined,\n\t\t\t\t\tyoutube_url: (tokenMetaData.social && tokenMetaData.social.youtube_url) || undefined,\n\t\t\t\t\tmedium_url: (tokenMetaData.social && tokenMetaData.social.medium_url) || undefined,\n\t\t\t\t},\n\t\t\t\tfeePercentage: tokenMetaData.feePercentage || undefined,\n\t\t\t\tendDate: tokenMetaData.endDate || undefined,\n\t\t\t\tlisted: true,\n\t\t\t\tisStableCoin: false,\n\t\t\t};\n\t\t});\n};\n","import axios from \"axios\";\nimport moment from \"moment\";\nimport Web3 from \"web3\";\n\nimport { marketCoins, PROXY_URL } from \"../constants\";\nimport ChainLinkABI from \"../constants/abis/chainlinkABI.json\";\n\nexport default class MarketApi {\n\tconstructor() {\n\t\tthis.ids = marketCoins.map((coin) => {\n\t\t\treturn coin.id;\n\t\t});\n\t\tthis.baseURL = \"https://api.coingecko.com/api/v3\";\n\t}\n\n\tget(type, payload = null) {\n\t\tswitch (type) {\n\t\t\tcase \"marketCoins\": {\n\t\t\t\treturn this.fetchMarketCoins(payload);\n\t\t\t}\n\t\t\tcase \"all\": {\n\t\t\t\treturn this.fetchAllCoins(payload);\n\t\t\t}\n\t\t\tcase \"selected\": {\n\t\t\t\treturn this.fetchSelectedCoin(payload);\n\t\t\t}\n\t\t\tcase \"selectedContract\": {\n\t\t\t\treturn this.fetchSelectedContract(payload);\n\t\t\t}\n\t\t\tcase \"historical\": {\n\t\t\t\treturn this.fetchCoinHistorical(payload);\n\t\t\t}\n\t\t\tcase \"allHistorical\": {\n\t\t\t\treturn this.fetchHistorical(payload);\n\t\t\t}\n\t\t\tcase \"historicalContract\": {\n\t\t\t\treturn this.fetchContractHistorical(payload);\n\t\t\t}\n\t\t\tcase \"allHistoricalContract\": {\n\t\t\t\treturn this.fetchHistoricalContract(payload);\n\t\t\t}\n\t\t\tcase \"global\": {\n\t\t\t\treturn this.fetchGlobalData(payload);\n\t\t\t}\n\t\t\tcase \"single\": {\n\t\t\t\treturn this.fetchSinglePrice(payload);\n\t\t\t}\n\t\t\tcase \"search\": {\n\t\t\t\treturn this.fetchSearch(payload);\n\t\t\t}\n\t\t\tcase \"searchedCoins\": {\n\t\t\t\treturn this.fetchSearchedCoins(payload);\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\tresolve(null);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfetchSearch(payload) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(`${this.baseURL}/search?locale=${payload.locale}&query=${payload.query}`);\n\t\t\t\tresolve(res.data?.coins);\n\t\t\t} catch (e) {\n\t\t\t\treject(e);\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchSearchedCoins(payload) {\n\t\treturn axios.get(\n\t\t\t`${\n\t\t\t\tthis.baseURL\n\t\t\t}/coins/markets?vs_currency=USD&price_change_percentage=1h,24h,7d,30d,60d,200d,1y&ids=${payload.ids.join(\n\t\t\t\t\",\"\n\t\t\t)}&sparkline=true&per_page=${payload.pageSize || 10}&page=${payload.page || 1}`\n\t\t);\n\t}\n\n\tfetchMarketCoins() {\n\t\treturn axios.get(\n\t\t\t`${\n\t\t\t\tthis.baseURL\n\t\t\t}/coins/markets?vs_currency=USD&price_change_percentage=1h,24h,7d,30d,60d,200d,1y&ids=${this.ids.join(\n\t\t\t\t\",\"\n\t\t\t)}&sparkline=true`\n\t\t);\n\t}\n\n\tfetchGlobalData() {\n\t\treturn axios.get(`${this.baseURL}/global`);\n\t}\n\n\tfetchAllCoins(payload) {\n\t\treturn axios.get(\n\t\t\t`${this.baseURL}/coins/markets?vs_currency=USD&price_change_percentage=1h,24h,7d,30d,60d,200d,1y&per_page=${payload.pageSize}&page=${payload.page}&sparkline=true`\n\t\t);\n\t}\n\n\tfetchSelectedCoin(payload) {\n\t\treturn axios.get(`${this.baseURL}/coins/${payload.id}`);\n\t}\n\n\tfetchSelectedContract(payload) {\n\t\treturn axios.get(`${this.baseURL}/coins/ethereum/contract/${payload.address}`);\n\t}\n\n\tfetchCoinHistorical(payload) {\n\t\treturn axios.get(`${this.baseURL}/coins/${payload.id}/market_chart?vs_currency=USD&days=${payload.days}`);\n\t}\n\n\tasync fetchHistorical(payload) {\n\t\tconst days = [1, 7, 30, 365];\n\t\ttry {\n\t\t\tconst res = await Promise.all(\n\t\t\t\tdays.map((day) =>\n\t\t\t\t\tthis.fetchCoinHistorical({\n\t\t\t\t\t\tid: payload.id,\n\t\t\t\t\t\tdays: day,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t);\n\n\t\t\tconst result = {};\n\t\t\tfor (let i in days) {\n\t\t\t\tresult[days[i]] = res[i].data;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t} catch (e) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tfetchContractHistorical(payload) {\n\t\treturn axios.get(\n\t\t\t`${this.baseURL}/coins/ethereum/contract/${payload.address}/market_chart?vs_currency=USD&days=${payload.days}`\n\t\t);\n\t}\n\n\tasync fetchHistoricalContract(payload) {\n\t\tconst days = [1, 7, 30, 365];\n\t\ttry {\n\t\t\tconst res = await Promise.all(\n\t\t\t\tdays.map((day) =>\n\t\t\t\t\tthis.fetchContractHistorical({\n\t\t\t\t\t\taddress: payload.address,\n\t\t\t\t\t\tdays: day,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t);\n\t\t\tconst result = {};\n\t\t\tfor (let i in days) {\n\t\t\t\tresult[days[i]] = res[i].data;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t} catch (e) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tasync fetchSinglePrice(payload) {\n\t\tconst web3 = new Web3(process.env.REACT_APP_NETWORK_URL);\n\t\tconst coin = marketCoins.find((marketCoin) => marketCoin.symbol.toLowerCase() === payload.symbol.toLowerCase());\n\t\tconst links = {\n\t\t\tcoingecko: `${this.baseURL}/simple/price?ids=${coin.id}&vs_currencies=USD`,\n\t\t\tpaprika: `https://api.coinpaprika.com/v1/coins/${coin.paprikaId}/ohlcv/latest`,\n\t\t\tdiadata: `https://api.diadata.org/v1/quotation/${coin.symbol}`,\n\t\t\tchainlink: `https://etherscan.io/address/${coin.address}`,\n\t\t};\n\t\tconst result = {};\n\t\tlet coingecko, diadata, paprika, chainlinkPrice;\n\t\tlet decimals;\n\t\ttry {\n\t\t\tcoingecko = await axios.get(links.coingecko);\n\t\t\tresult.coingecko = coingecko.data[coin.id].usd;\n\t\t} catch (e) {\n\t\t\tresult.coingecko = 0;\n\t\t}\n\t\ttry {\n\t\t\tdiadata = await axios.get(links.diadata);\n\t\t\tresult.diadata = Number(diadata.data.Price);\n\t\t} catch (e) {\n\t\t\tresult.diadata = 0;\n\t\t}\n\t\ttry {\n\t\t\tpaprika = await axios.get(links.paprika);\n\t\t\tresult.paprika = paprika.data[0].close;\n\t\t} catch (e) {\n\t\t\tresult.paprika = 0;\n\t\t}\n\t\ttry {\n\t\t\tconst priceFeed = new web3.eth.Contract(ChainLinkABI, coin.address);\n\t\t\tdecimals = await priceFeed.methods.decimals().call();\n\t\t\tchainlinkPrice = await priceFeed.methods.latestRoundData().call();\n\t\t\tresult.chainlink = chainlinkPrice.answer / 10 ** decimals;\n\t\t} catch (e) {\n\t\t\tresult.chainlink = 0;\n\t\t}\n\n\t\treturn {\n\t\t\tresult,\n\t\t\tlinks,\n\t\t};\n\t}\n}\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport enum Field {\n\tINPUT = \"INPUT\",\n\tOUTPUT = \"OUTPUT\",\n}\n\nexport const selectCurrency = createAction<{ field: Field; currencyId: string }>(\"swap/selectCurrency\");\nexport const switchCurrencies = createAction<void>(\"swap/switchCurrencies\");\nexport const typeInput = createAction<{ field: Field; typedValue: string }>(\"swap/typeInput\");\nexport const replaceSwapState = createAction<{\n\tfield: Field;\n\ttypedValue: string;\n\tinputCurrencyId?: string;\n\toutputCurrencyId?: string;\n\trecipient: string | null;\n}>(\"swap/replaceSwapState\");\nexport const setRecipient = createAction<{ recipient: string | null }>(\"swap/setRecipient\");\n","import { createSelector } from \"@reduxjs/toolkit\";\nimport { BigNumber } from \"@0x/utils\";\n\nimport {\n\tgetLastPrice,\n\tgetTodayClosedOrdersFromFills,\n\tgetTodayHighPriceFromFills,\n\tgetTodayLowerPriceFromFills,\n\tmarketToString,\n} from \"../utils/spot/market\";\nimport { OrderSide, USE_RELAYER_MARKET_UPDATES, ZERO } from \"../constants\";\nimport { OrderStatus } from \"@0x/types\";\nimport { mergeByPrice } from \"../utils/spot/uiOrders\";\nimport { isWeth } from \"../utils/known_tokens\";\n\nexport const getGasInfo = (state) => state.currency.gasInfo;\nexport const getMarketStats = (state) => state.spot.marketStats;\nexport const getCurrencyPair = (state) => state.spot.currencyPair;\nexport const getEthInUsd = (state) => state.spot.ethInUsd;\nexport const getBaseToken = (state) => state.spot.baseToken;\nexport const getOrderPriceSelected = (state) => state.spotUI.orderPriceSelected;\nexport const getMakerAmountSelected = (state) => state.spotUI.makerAmountSelected;\nexport const getQuoteToken = (state) => state.spot.quoteToken;\nexport const getQuoteInUsd = (state) => state.spot.quoteInUsd;\nexport const getTokensPrice = (state) => state.market.tokensPrice;\nexport const getMarketMakerStats = (state) => state.spot.marketMakerStats;\nexport const getMarketFills = (state) => state.spotUI.marketFills;\nexport const getOrderBuyPriceSelected = (state) => state.spotUI.orderBuyPriceSelected;\nexport const getOrderSellPriceSelected = (state) => state.spotUI.orderSellPriceSelected;\nexport const getStepsModalCurrentStep = (state) => state.spotUI.stepsModal.currentStep;\nexport const getIsAffiliate = (state) => state.spotUI.isAffiliate;\nexport const getOrderSecondsExpirationTime = (state) => state.spotUI.orderSecondsExpirationTime;\nexport const getOrders = (state) => state.relayer.orders;\nexport const getUserOrders = (state) => state.relayer.userOrders;\nexport const getOrderbookState = (state) => state.relayer.orderBookState;\nexport const getFeeRecipient = (state) => state.relayer.feeRecipient;\nexport const getFeePercentage = (state) => state.relayer.feePercentage;\nexport const getMinOrderExpireTimeOnBooks = (state) => state.relayer.minOrderExpireTimeOnBooks;\nexport const getDefiProtocol = (state) => state.aave.protocol;\nexport const getATokensData = (state) => state.aave.aTokensData;\nexport const getAaveCurrency = (state) => state.aave.currency;\nexport const getAaveLoadingState = (state) => state.aave.aaveLoadingState;\nexport const getAaveReservesGQLResponse = (state) => state.aave.aaveReservesGQLResponse;\nexport const getAaveUserAccountData = (state) => state.aave.userAccountData;\n\n// Current market\nexport const getCurrentMarketFills = createSelector(getMarketFills, getCurrencyPair, (marketFills, currencyPair) => {\n\tconst pair = marketToString(currencyPair);\n\treturn marketFills[pair] ? marketFills[pair] : [];\n});\n\nexport const getCurrentMarketTodayHighPrice = USE_RELAYER_MARKET_UPDATES\n\t? createSelector(getMarketStats, (stats) => {\n\t\t\tif (stats) {\n\t\t\t\treturn new BigNumber(stats.price_max_24);\n\t\t\t} else {\n\t\t\t\treturn new BigNumber(0);\n\t\t\t}\n\t  })\n\t: createSelector(getCurrentMarketFills, (marketFills) => {\n\t\t\treturn getTodayHighPriceFromFills(marketFills);\n\t  });\n\nexport const getCurrentMarketTodayLowerPrice = USE_RELAYER_MARKET_UPDATES\n\t? createSelector(getMarketStats, (stats) => {\n\t\t\tif (stats) {\n\t\t\t\treturn new BigNumber(stats.price_min_24);\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t  })\n\t: createSelector(getCurrentMarketFills, (marketFills) => {\n\t\t\treturn getTodayLowerPriceFromFills(marketFills);\n\t  });\n\nexport const getCurrentMarketTodayQuoteVolume = USE_RELAYER_MARKET_UPDATES\n\t? createSelector(getMarketStats, (stats) => {\n\t\t\tif (stats) {\n\t\t\t\treturn new BigNumber(stats.quote_volume_24);\n\t\t\t} else {\n\t\t\t\treturn new BigNumber(0);\n\t\t\t}\n\t  })\n\t: createSelector(getCurrentMarketFills, () => {\n\t\t\treturn new BigNumber(0);\n\t  });\n\nexport const getCurrentMarketTodayClosedOrders = USE_RELAYER_MARKET_UPDATES\n\t? createSelector(getMarketStats, (stats) => {\n\t\t\tif (stats) {\n\t\t\t\treturn stats.total_orders;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t  })\n\t: createSelector(getCurrentMarketFills, (marketFills) => {\n\t\t\treturn getTodayClosedOrdersFromFills(marketFills);\n\t  });\n\nexport const getCurrentMarketLastPrice = USE_RELAYER_MARKET_UPDATES\n\t? createSelector(getMarketStats, (stats) => {\n\t\t\tif (stats) {\n\t\t\t\treturn stats.last_price;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t  })\n\t: createSelector(getCurrentMarketFills, (marketFills) => {\n\t\t\treturn getLastPrice(marketFills);\n\t  });\n\n// Orderbook\n\nexport const getOpenOrders = createSelector(getOrders, (orders) => {\n\treturn orders.filter((order) => order.status === OrderStatus.Fillable);\n});\n\nexport const getOpenBuyOrders = createSelector(getOpenOrders, (orders) => {\n\treturn orders.filter((order) => order.side === OrderSide.Buy).sort((o1, o2) => o2.price.comparedTo(o1.price));\n});\n\nexport const getOpenSellOrders = createSelector(getOpenOrders, (orders) => {\n\treturn orders.filter((order) => order.side === OrderSide.Sell).sort((o1, o2) => o2.price.comparedTo(o1.price));\n});\n\nexport const getMySizeOrders = createSelector(getUserOrders, (userOrders) => {\n\treturn userOrders\n\t\t.filter((userOrder) => userOrder.status === OrderStatus.Fillable)\n\t\t.map((order) => {\n\t\t\tlet newSize = order.size;\n\t\t\tif (order.filled) {\n\t\t\t\tnewSize = order.size.minus(order.filled);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tsize: newSize,\n\t\t\t\tside: order.side,\n\t\t\t\tprice: order.price,\n\t\t\t};\n\t\t});\n});\n\nexport const getOrderBook = createSelector(\n\tgetOpenSellOrders,\n\tgetOpenBuyOrders,\n\tgetMySizeOrders,\n\tgetCurrencyPair,\n\t(sellOrders, buyOrders, mySizeOrders, currencyPair) => {\n\t\tconst orderBook = {\n\t\t\tsellOrders: mergeByPrice(sellOrders, currencyPair.config.pricePrecision),\n\t\t\tbuyOrders: mergeByPrice(buyOrders, currencyPair.config.pricePrecision),\n\t\t\tmySizeOrders,\n\t\t};\n\t\treturn orderBook;\n\t}\n);\n\nexport const getSpread = createSelector(getOpenBuyOrders, getOpenSellOrders, (buyOrders, sellOrders) => {\n\tif (!buyOrders.length || !sellOrders.length) {\n\t\treturn ZERO;\n\t}\n\n\tconst lowestPriceSell = sellOrders[sellOrders.length - 1].price;\n\tconst highestPriceBuy = buyOrders[0].price;\n\n\treturn lowestPriceSell.minus(highestPriceBuy);\n});\n\nexport const getSpreadInPercentage = createSelector(getSpread, getOpenSellOrders, (absSpread, sellOrders) => {\n\tif (!sellOrders.length) {\n\t\treturn ZERO;\n\t}\n\n\tconst lowestPriceSell = sellOrders[sellOrders.length - 1].price;\n\treturn absSpread.dividedBy(lowestPriceSell).multipliedBy(100);\n});\n\nexport const getTotalQuoteBuyOrders = createSelector(getOpenBuyOrders, (orders) => {\n\treturn orders.length > 0\n\t\t? orders\n\t\t\t\t.map((o) => o.rawOrder.makerAssetAmount.minus(new BigNumber(o.filled || 0).multipliedBy(o.price)))\n\t\t\t\t.reduce((p, c) => p.plus(c))\n\t\t: new BigNumber(0);\n});\n\nexport const getTotalBaseSellOrders = createSelector(getOpenSellOrders, (orders) => {\n\treturn orders.length > 0\n\t\t? orders.map((o) => o.size.minus(new BigNumber(o.filled || 0))).reduce((p, c) => p.plus(c))\n\t\t: new BigNumber(0);\n});\n\nexport const searchToken = ({ tokenBalances, tokenToFind, wethTokenBalance }) => {\n\tif (tokenToFind && isWeth(tokenToFind.symbol)) {\n\t\treturn wethTokenBalance;\n\t}\n\treturn (\n\t\ttokenBalances.find((tokenBalance) => tokenBalance.token.symbol === (tokenToFind && tokenToFind.symbol)) || null\n\t);\n};\n","import { namehash } from \"ethers/lib/utils\";\nimport { useMemo } from \"react\";\nimport { useSingleCallResult } from \"../state/multicall/hooks\";\nimport { isAddress } from \"../utils\";\nimport isZero from \"../utils/isZero\";\nimport { useENSRegistrarContract, useENSResolverContract } from \"./useContract\";\nimport useDebounce from \"./useDebounce\";\n\n/**\n * Does a reverse lookup for an address to find its ENS name.\n * Note this is not the same as looking up an ENS name to find an address.\n */\nexport default function useENSName(address?: string): { ENSName: string | null; loading: boolean } {\n\tconst debouncedAddress = useDebounce(address, 200);\n\tconst ensNodeArgument = useMemo(() => {\n\t\tif (!debouncedAddress || !isAddress(debouncedAddress)) return [undefined];\n\t\ttry {\n\t\t\treturn debouncedAddress\n\t\t\t\t? [namehash(`${debouncedAddress.toLowerCase().substr(2)}.addr.reverse`)]\n\t\t\t\t: [undefined];\n\t\t} catch (error) {\n\t\t\treturn [undefined];\n\t\t}\n\t}, [debouncedAddress]);\n\tconst registrarContract = useENSRegistrarContract(false);\n\tconst resolverAddress = useSingleCallResult(registrarContract, \"resolver\", ensNodeArgument);\n\tconst resolverAddressResult = resolverAddress.result?.[0];\n\tconst resolverContract = useENSResolverContract(\n\t\tresolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\n\t\tfalse\n\t);\n\tconst name = useSingleCallResult(resolverContract, \"name\", ensNodeArgument);\n\n\tconst changed = debouncedAddress !== address;\n\treturn {\n\t\tENSName: changed ? null : name.result?.[0] ?? null,\n\t\tloading: changed || resolverAddress.loading || name.loading,\n\t};\n}\n","/**\n * Given a URI that may be ipfs, ipns, http, or https protocol, return the fetch-able http(s) URLs for the same content\n * @param uri to convert to fetch-able http url\n */\nexport default function uriToHttp(uri: string): string[] {\n\tconst protocol = uri.split(\":\")[0].toLowerCase();\n\tswitch (protocol) {\n\t\tcase \"https\":\n\t\t\treturn [uri];\n\t\tcase \"http\":\n\t\t\treturn [\"https\" + uri.substr(4), uri];\n\t\tcase \"ipfs\":\n\t\t\tconst hash = uri.match(/^ipfs:(\\/\\/)?(.*)$/i)?.[2];\n\t\t\treturn [`https://cloudflare-ipfs.com/ipfs/${hash}/`, `https://ipfs.io/ipfs/${hash}/`];\n\t\tcase \"ipns\":\n\t\t\tconst name = uri.match(/^ipns:(\\/\\/)?(.*)$/i)?.[2];\n\t\t\treturn [`https://cloudflare-ipfs.com/ipns/${name}/`, `https://ipfs.io/ipns/${name}/`];\n\t\tdefault:\n\t\t\treturn [];\n\t}\n}\n","import { BLOCKED_PRICE_IMPACT_NON_EXPERT } from \"../constants\";\nimport { CurrencyAmount, Fraction, JSBI, Percent, TokenAmount, Trade } from \"@uniswap/sdk\";\nimport { ALLOWED_PRICE_IMPACT_HIGH, ALLOWED_PRICE_IMPACT_LOW, ALLOWED_PRICE_IMPACT_MEDIUM } from \"../constants\";\nimport { Field } from \"../state/swap/actions\";\nimport { basisPointsToPercent } from \"./index\";\n\nconst BASE_FEE = new Percent(JSBI.BigInt(30), JSBI.BigInt(10000));\nconst ONE_HUNDRED_PERCENT = new Percent(JSBI.BigInt(10000), JSBI.BigInt(10000));\nconst INPUT_FRACTION_AFTER_FEE = ONE_HUNDRED_PERCENT.subtract(BASE_FEE);\n\n// computes price breakdown for the trade\nexport function computeTradePriceBreakdown(\n\ttrade?: Trade\n): { priceImpactWithoutFee?: Percent; realizedLPFee?: CurrencyAmount } {\n\t// for each hop in our trade, take away the x*y=k price impact from 0.3% fees\n\t// e.g. for 3 tokens/2 hops: 1 - ((1 - .03) * (1-.03))\n\tconst realizedLPFee = !trade\n\t\t? undefined\n\t\t: ONE_HUNDRED_PERCENT.subtract(\n\t\t\t\ttrade.route.pairs.reduce<Fraction>(\n\t\t\t\t\t(currentFee: Fraction): Fraction => currentFee.multiply(INPUT_FRACTION_AFTER_FEE),\n\t\t\t\t\tONE_HUNDRED_PERCENT\n\t\t\t\t)\n\t\t  );\n\n\t// remove lp fees from price impact\n\tconst priceImpactWithoutFeeFraction =\n\t\ttrade && realizedLPFee ? trade.priceImpact.subtract(realizedLPFee) : undefined;\n\n\t// the x*y=k impact\n\tconst priceImpactWithoutFeePercent = priceImpactWithoutFeeFraction\n\t\t? new Percent(priceImpactWithoutFeeFraction?.numerator, priceImpactWithoutFeeFraction?.denominator)\n\t\t: undefined;\n\n\t// the amount of the input that accrues to LPs\n\tconst realizedLPFeeAmount =\n\t\trealizedLPFee &&\n\t\ttrade &&\n\t\t(trade.inputAmount instanceof TokenAmount\n\t\t\t? new TokenAmount(trade.inputAmount.token, realizedLPFee.multiply(trade.inputAmount.raw).quotient)\n\t\t\t: CurrencyAmount.ether(realizedLPFee.multiply(trade.inputAmount.raw).quotient));\n\n\treturn { priceImpactWithoutFee: priceImpactWithoutFeePercent, realizedLPFee: realizedLPFeeAmount };\n}\n\n// computes the minimum amount out and maximum amount in for a trade given a user specified allowed slippage in bips\nexport function computeSlippageAdjustedAmounts(\n\ttrade: Trade | undefined,\n\tallowedSlippage: number\n): { [field in Field]?: CurrencyAmount } {\n\tconst pct = basisPointsToPercent(allowedSlippage);\n\treturn {\n\t\t[Field.INPUT]: trade?.maximumAmountIn(pct),\n\t\t[Field.OUTPUT]: trade?.minimumAmountOut(pct),\n\t};\n}\n\nexport function warningSeverity(priceImpact: Percent | undefined): 0 | 1 | 2 | 3 | 4 {\n\tif (!priceImpact?.lessThan(BLOCKED_PRICE_IMPACT_NON_EXPERT)) return 4;\n\tif (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_HIGH)) return 3;\n\tif (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_MEDIUM)) return 2;\n\tif (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_LOW)) return 1;\n\treturn 0;\n}\n\nexport function formatExecutionPrice(trade?: Trade, inverted?: boolean): string {\n\tif (!trade) {\n\t\treturn \"\";\n\t}\n\treturn inverted\n\t\t? `${trade.executionPrice.invert().toSignificant(6)} ${trade.inputAmount.currency.symbol} / ${\n\t\t\t\ttrade.outputAmount.currency.symbol\n\t\t  }`\n\t\t: `${trade.executionPrice.toSignificant(6)} ${trade.outputAmount.currency.symbol} / ${\n\t\t\t\ttrade.inputAmount.currency.symbol\n\t\t  }`;\n}\n","import { TokenAmount, Pair, Currency } from \"@uniswap/sdk\";\nimport { useMemo } from \"react\";\nimport { abi as IUniswapV2PairABI } from \"@uniswap/v2-core/build/IUniswapV2Pair.json\";\nimport { Interface } from \"@ethersproject/abi\";\nimport { useActiveWeb3React } from \"../hooks\";\n\nimport { useMultipleContractSingleData } from \"../state/multicall/hooks\";\nimport { wrappedCurrency } from \"../utils/wrappedCurrency\";\n\nconst PAIR_INTERFACE = new Interface(IUniswapV2PairABI);\n\nexport enum PairState {\n\tLOADING,\n\tNOT_EXISTS,\n\tEXISTS,\n\tINVALID,\n}\n\nexport function usePairs(currencies: [Currency | undefined, Currency | undefined][]): [PairState, Pair | null][] {\n\tconst { chainId } = useActiveWeb3React();\n\n\tconst tokens = useMemo(\n\t\t() =>\n\t\t\tcurrencies.map(([currencyA, currencyB]) => [\n\t\t\t\twrappedCurrency(currencyA, chainId),\n\t\t\t\twrappedCurrency(currencyB, chainId),\n\t\t\t]),\n\t\t[chainId, currencies]\n\t);\n\n\tconst pairAddresses = useMemo(\n\t\t() =>\n\t\t\ttokens.map(([tokenA, tokenB]) => {\n\t\t\t\treturn tokenA && tokenB && !tokenA.equals(tokenB) ? Pair.getAddress(tokenA, tokenB) : undefined;\n\t\t\t}),\n\t\t[tokens]\n\t);\n\n\tconst results = useMultipleContractSingleData(pairAddresses, PAIR_INTERFACE, \"getReserves\");\n\n\treturn useMemo(() => {\n\t\treturn results.map((result, i) => {\n\t\t\tconst { result: reserves, loading } = result;\n\t\t\tconst tokenA = tokens[i][0];\n\t\t\tconst tokenB = tokens[i][1];\n\n\t\t\tif (loading) return [PairState.LOADING, null];\n\t\t\tif (!tokenA || !tokenB || tokenA.equals(tokenB)) return [PairState.INVALID, null];\n\t\t\tif (!reserves) return [PairState.NOT_EXISTS, null];\n\t\t\tconst { reserve0, reserve1 } = reserves;\n\t\t\tconst [token0, token1] = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA];\n\t\t\treturn [\n\t\t\t\tPairState.EXISTS,\n\t\t\t\tnew Pair(new TokenAmount(token0, reserve0.toString()), new TokenAmount(token1, reserve1.toString())),\n\t\t\t];\n\t\t});\n\t}, [results, tokens]);\n}\n\nexport function usePair(tokenA?: Currency, tokenB?: Currency): [PairState, Pair | null] {\n\treturn usePairs([[tokenA, tokenB]])[0];\n}\n","import { Currency, CurrencyAmount, Pair, Token, Trade } from \"@uniswap/sdk\";\nimport flatMap from \"lodash.flatmap\";\nimport { useMemo } from \"react\";\n\nimport { BASES_TO_CHECK_TRADES_AGAINST, CUSTOM_BASES } from \"../constants\";\nimport { PairState, usePairs } from \"../data/Reserves\";\nimport { wrappedCurrency } from \"../utils/wrappedCurrency\";\n\nimport { useActiveWeb3React } from \"./index\";\n\nfunction useAllCommonPairs(currencyA?: Currency, currencyB?: Currency): Pair[] {\n\tconst { chainId } = useActiveWeb3React();\n\n\tconst bases: Token[] = chainId ? BASES_TO_CHECK_TRADES_AGAINST[chainId] : [];\n\n\tconst [tokenA, tokenB] = chainId\n\t\t? [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)]\n\t\t: [undefined, undefined];\n\n\tconst basePairs: [Token, Token][] = useMemo(\n\t\t() =>\n\t\t\tflatMap(bases, (base): [Token, Token][] => bases.map((otherBase) => [base, otherBase])).filter(\n\t\t\t\t([t0, t1]) => t0.address !== t1.address\n\t\t\t),\n\t\t[bases]\n\t);\n\n\tconst allPairCombinations: [Token, Token][] = useMemo(\n\t\t() =>\n\t\t\ttokenA && tokenB\n\t\t\t\t? [\n\t\t\t\t\t\t// the direct pair\n\t\t\t\t\t\t[tokenA, tokenB],\n\t\t\t\t\t\t// token A against all bases\n\t\t\t\t\t\t...bases.map((base): [Token, Token] => [tokenA, base]),\n\t\t\t\t\t\t// token B against all bases\n\t\t\t\t\t\t...bases.map((base): [Token, Token] => [tokenB, base]),\n\t\t\t\t\t\t// each base against all bases\n\t\t\t\t\t\t...basePairs,\n\t\t\t\t  ]\n\t\t\t\t\t\t.filter((tokens): tokens is [Token, Token] => Boolean(tokens[0] && tokens[1]))\n\t\t\t\t\t\t.filter(([t0, t1]) => t0.address !== t1.address)\n\t\t\t\t\t\t.filter(([tokenA, tokenB]) => {\n\t\t\t\t\t\t\tif (!chainId) return true;\n\t\t\t\t\t\t\tconst customBases = CUSTOM_BASES[chainId];\n\t\t\t\t\t\t\tif (!customBases) return true;\n\n\t\t\t\t\t\t\tconst customBasesA: Token[] | undefined = customBases[tokenA.address];\n\t\t\t\t\t\t\tconst customBasesB: Token[] | undefined = customBases[tokenB.address];\n\n\t\t\t\t\t\t\tif (!customBasesA && !customBasesB) return true;\n\n\t\t\t\t\t\t\tif (customBasesA && !customBasesA.find((base) => tokenB.equals(base))) return false;\n\t\t\t\t\t\t\tif (customBasesB && !customBasesB.find((base) => tokenA.equals(base))) return false;\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t})\n\t\t\t\t: [],\n\t\t[tokenA, tokenB, bases, basePairs, chainId]\n\t);\n\n\tconst allPairs = usePairs(allPairCombinations);\n\n\t// only pass along valid pairs, non-duplicated pairs\n\treturn useMemo(\n\t\t() =>\n\t\t\tObject.values(\n\t\t\t\tallPairs\n\t\t\t\t\t// filter out invalid pairs\n\t\t\t\t\t.filter((result): result is [PairState.EXISTS, Pair] =>\n\t\t\t\t\t\tBoolean(result[0] === PairState.EXISTS && result[1])\n\t\t\t\t\t)\n\t\t\t\t\t// filter out duplicated pairs\n\t\t\t\t\t.reduce<{ [pairAddress: string]: Pair }>((memo, [, curr]) => {\n\t\t\t\t\t\tmemo[curr.liquidityToken.address] = memo[curr.liquidityToken.address] ?? curr;\n\t\t\t\t\t\treturn memo;\n\t\t\t\t\t}, {})\n\t\t\t),\n\t\t[allPairs]\n\t);\n}\n\n/**\n * Returns the best trade for the exact amount of tokens in to the given token out\n */\nexport function useTradeExactIn(currencyAmountIn?: CurrencyAmount, currencyOut?: Currency): Trade | null {\n\tconst allowedPairs = useAllCommonPairs(currencyAmountIn?.currency, currencyOut);\n\treturn useMemo(() => {\n\t\tif (currencyAmountIn && currencyOut && allowedPairs.length > 0) {\n\t\t\treturn (\n\t\t\t\tTrade.bestTradeExactIn(allowedPairs, currencyAmountIn, currencyOut, {\n\t\t\t\t\tmaxHops: 3,\n\t\t\t\t\tmaxNumResults: 1,\n\t\t\t\t})[0] ?? null\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}, [allowedPairs, currencyAmountIn, currencyOut]);\n}\n\n/**\n * Returns the best trade for the token in to the exact amount of token out\n */\nexport function useTradeExactOut(currencyIn?: Currency, currencyAmountOut?: CurrencyAmount): Trade | null {\n\tconst allowedPairs = useAllCommonPairs(currencyIn, currencyAmountOut?.currency);\n\n\treturn useMemo(() => {\n\t\tif (currencyIn && currencyAmountOut && allowedPairs.length > 0) {\n\t\t\treturn (\n\t\t\t\tTrade.bestTradeExactOut(allowedPairs, currencyIn, currencyAmountOut, {\n\t\t\t\t\tmaxHops: 3,\n\t\t\t\t\tmaxNumResults: 1,\n\t\t\t\t})[0] ?? null\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}, [allowedPairs, currencyIn, currencyAmountOut]);\n}\n","import useENS from \"../../hooks/useENS\";\nimport { Version } from \"../../hooks/useToggledVersion\";\nimport { parseUnits } from \"@ethersproject/units\";\nimport { Currency, CurrencyAmount, ETHER, JSBI, Token, TokenAmount, Trade } from \"@uniswap/sdk\";\nimport { ParsedQs } from \"qs\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useV1Trade } from \"../../data/V1\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useCurrency } from \"../../hooks/Tokens\";\nimport { useTradeExactIn, useTradeExactOut } from \"../../hooks/Trades\";\nimport useParsedQueryString from \"../../hooks/useParsedQueryString\";\nimport { isAddress } from \"../../utils\";\nimport { AppDispatch, AppState } from \"../index\";\nimport { useCurrencyBalances } from \"../wallet/hooks\";\nimport { Field, replaceSwapState, selectCurrency, setRecipient, switchCurrencies, typeInput } from \"./actions\";\nimport { SwapState } from \"./reducer\";\nimport useToggledVersion from \"../../hooks/useToggledVersion\";\nimport { useUserSlippageTolerance } from \"../user/hooks\";\nimport { computeSlippageAdjustedAmounts } from \"../../utils/prices\";\nimport { useTranslation } from \"react-i18next\";\n\nexport function useSwapState(): AppState[\"swap\"] {\n\treturn useSelector<AppState, AppState[\"swap\"]>((state) => state.swap);\n}\n\nexport function useSwapActionHandlers(): {\n\tonCurrencySelection: (field: Field, currency: Currency) => void;\n\tonSwitchTokens: () => void;\n\tonUserInput: (field: Field, typedValue: string) => void;\n\tonChangeRecipient: (recipient: string | null) => void;\n} {\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst onCurrencySelection = useCallback(\n\t\t(field: Field, currency: Currency) => {\n\t\t\tdispatch(\n\t\t\t\tselectCurrency({\n\t\t\t\t\tfield,\n\t\t\t\t\tcurrencyId: currency instanceof Token ? currency.address : currency === ETHER ? \"ETH\" : \"\",\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t[dispatch]\n\t);\n\n\tconst onSwitchTokens = useCallback(() => {\n\t\tdispatch(switchCurrencies());\n\t}, [dispatch]);\n\n\tconst onUserInput = useCallback(\n\t\t(field: Field, typedValue: string) => {\n\t\t\tdispatch(typeInput({ field, typedValue }));\n\t\t},\n\t\t[dispatch]\n\t);\n\n\tconst onChangeRecipient = useCallback(\n\t\t(recipient: string | null) => {\n\t\t\tdispatch(setRecipient({ recipient }));\n\t\t},\n\t\t[dispatch]\n\t);\n\n\treturn {\n\t\tonSwitchTokens,\n\t\tonCurrencySelection,\n\t\tonUserInput,\n\t\tonChangeRecipient,\n\t};\n}\n\n// try to parse a user entered amount for a given token\nexport function tryParseAmount(value?: string, currency?: Currency): CurrencyAmount | undefined {\n\tif (!value || !currency) {\n\t\treturn undefined;\n\t}\n\ttry {\n\t\tconst typedValueParsed = parseUnits(value, currency.decimals).toString();\n\t\tif (typedValueParsed !== \"0\") {\n\t\t\treturn currency instanceof Token\n\t\t\t\t? new TokenAmount(currency, JSBI.BigInt(typedValueParsed))\n\t\t\t\t: CurrencyAmount.ether(JSBI.BigInt(typedValueParsed));\n\t\t}\n\t} catch (error) {\n\t\t// should fail if the user specifies too many decimal places of precision (or maybe exceed max uint?)\n\t\tconsole.debug(`Failed to parse input amount: \"${value}\"`, error);\n\t}\n\t// necessary for all paths to return a value\n\treturn undefined;\n}\n\nconst BAD_RECIPIENT_ADDRESSES: string[] = [\n\t\"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f\", // v2 factory\n\t\"0xf164fC0Ec4E93095b804a4795bBe1e041497b92a\", // v2 router 01\n\t\"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\", // v2 router 02\n];\n\n/**\n * Returns true if any of the pairs or tokens in a trade have the given checksummed address\n * @param trade to check for the given address\n * @param checksummedAddress address to check in the pairs and tokens\n */\nfunction involvesAddress(trade: Trade, checksummedAddress: string): boolean {\n\treturn (\n\t\ttrade.route.path.some((token) => token.address === checksummedAddress) ||\n\t\ttrade.route.pairs.some((pair) => pair.liquidityToken.address === checksummedAddress)\n\t);\n}\n\n// from the current swap inputs, compute the best trade and return it.\nexport function useDerivedSwapInfo(): {\n\tcurrencies: { [field in Field]?: Currency };\n\tcurrencyBalances: { [field in Field]?: CurrencyAmount };\n\tparsedAmount: CurrencyAmount | undefined;\n\tv2Trade: Trade | undefined;\n\tinputError?: string;\n\tv1Trade: Trade | undefined;\n} {\n\tconst { account } = useActiveWeb3React();\n\tconst { t } = useTranslation();\n\tconst toggledVersion = useToggledVersion();\n\n\tconst {\n\t\tindependentField,\n\t\ttypedValue,\n\t\t[Field.INPUT]: { currencyId: inputCurrencyId },\n\t\t[Field.OUTPUT]: { currencyId: outputCurrencyId },\n\t\trecipient,\n\t} = useSwapState();\n\n\tconst inputCurrency = useCurrency(inputCurrencyId);\n\tconst outputCurrency = useCurrency(outputCurrencyId);\n\tconst recipientLookup = useENS(recipient ?? undefined);\n\tconst to: string | null = (recipient === null ? account : recipientLookup.address) ?? null;\n\n\tconst relevantTokenBalances = useCurrencyBalances(account ?? undefined, [\n\t\tinputCurrency ?? undefined,\n\t\toutputCurrency ?? undefined,\n\t]);\n\n\tconst isExactIn: boolean = independentField === Field.INPUT;\n\tconst parsedAmount = tryParseAmount(typedValue, (isExactIn ? inputCurrency : outputCurrency) ?? undefined);\n\n\tconst bestTradeExactIn = useTradeExactIn(isExactIn ? parsedAmount : undefined, outputCurrency ?? undefined);\n\tconst bestTradeExactOut = useTradeExactOut(inputCurrency ?? undefined, !isExactIn ? parsedAmount : undefined);\n\n\tconst v2Trade = isExactIn ? bestTradeExactIn : bestTradeExactOut;\n\n\tconst currencyBalances = {\n\t\t[Field.INPUT]: relevantTokenBalances[0],\n\t\t[Field.OUTPUT]: relevantTokenBalances[1],\n\t};\n\n\tconst currencies: { [field in Field]?: Currency } = {\n\t\t[Field.INPUT]: inputCurrency ?? undefined,\n\t\t[Field.OUTPUT]: outputCurrency ?? undefined,\n\t};\n\n\t// get link to trade on v1, if a better rate exists\n\tconst v1Trade = useV1Trade(isExactIn, currencies[Field.INPUT], currencies[Field.OUTPUT], parsedAmount);\n\n\tlet inputError: string | undefined;\n\tif (!account) {\n\t\tinputError = t(\"wallet.connect\");\n\t}\n\n\tif (!parsedAmount) {\n\t\tinputError = inputError ?? t(\"exchange.enterAmount\");\n\t}\n\n\tif (!currencies[Field.INPUT] || !currencies[Field.OUTPUT]) {\n\t\tinputError = inputError ?? t(\"exchange.selectToken\");\n\t}\n\n\tconst formattedTo = isAddress(to);\n\tif (!to || !formattedTo) {\n\t\tinputError = inputError ?? t(\"exchange.enterRecipient\");\n\t} else {\n\t\tif (\n\t\t\tBAD_RECIPIENT_ADDRESSES.indexOf(formattedTo) !== -1 ||\n\t\t\t(bestTradeExactIn && involvesAddress(bestTradeExactIn, formattedTo)) ||\n\t\t\t(bestTradeExactOut && involvesAddress(bestTradeExactOut, formattedTo))\n\t\t) {\n\t\t\tinputError = inputError ?? t(\"errors.invalidRecipient\");\n\t\t}\n\t}\n\n\tconst [allowedSlippage] = useUserSlippageTolerance();\n\n\tconst slippageAdjustedAmounts =\n\t\tv2Trade && allowedSlippage && computeSlippageAdjustedAmounts(v2Trade, allowedSlippage);\n\n\tconst slippageAdjustedAmountsV1 =\n\t\tv1Trade && allowedSlippage && computeSlippageAdjustedAmounts(v1Trade, allowedSlippage);\n\n\t// compare input balance to max input based on version\n\tconst [balanceIn, amountIn] = [\n\t\tcurrencyBalances[Field.INPUT],\n\t\ttoggledVersion === Version.v1\n\t\t\t? slippageAdjustedAmountsV1\n\t\t\t\t? slippageAdjustedAmountsV1[Field.INPUT]\n\t\t\t\t: null\n\t\t\t: slippageAdjustedAmounts\n\t\t\t? slippageAdjustedAmounts[Field.INPUT]\n\t\t\t: null,\n\t];\n\n\tif (balanceIn && amountIn && balanceIn.lessThan(amountIn)) {\n\t\tinputError = t(\"errors.insufficientBalance\", { symbol: amountIn.currency.symbol });\n\t}\n\n\treturn {\n\t\tcurrencies,\n\t\tcurrencyBalances,\n\t\tparsedAmount,\n\t\tv2Trade: v2Trade ?? undefined,\n\t\tinputError,\n\t\tv1Trade,\n\t};\n}\n\nfunction parseCurrencyFromURLParameter(urlParam: any): string {\n\tif (typeof urlParam === \"string\") {\n\t\tconst valid = isAddress(urlParam);\n\t\tif (valid) return valid;\n\t\tif (urlParam.toUpperCase() === \"ETH\") return \"ETH\";\n\t\tif (valid === false) return \"ETH\";\n\t}\n\treturn \"ETH\" ?? \"\";\n}\n\nfunction parseTokenAmountURLParameter(urlParam: any): string {\n\treturn typeof urlParam === \"string\" && !isNaN(parseFloat(urlParam)) ? urlParam : \"\";\n}\n\nfunction parseIndependentFieldURLParameter(urlParam: any): Field {\n\treturn typeof urlParam === \"string\" && urlParam.toLowerCase() === \"output\" ? Field.OUTPUT : Field.INPUT;\n}\n\nconst ENS_NAME_REGEX = /^[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)?$/;\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/;\nfunction validatedRecipient(recipient: any): string | null {\n\tif (typeof recipient !== \"string\") return null;\n\tconst address = isAddress(recipient);\n\tif (address) return address;\n\tif (ENS_NAME_REGEX.test(recipient)) return recipient;\n\tif (ADDRESS_REGEX.test(recipient)) return recipient;\n\treturn null;\n}\n\nexport function queryParametersToSwapState(parsedQs: ParsedQs): SwapState {\n\tlet inputCurrency = parseCurrencyFromURLParameter(parsedQs.inputCurrency);\n\tlet outputCurrency = parseCurrencyFromURLParameter(parsedQs.outputCurrency);\n\tif (inputCurrency === outputCurrency) {\n\t\tif (typeof parsedQs.outputCurrency === \"string\") {\n\t\t\tinputCurrency = \"\";\n\t\t} else {\n\t\t\toutputCurrency = \"\";\n\t\t}\n\t}\n\n\tconst recipient = validatedRecipient(parsedQs.recipient);\n\n\treturn {\n\t\t[Field.INPUT]: {\n\t\t\tcurrencyId: inputCurrency,\n\t\t},\n\t\t[Field.OUTPUT]: {\n\t\t\tcurrencyId: outputCurrency,\n\t\t},\n\t\ttypedValue: parseTokenAmountURLParameter(parsedQs.exactAmount),\n\t\tindependentField: parseIndependentFieldURLParameter(parsedQs.exactField),\n\t\trecipient,\n\t};\n}\n\n// updates the swap state to use the defaults for a given network\nexport function useDefaultsFromURLSearch():\n\t| { inputCurrencyId: string | undefined; outputCurrencyId: string | undefined }\n\t| undefined {\n\tconst { chainId } = useActiveWeb3React();\n\tconst dispatch = useDispatch<AppDispatch>();\n\tconst parsedQs = useParsedQueryString();\n\tconst [result, setResult] = useState<\n\t\t{ inputCurrencyId: string | undefined; outputCurrencyId: string | undefined } | undefined\n\t>();\n\n\tuseEffect(() => {\n\t\tif (!chainId) return;\n\t\tconst parsed = queryParametersToSwapState(parsedQs);\n\n\t\tdispatch(\n\t\t\treplaceSwapState({\n\t\t\t\ttypedValue: parsed.typedValue,\n\t\t\t\tfield: parsed.independentField,\n\t\t\t\tinputCurrencyId: parsed[Field.INPUT].currencyId,\n\t\t\t\toutputCurrencyId: parsed[Field.OUTPUT].currencyId,\n\t\t\t\trecipient: parsed.recipient,\n\t\t\t})\n\t\t);\n\n\t\tsetResult({\n\t\t\tinputCurrencyId: parsed[Field.INPUT].currencyId,\n\t\t\toutputCurrencyId: parsed[Field.OUTPUT].currencyId,\n\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [dispatch, chainId]);\n\n\treturn result;\n}\n","import { Contract } from \"@ethersproject/contracts\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { AddressZero } from \"@ethersproject/constants\";\nimport { JsonRpcSigner, Web3Provider } from \"@ethersproject/providers\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { abi as IUniswapV2Router02ABI } from \"@uniswap/v2-periphery/build/IUniswapV2Router02.json\";\nimport { ROUTER_ADDRESS } from \"../constants\";\nimport { ChainId, JSBI, Percent, Token, CurrencyAmount, Currency, ETHER } from \"@uniswap/sdk\";\nimport { TokenAddressMap } from \"../state/lists/hooks\";\n\n// returns the checksummed address if the address is valid, otherwise returns false\nexport function isAddress(value: any): string | false {\n\ttry {\n\t\treturn getAddress(value);\n\t} catch {\n\t\treturn false;\n\t}\n}\n\nconst ETHERSCAN_PREFIXES: { [chainId in ChainId]: string } = {\n\t1: \"\",\n\t3: \"ropsten.\",\n\t4: \"rinkeby.\",\n\t5: \"goerli.\",\n\t42: \"kovan.\",\n};\n\nexport function getEtherscanLink(\n\tchainId: ChainId,\n\tdata: string,\n\ttype: \"transaction\" | \"token\" | \"address\" | \"block\"\n): string {\n\tconst prefix = `https://${ETHERSCAN_PREFIXES[chainId] || ETHERSCAN_PREFIXES[1]}etherscan.io`;\n\n\tswitch (type) {\n\t\tcase \"transaction\": {\n\t\t\treturn `${prefix}/tx/${data}`;\n\t\t}\n\t\tcase \"token\": {\n\t\t\treturn `${prefix}/token/${data}`;\n\t\t}\n\t\tcase \"block\": {\n\t\t\treturn `${prefix}/block/${data}`;\n\t\t}\n\t\tcase \"address\":\n\t\tdefault: {\n\t\t\treturn `${prefix}/address/${data}`;\n\t\t}\n\t}\n}\n\n// shorten the checksummed version of the input address to have 0x + 4 characters at start and end\nexport function shortenAddress(address: string | undefined, chars = 4): string {\n\tif(!address) {\n\t\treturn '';\n\t}\n\tconst parsed = isAddress(address);\n\tif (!parsed) {\n\t\tthrow Error(`Invalid 'address' parameter '${address}'.`);\n\t}\n\treturn `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`;\n}\n\n// add 10%\nexport function calculateGasMargin(value: BigNumber): BigNumber {\n\treturn value.mul(BigNumber.from(10000).add(BigNumber.from(1000))).div(BigNumber.from(10000));\n}\n\n// converts a basis points value to a sdk percent\nexport function basisPointsToPercent(num: number): Percent {\n\treturn new Percent(JSBI.BigInt(num), JSBI.BigInt(10000));\n}\n\nexport function calculateSlippageAmount(value: CurrencyAmount, slippage: number): [JSBI, JSBI] {\n\tif (slippage < 0 || slippage > 10000) {\n\t\tthrow Error(`Unexpected slippage value: ${slippage}`);\n\t}\n\treturn [\n\t\tJSBI.divide(JSBI.multiply(value.raw, JSBI.BigInt(10000 - slippage)), JSBI.BigInt(10000)),\n\t\tJSBI.divide(JSBI.multiply(value.raw, JSBI.BigInt(10000 + slippage)), JSBI.BigInt(10000)),\n\t];\n}\n\n// account is not optional\nexport function getSigner(library: Web3Provider, account: string): JsonRpcSigner {\n\treturn library.getSigner(account).connectUnchecked();\n}\n\n// account is optional\nexport function getProviderOrSigner(library: Web3Provider, account?: string): Web3Provider | JsonRpcSigner {\n\treturn account ? getSigner(library, account) : library;\n}\n\n// account is optional\nexport function getContract(address: string, ABI: any, library: Web3Provider, account?: string): Contract {\n\tif (!isAddress(address) || address === AddressZero) {\n\t\tthrow Error(`Invalid 'address' parameter '${address}'.`);\n\t}\n\n\treturn new Contract(address, ABI, getProviderOrSigner(library, account) as any);\n}\n\n// account is optional\nexport function getRouterContract(_: number, library: Web3Provider, account?: string): Contract {\n\treturn getContract(ROUTER_ADDRESS, IUniswapV2Router02ABI, library, account);\n}\n\nexport function escapeRegExp(string: string): string {\n\treturn string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"); // $& means the whole matched string\n}\n\nexport function isTokenOnList(defaultTokens: TokenAddressMap, currency?: Currency): boolean {\n\tif (currency === ETHER) return true;\n\treturn Boolean(currency instanceof Token && defaultTokens[currency.chainId]?.[currency.address]);\n}\n","import { Interface, FunctionFragment } from \"@ethersproject/abi\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { useEffect, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useBlockNumber } from \"../application/hooks\";\nimport { AppDispatch, AppState } from \"../index\";\nimport {\n\taddMulticallListeners,\n\tCall,\n\tremoveMulticallListeners,\n\tparseCallKey,\n\ttoCallKey,\n\tListenerOptions,\n} from \"./actions\";\n\nexport interface Result extends ReadonlyArray<any> {\n\treadonly [key: string]: any;\n}\n\ntype MethodArg = string | number | BigNumber;\ntype MethodArgs = Array<MethodArg | MethodArg[]>;\n\ntype OptionalMethodInputs = Array<MethodArg | MethodArg[] | undefined> | undefined;\n\nfunction isMethodArg(x: unknown): x is MethodArg {\n\treturn [\"string\", \"number\"].indexOf(typeof x) !== -1;\n}\n\nfunction isValidMethodArgs(x: unknown): x is MethodArgs | undefined {\n\treturn (\n\t\tx === undefined ||\n\t\t(Array.isArray(x) && x.every((xi) => isMethodArg(xi) || (Array.isArray(xi) && xi.every(isMethodArg))))\n\t);\n}\n\ninterface CallResult {\n\treadonly valid: boolean;\n\treadonly data: string | undefined;\n\treadonly blockNumber: number | undefined;\n}\n\nconst INVALID_RESULT: CallResult = { valid: false, blockNumber: undefined, data: undefined };\n\n// use this options object\nexport const NEVER_RELOAD: ListenerOptions = {\n\tblocksPerFetch: Infinity,\n};\n\n// the lowest level call for subscribing to contract data\nfunction useCallsData(calls: (Call | undefined)[], options?: ListenerOptions): CallResult[] {\n\tconst { chainId } = useActiveWeb3React();\n\tconst callResults = useSelector<AppState, AppState[\"multicall\"][\"callResults\"]>(\n\t\t(state) => state.multicall.callResults\n\t);\n\tconst dispatch = useDispatch<AppDispatch>();\n\n\tconst serializedCallKeys: string = useMemo(\n\t\t() =>\n\t\t\tJSON.stringify(\n\t\t\t\tcalls\n\t\t\t\t\t?.filter((c): c is Call => Boolean(c))\n\t\t\t\t\t?.map(toCallKey)\n\t\t\t\t\t?.sort() ?? []\n\t\t\t),\n\t\t[calls]\n\t);\n\n\t// update listeners when there is an actual change that persists for at least 100ms\n\tuseEffect(() => {\n\t\tconst callKeys: string[] = JSON.parse(serializedCallKeys);\n\t\tif (!chainId || callKeys.length === 0) return undefined;\n\t\tconst calls = callKeys.map((key) => parseCallKey(key));\n\t\tdispatch(\n\t\t\taddMulticallListeners({\n\t\t\t\tchainId,\n\t\t\t\tcalls,\n\t\t\t\toptions,\n\t\t\t})\n\t\t);\n\n\t\treturn () => {\n\t\t\tdispatch(\n\t\t\t\tremoveMulticallListeners({\n\t\t\t\t\tchainId,\n\t\t\t\t\tcalls,\n\t\t\t\t\toptions,\n\t\t\t\t})\n\t\t\t);\n\t\t};\n\t}, [chainId, dispatch, options, serializedCallKeys]);\n\n\treturn useMemo(\n\t\t() =>\n\t\t\tcalls.map<CallResult>((call) => {\n\t\t\t\tif (!chainId || !call) return INVALID_RESULT;\n\n\t\t\t\tconst result = callResults[chainId]?.[toCallKey(call)];\n\t\t\t\tlet data;\n\t\t\t\tif (result?.data && result?.data !== \"0x\") {\n\t\t\t\t\tdata = result.data;\n\t\t\t\t}\n\n\t\t\t\treturn { valid: true, data, blockNumber: result?.blockNumber };\n\t\t\t}),\n\t\t[callResults, calls, chainId]\n\t);\n}\n\ninterface CallState {\n\treadonly valid: boolean;\n\t// the result, or undefined if loading or errored/no data\n\treadonly result: Result | undefined;\n\t// true if the result has never been fetched\n\treadonly loading: boolean;\n\t// true if the result is not for the latest block\n\treadonly syncing: boolean;\n\t// true if the call was made and is synced, but the return data is invalid\n\treadonly error: boolean;\n}\n\nconst INVALID_CALL_STATE: CallState = { valid: false, result: undefined, loading: false, syncing: false, error: false };\nconst LOADING_CALL_STATE: CallState = { valid: true, result: undefined, loading: true, syncing: true, error: false };\n\nfunction toCallState(\n\tcallResult: CallResult | undefined,\n\tcontractInterface: Interface | undefined,\n\tfragment: FunctionFragment | undefined,\n\tlatestBlockNumber: number | undefined\n): CallState {\n\tif (!callResult) return INVALID_CALL_STATE;\n\tconst { valid, data, blockNumber } = callResult;\n\tif (!valid) return INVALID_CALL_STATE;\n\tif (valid && !blockNumber) return LOADING_CALL_STATE;\n\tif (!contractInterface || !fragment || !latestBlockNumber) return LOADING_CALL_STATE;\n\tconst success = data && data.length > 2;\n\tconst syncing = (blockNumber ?? 0) < latestBlockNumber;\n\tlet result: Result | undefined = undefined;\n\tif (success && data) {\n\t\ttry {\n\t\t\tresult = contractInterface.decodeFunctionResult(fragment, data);\n\t\t} catch (error) {\n\t\t\tconsole.debug(\"Result data parsing failed\", fragment, data);\n\t\t\treturn {\n\t\t\t\tvalid: true,\n\t\t\t\tloading: false,\n\t\t\t\terror: true,\n\t\t\t\tsyncing,\n\t\t\t\tresult,\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\tvalid: true,\n\t\tloading: false,\n\t\tsyncing,\n\t\tresult: result,\n\t\terror: !success,\n\t};\n}\n\nexport function useSingleContractMultipleData(\n\tcontract: Contract | null | undefined,\n\tmethodName: string,\n\tcallInputs: OptionalMethodInputs[],\n\toptions?: ListenerOptions\n): CallState[] {\n\tconst fragment = useMemo(() => contract?.interface?.getFunction(methodName), [contract, methodName]);\n\n\tconst calls = useMemo(\n\t\t() =>\n\t\t\tcontract && fragment && callInputs && callInputs.length > 0\n\t\t\t\t? callInputs.map<Call>((inputs) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\taddress: contract.address,\n\t\t\t\t\t\t\tcallData: contract.interface.encodeFunctionData(fragment, inputs),\n\t\t\t\t\t\t};\n\t\t\t\t  })\n\t\t\t\t: [],\n\t\t[callInputs, contract, fragment]\n\t);\n\n\tconst results = useCallsData(calls, options);\n\n\tconst latestBlockNumber = useBlockNumber();\n\n\treturn useMemo(() => {\n\t\t// @ts-ignore\n\t\treturn results.map((result) => toCallState(result, contract?.interface, fragment, latestBlockNumber));\n\t}, [fragment, contract, results, latestBlockNumber]);\n}\n\nexport function useMultipleContractSingleData(\n\taddresses: (string | undefined)[],\n\tcontractInterface: Interface,\n\tmethodName: string,\n\tcallInputs?: OptionalMethodInputs,\n\toptions?: ListenerOptions\n): CallState[] {\n\tconst fragment = useMemo(() => contractInterface.getFunction(methodName), [contractInterface, methodName]);\n\tconst callData: string | undefined = useMemo(\n\t\t() =>\n\t\t\tfragment && isValidMethodArgs(callInputs)\n\t\t\t\t? contractInterface.encodeFunctionData(fragment, callInputs)\n\t\t\t\t: undefined,\n\t\t[callInputs, contractInterface, fragment]\n\t);\n\n\tconst calls = useMemo(\n\t\t() =>\n\t\t\tfragment && addresses && addresses.length > 0 && callData\n\t\t\t\t? addresses.map<Call | undefined>((address) => {\n\t\t\t\t\t\treturn address && callData\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\taddress,\n\t\t\t\t\t\t\t\t\tcallData,\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: undefined;\n\t\t\t\t  })\n\t\t\t\t: [],\n\t\t[addresses, callData, fragment]\n\t);\n\n\tconst results = useCallsData(calls, options);\n\n\tconst latestBlockNumber = useBlockNumber();\n\n\treturn useMemo(() => {\n\t\treturn results.map((result) => toCallState(result, contractInterface, fragment, latestBlockNumber));\n\t}, [fragment, results, contractInterface, latestBlockNumber]);\n}\n\nexport function useSingleCallResult(\n\tcontract: Contract | null | undefined,\n\tmethodName: string,\n\tinputs?: OptionalMethodInputs,\n\toptions?: ListenerOptions\n): CallState {\n\tconst fragment = useMemo(() => contract?.interface?.getFunction(methodName), [contract, methodName]);\n\n\tconst calls = useMemo<Call[]>(() => {\n\t\treturn contract && fragment && isValidMethodArgs(inputs)\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\taddress: contract.address,\n\t\t\t\t\t\tcallData: contract.interface.encodeFunctionData(fragment, inputs),\n\t\t\t\t\t},\n\t\t\t  ]\n\t\t\t: [];\n\t}, [contract, fragment, inputs]);\n\n\tconst result = useCallsData(calls, options)[0];\n\tconst latestBlockNumber = useBlockNumber();\n\n\treturn useMemo(() => {\n\t\t// @ts-ignore\n\t\treturn toCallState(result, contract?.interface, fragment, latestBlockNumber);\n\t}, [result, contract, fragment, latestBlockNumber]);\n}\n","import { Network } from \"../../constants\";\n\nconst ETHERSCAN_TRANSACTION_URL = {\n\t[Network.Mainnet]: \"https://etherscan.io/tx/\",\n\t[Network.Ropsten]: \"https://ropsten.etherscan.io/tx/\",\n\t[Network.Rinkeby]: \"https://rinkeby.etherscan.io/tx/\",\n\t[Network.Kovan]: \"https://kovan.etherscan.io/tx/\",\n\t[Network.Ganache]: \"https://etherscan.io/tx/\",\n};\n\nexport const ETHERSCAN_URL = {\n\t[Network.Mainnet]: \"https://etherscan.io/\",\n\t[Network.Ropsten]: \"https://ropsten.etherscan.io/\",\n\t[Network.Rinkeby]: \"https://rinkeby.etherscan.io/\",\n\t[Network.Kovan]: \"https://kovan.etherscan.io/\",\n\t[Network.Ganache]: \"https://etherscan.io/\",\n};\n","import axios from \"axios\";\nimport { BigNumber } from \"@0x/utils\";\nimport { isWeth } from \"../known_tokens\";\nimport { ETHERSCAN_URL } from \"./transactionLink\";\nimport { NETWORK_ID } from \"../../constants\";\nimport { assetDataUtils } from \"@0x/order-utils\";\nimport { getContractWrappers } from \"./contractWrapper\";\n\nconst TOKEN_CONTRACT_ENDPOINT = \"https://api.coingecko.com/api/v3/coins/ethereum/contract/\";\n\nexport const tokensToTokenBalances = async (tokens, address = \"\", library) => {\n\tconsole.log(address);\n\tconst contractWrappers = await getContractWrappers(library);\n\tconst assetDatas = tokens.map((t) => assetDataUtils.encodeERC20AssetData(t.address));\n\tconst [balances, allowances] = await contractWrappers.devUtils\n\t\t.getBatchBalancesAndAssetProxyAllowances(address, assetDatas)\n\t\t.callAsync();\n\tconst tokenBalances = balances.map((_b, i) => {\n\t\treturn {\n\t\t\ttoken: tokens[i],\n\t\t\tbalance: balances[i],\n\t\t\tisUnlocked: allowances[i].isGreaterThan(0),\n\t\t};\n\t});\n\treturn tokenBalances;\n};\nexport const tokenToTokenBalance = async (token, address = \"\") => {\n\tconst [tokenBalance] = await tokensToTokenBalances([token], address);\n\treturn tokenBalance;\n};\n\nexport const getTokenBalance = async (token, address = \"\") => {\n\tconst balance = await tokenToTokenBalance(token, address);\n\treturn balance.balance;\n};\n\nexport const getTokenByAddress = async (address) => {\n\tconst promiseTokenDataResolved = await axios.get(`${TOKEN_CONTRACT_ENDPOINT}${address.toLowerCase()}`);\n\tif (promiseTokenDataResolved.status === 200) {\n\t\tconst data = await promiseTokenDataResolved.data;\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\t}\n\treturn Promise.reject(\"Could not get Token \");\n};\n\nexport const unitsInTokenAmount = (units, decimals) => {\n\tconst decimalsPerToken = new BigNumber(10).pow(decimals);\n\treturn new BigNumber(units).multipliedBy(decimalsPerToken);\n};\n\nexport const tokenAmountInUnitsToBigNumber = (amount, decimals) => {\n\tconst decimalsPerToken = new BigNumber(10).pow(decimals);\n\treturn amount.div(decimalsPerToken);\n};\n\nexport const formatTokenSymbol = (symbol) => {\n\treturn isWeth(symbol.toLowerCase()) ? \"ETH\" : symbol.toUpperCase();\n};\n\nexport const formatTokenName = (name) => {\n\treturn name === \"Wrapped Ether\" ? \"Ethereum\" : name;\n};\n\nexport const tokenAmountInUnits = (amount, decimals, toFixedDecimals = 2) => {\n\treturn tokenAmountInUnitsToBigNumber(amount, decimals).toFixed(Number(toFixedDecimals));\n};\n\nexport const tokenSymbolToDisplayString = (symbol) => {\n\treturn isWeth(symbol) ? \"wETH\" : symbol.toUpperCase();\n};\n\nexport const getEtherscanLinkForToken = (token) => {\n\treturn `${ETHERSCAN_URL[NETWORK_ID]}token/${token.address}`;\n};\nexport const getEtherscanLinkForTokenAndAddress = (token, ethAccount) => {\n\treturn `${ETHERSCAN_URL[NETWORK_ID]}token/${token.address}?a=${ethAccount}`;\n};\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const saveAccount = createAction(\"account/save\", (address: string) => {\n\treturn {\n\t\tpayload: {\n\t\t\taddress,\n\t\t},\n\t};\n});\n\nexport const haveEnoughBalance = createAction(\"account/balance\", (haveBalance: boolean) => {\n\treturn {\n\t\tpayload: haveBalance,\n\t};\n});\n","export default __webpack_public_path__ + \"static/media/logo.00dce903.svg\";","import { Link } from \"react-router-dom\";\n\nimport LogoImage from \"../../assets/images/logo.svg\";\n\nconst Logo = (props) => {\n\treturn (\n\t\t<Link to={\"/\"} className={\"header__logo\"}>\n\t\t\t<img src={LogoImage} alt={process.env.REACT_APP_BRAND} className={\"header__logo-img\"} />\n\t\t\t<span className={`text-primary header__logo-title ${props.hideOnMobile ? \"d-none d-lg-block\" : \"\"}`}>\n\t\t\t\t{process.env.REACT_APP_BRAND}\n\t\t\t</span>\n\t\t</Link>\n\t);\n};\n\nexport default Logo;\n","export const routes = {\n\tfiat: {\n\t\ttitle: \"buy\",\n\t\troutes: {\n\t\t\ton: {\n\t\t\t\ttitle: \"crypto\",\n\t\t\t\tpath: \"/fiat/on\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\toff: {\n\t\t\t\ttitle: \"giftCards\",\n\t\t\t\tpath: \"/fiat/off-cards\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t},\n\t},\n\tswap: {\n\t\ttitle: \"swap\",\n\t\troutes: {\n\t\t\tinstantSwap: {\n\t\t\t\ttitle: \"aggregator\",\n\t\t\t\tpath: \"/swap/all\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\tswap: {\n\t\t\t\ttitle: \"uniswap\",\n\t\t\t\tpath: \"/swap/uni\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t},\n\t},\n\ttrade: {\n\t\ttitle: \"trade\",\n\t\troutes: {\n\t\t\tmarkets: {\n\t\t\t\ttitle: \"spotMarkets\",\n\t\t\t\tpath: \"/trade/markets\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\tspot: {\n\t\t\t\ttitle: \"spot\",\n\t\t\t\tpath: \"/trade/spot\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t},\n\t},\n\tinvest: {\n\t\ttitle: \"invest\",\n\t\troutes: {\n\t\t\tpools: {\n\t\t\t\ttitle: \"pools\",\n\t\t\t\tpath: \"/invest/pools\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\ttokenSets: {\n\t\t\t\ttitle: \"tokenSets\",\n\t\t\t\tpath: \"/invest/tokensets\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\tloans: {\n\t\t\t\ttitle: \"loans\",\n\t\t\t\tpath: \"/invest/loans\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\tnft: {\n\t\t\t\ttitle: \"nft\",\n\t\t\t\tpath: \"/invest/nft\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\tlaunchpad: {\n\t\t\t\ttitle: \"launchpad\",\n\t\t\t\tpath: \"/invest/launchpad\",\n\t\t\t\tstate: \"warning\",\n\t\t\t}\n\t\t},\n\t},\n\ttools: {\n\t\ttitle: \"tools\",\n\t\troutes: {\n\t\t\tgovernance: {\n\t\t\t\ttitle: \"governance\",\n\t\t\t\tpath: \"/tools/governance\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\trankings: {\n\t\t\t\ttitle: \"rankings\",\n\t\t\t\tpath: \"/tools/explore/tokens\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t\texplore: {\n\t\t\t\ttitle: \"explore\",\n\t\t\t\tpath: \"/tools/explore\",\n\t\t\t\tstate: \"success\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport const accountRoutes = {\n\tdashboard: {\n\t\ttitle: \"dashboard\",\n\t\tpath: \"/dashboard\",\n\t\tstate: \"success\",\n\t},\n\twallet: {\n\t\ttitle: \"wallet\",\n\t\tpath: \"/account/wallet\",\n\t\tstate: \"success\",\n\t},\n\thistory: {\n\t\ttitle: \"history\",\n\t\tpath: \"/account/history\",\n\t\tstate: \"success\",\n\t},\n};\n","export default __webpack_public_path__ + \"static/media/arrow-down.5efc75e4.svg\";","import styled, { ThemeContext } from \"styled-components\";\nimport { useState, useCallback, useContext } from \"react\";\nimport SVG from \"react-inlinesvg\";\nimport { Link } from \"react-router-dom\";\n\nimport ArrowDown from \"../../assets/images/global/arrow-down.svg\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Wrapper = styled.div`\n\tposition: relative;\n\n\t&:hover .header-dropdown {\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t\ttransform: rotateX(0deg) scale(1);\n\t}\n`;\n\nconst Item = styled.div`\n\ttext-decoration: none !important;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tpadding: 1rem 1.625rem;\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tcursor: pointer;\n\tperspective: 800px;\n\n\t&:hover {\n\t\tcolor: ${({ theme }) => theme.text2};\n\t}\n\n\t&::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tbottom: 0.625rem;\n\t\tleft: 1.625rem;\n\t\tright: 1.625rem;\n\t\theight: 1px;\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t\ttransform: scaleX(0);\n\t\ttransform-origin: left center;\n\t\ttransition: 0.4s ease all;\n\t\twill-change: transform;\n\t}\n`;\n\nconst ItemInner = styled.span`\n\tdisplay: flex;\n\tpadding-right: 0.75rem;\n\tcolor: ${({ theme, active }) => (active ? theme.primary : theme.text1)};\n\twhite-space: nowrap;\n`;\n\nconst DropDown = styled.div`\n\tposition: absolute;\n\ttop: 100%;\n\tleft: 1.625rem;\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tborder-radius: 0.75rem;\n\tbox-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n\tpadding: 20px;\n\n\topacity: 0;\n\tvisibility: hidden;\n\ttransform-style: preserve-3d;\n\ttransform: rotateX(-40deg) scale(0.8);\n\ttransform-origin: top center;\n\ttransition: 0.4s ease all;\n\tz-index: 99999;\n`;\n\nconst DropDownItem = styled(Link)`\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n\tpadding-left: 20px;\n\toutline: none;\n\ttext-decoration: none;\n\twhite-space: nowrap;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\tcolor: ${({ theme }) => theme.text2};\n\t\tbox-shadow: none;\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t}\n\n\t&::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 6px;\n\t\twidth: 10px;\n\t\theight: 10px;\n\t\tborder-radius: 10px;\n\t\tbackground-color: ${({ theme, state }) => (state ? theme[state] : theme.primary)};\n\t}\n`;\n\nconst HeaderDropdown = ({ items, title, ...props }) => {\n\tconst theme = useContext(ThemeContext);\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Item>\n\t\t\t\t<ItemInner>{t(`menu.${title}`)}</ItemInner>\n\t\t\t\t<SVG src={ArrowDown} style={{ color: theme.primary }} />\n\t\t\t</Item>\n\t\t\t<DropDown className={\"header-dropdown\"}>\n\t\t\t\t{Object.values(items).map((item, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DropDownItem to={item.path} key={`${title}-${index}`} state={item.state}>\n\t\t\t\t\t\t\t{t(`menu.${item.title}`)}\n\t\t\t\t\t\t</DropDownItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</DropDown>\n\t\t</Wrapper>\n\t);\n};\n\nexport default HeaderDropdown;\n","const User = (props) => {\n\treturn (\n\t\t<svg width={props.size} height={props.size} viewBox=\"0 0 20 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t<path\n\t\t\t\td=\"M13.71 11.71C14.6904 10.9387 15.406 9.88092 15.7572 8.68394C16.1085 7.48697 16.0779 6.21027 15.6698 5.03147C15.2617 3.85267 14.4963 2.83039 13.4801 2.10686C12.4639 1.38332 11.2474 0.994507 10 0.994507C8.75255 0.994507 7.53611 1.38332 6.51993 2.10686C5.50374 2.83039 4.73834 3.85267 4.33021 5.03147C3.92208 6.21027 3.89151 7.48697 4.24276 8.68394C4.59401 9.88092 5.3096 10.9387 6.29 11.71C4.61007 12.383 3.14428 13.4994 2.04889 14.9399C0.953495 16.3805 0.26956 18.0913 0.0699967 19.89C0.0555513 20.0213 0.0671132 20.1542 0.104022 20.2811C0.140931 20.4079 0.202464 20.5263 0.285108 20.6293C0.452016 20.8375 0.69478 20.9708 0.959997 21C1.22521 21.0292 1.49116 20.9518 1.69932 20.7849C1.90749 20.618 2.04082 20.3752 2.07 20.11C2.28958 18.1552 3.22168 16.3498 4.68822 15.0388C6.15475 13.7278 8.0529 13.003 10.02 13.003C11.9871 13.003 13.8852 13.7278 15.3518 15.0388C16.8183 16.3498 17.7504 18.1552 17.97 20.11C17.9972 20.3557 18.1144 20.5827 18.2991 20.747C18.4838 20.9114 18.7228 21.0015 18.97 21H19.08C19.3421 20.9698 19.5817 20.8373 19.7466 20.6313C19.9114 20.4252 19.9881 20.1624 19.96 19.9C19.7595 18.0962 19.0719 16.381 17.9708 14.9382C16.8698 13.4954 15.3969 12.3795 13.71 11.71ZM10 11C9.20887 11 8.43551 10.7654 7.77772 10.3259C7.11992 9.88636 6.60723 9.26164 6.30448 8.53074C6.00173 7.79983 5.92251 6.99557 6.07686 6.21964C6.2312 5.44372 6.61216 4.73099 7.17157 4.17158C7.73098 3.61217 8.44371 3.2312 9.21964 3.07686C9.99556 2.92252 10.7998 3.00173 11.5307 3.30448C12.2616 3.60724 12.8863 4.11993 13.3259 4.77772C13.7654 5.43552 14 6.20888 14 7C14 8.06087 13.5786 9.07828 12.8284 9.82843C12.0783 10.5786 11.0609 11 10 11Z\"\n\t\t\t\tfill={props.fill || \"currentColor\"}\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nexport default User;\n","import { useContext } from \"react\";\nimport styled, { ThemeContext } from \"styled-components\";\nimport SVG from \"react-inlinesvg\";\n\nimport ArrowDown from \"../../assets/images/global/arrow-down.svg\";\nimport UserIcon from \"../Icons/User\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Wrapper = styled.div`\n\tposition: relative;\n\tpadding: 14px 0;\n\n\t&:hover .header-dropdown {\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t\ttransform: rotateX(0deg) scale(1);\n\t}\n`;\n\nconst Item = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n`;\n\nconst Button = styled.button`\n\tmargin-right: 0.75rem;\n`;\n\nconst DropDown = styled.div`\n\tposition: absolute;\n\ttop: 100%;\n\tright: 0;\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tborder-radius: 0.75rem;\n\tbox-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n\tpadding: 20px;\n\n\topacity: 0;\n\tvisibility: hidden;\n\ttransform-style: preserve-3d;\n\ttransform: rotateX(-40deg) scale(0.8);\n\ttransform-origin: top center;\n\ttransition: 0.4s ease all;\n\tz-index: 99999;\n`;\n\nconst DropDownItem = styled(Link)`\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n\tpadding-left: 20px;\n\toutline: none;\n\ttext-decoration: none;\n\twhite-space: nowrap;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\tcolor: ${({ theme }) => theme.text2};\n\t\tbox-shadow: none;\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t}\n\n\t&::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 6px;\n\t\twidth: 10px;\n\t\theight: 10px;\n\t\tborder-radius: 10px;\n\t\tbackground-color: ${({ theme }) => theme.success};\n\t}\n`;\n\nconst DropDownButton = styled.button`\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n\tpadding-left: 20px;\n\toutline: none;\n\ttext-decoration: none;\n\twhite-space: nowrap;\n\tborder: none;\n\tbackground-color: transparent;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\tcolor: ${({ theme }) => theme.text2};\n\t\tbox-shadow: none;\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t}\n\n\t&::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 6px;\n\t\twidth: 10px;\n\t\theight: 10px;\n\t\tborder-radius: 10px;\n\t\tbackground-color: ${({ theme }) => theme.success};\n\t}\n`;\n\nconst HeaderDropdown = ({ items, title, ...props }) => {\n\tconst { account, deactivate } = useActiveWeb3React();\n\tconst theme = useContext(ThemeContext);\n\tconst { t } = useTranslation();\n\n\tconst logoutHandler = () => {\n\t\tif (account) {\n\t\t\tdeactivate();\n\t\t\tprops.history.push(\"/\");\n\t\t}\n\t};\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Item>\n\t\t\t\t<Button className=\"btn btn-circle btn-light-primary\">\n\t\t\t\t\t<UserIcon size={\"20px\"} />\n\t\t\t\t</Button>\n\t\t\t\t<SVG src={ArrowDown} style={{ color: theme.primary }} />\n\t\t\t</Item>\n\t\t\t<DropDown className={\"header-dropdown\"}>\n\t\t\t\t{Object.values(items).map((item, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DropDownItem to={item.path} key={`${title}-${index}`}>\n\t\t\t\t\t\t\t{t(`menu.${item.title}`)}\n\t\t\t\t\t\t</DropDownItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<DropDownButton onClick={logoutHandler}>{t(\"menu.disconnect\")}</DropDownButton>\n\t\t\t</DropDown>\n\t\t</Wrapper>\n\t);\n};\n\nexport default withRouter(HeaderDropdown);\n","import { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Button as BootstrapButton, Row, Col } from \"react-bootstrap\";\n\nimport { Link, withRouter } from \"react-router-dom\";\nimport Img from \"../UI/Img\";\nimport { rates } from \"../../constants\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as actions from \"../../state/currency/actions\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Wrapper = styled.div`\n\tposition: relative;\n\tpadding: 14px 0;\n\n\t&:hover .header-dropdown {\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t\ttransform: rotateX(0deg) scale(1);\n\t}\n`;\n\nconst Item = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n`;\n\nconst Button = styled.button`\n\tmargin-right: 0.75rem;\n`;\n\nconst DropDown = styled.div`\n\tposition: absolute;\n\ttop: 100%;\n\tright: 0;\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tborder-radius: 0.75rem;\n\tbox-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n\tpadding: 20px;\n\twidth: auto;\n\tmin-width: 260px;\n\n\topacity: 0;\n\tvisibility: hidden;\n\ttransform-style: preserve-3d;\n\ttransform: rotateX(-40deg) scale(0.8);\n\ttransform-origin: top center;\n\ttransition: 0.4s ease all;\n\tz-index: 99999;\n`;\n\nconst DropDownItem = styled(Link)`\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n\toutline: none;\n\ttext-decoration: none;\n\twhite-space: nowrap;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\tcolor: ${({ theme }) => theme.text2};\n\t\tbox-shadow: none;\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst CurrencyLogo = styled(Img)`\n\twidth: 24px;\n\theight: 24px;\n\tmargin-right: 20px;\n\tborder-radius: 24px;\n\tborder: 1px solid #a890fe;\n\tmin-width: 24px;\n`;\n\nconst FlagButton = styled(BootstrapButton)`\n\tmargin-right: 12px;\n`;\n\nconst Title = styled.span`\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tcolor: ${({ theme }) => theme.text2};\n`;\n\nconst HeaderDropdown = ({ items, title, ...props }) => {\n\tconst selectedCurrency = useSelector((state) => state.currency.selected);\n\tconst { i18n } = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst selectDestinationCurrency = (id) => {\n\t\tdispatch(actions.fetchCurrencies(id));\n\t\ti18n.changeLanguage(rates[id].lng);\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(actions.fetchCurrencies(selectedCurrency));\n\t}, [selectedCurrency, dispatch]);\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Item>\n\t\t\t\t<FlagButton variant={\"link\"} className={\"py-0 px-0\"}>\n\t\t\t\t\t<Img src={require(\"../../assets/images/header/flag.svg\").default} alt={\"\"} />\n\t\t\t\t</FlagButton>\n\t\t\t</Item>\n\t\t\t<DropDown className={\"header-dropdown\"}>\n\t\t\t\t<Row>\n\t\t\t\t\t{Object.keys(rates).map((currency) => (\n\t\t\t\t\t\t<Col xs={6} className={\"my-2\"}>\n\t\t\t\t\t\t\t<DropDownItem\n\t\t\t\t\t\t\t\tonClick={selectDestinationCurrency.bind(this, currency)}\n\t\t\t\t\t\t\t\tkey={`currency-${currency}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CurrencyLogo src={rates[currency].image} alt={currency} />\n\t\t\t\t\t\t\t\t<Title>{currency}</Title>\n\t\t\t\t\t\t\t</DropDownItem>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t))}\n\t\t\t\t</Row>\n\t\t\t</DropDown>\n\t\t</Wrapper>\n\t);\n};\n\nexport default withRouter(HeaderDropdown);\n","import styled, { ThemeContext } from \"styled-components\";\nimport SVG from \"react-inlinesvg\";\nimport { useCallback, useContext, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport ArrowDown from \"../../../assets/images/global/arrow-down.svg\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Wrapper = styled.div`\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tposition: relative;\n`;\n\nconst Header = styled.div`\n\tpadding: 20px 24px 20px 30px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\theight: 64px;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n\tcursor: pointer;\n`;\n\nconst IconContainer = styled.div`\n\ttransition: all ease 0.3s;\n\ttransform: ${({ open }) => (open ? \"rotate(180deg)\" : \"rotate(0deg)\")};\n`;\nconst TitleContainer = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n`;\nconst Title = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding-right: 10px;\n`;\n\nconst Icon = styled.div`\n\tpadding-right: 22px;\n\tcolor: ${({ theme }) => theme.primary};\n`;\n\nconst Collapse = styled.div`\n\toverflow: hidden;\n\tmax-height: ${({ height }) => (height ? `${height}px` : 0)};\n\ttransition: all ease 0.3s;\n`;\n\nconst Body = styled.div`\n\tpadding: 20px 30px;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst BodyItem = styled(Link)`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tcolor: ${({ theme }) => theme.text2};\n\t}\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n`;\n\nconst SideDrawerItem = ({ items, title, ...props }) => {\n\tconst theme = useContext(ThemeContext);\n\tconst body = useRef(null);\n\tconst [open, setOpen] = useState(false);\n\tconst [height, setHeight] = useState(0);\n\tconst { t } = useTranslation();\n\n\tconst toggleOpen = useCallback(() => {\n\t\tif (open) {\n\t\t\tsetOpen(false);\n\t\t\tsetHeight(0);\n\t\t} else {\n\t\t\tif (body.current) {\n\t\t\t\tconst { height } = body.current.getBoundingClientRect();\n\t\t\t\tsetOpen((open) => !open);\n\t\t\t\tsetHeight(height || 0);\n\t\t\t}\n\t\t}\n\t}, [body.current, open]);\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Header onClick={toggleOpen}>\n\t\t\t\t{props.icon ? (\n\t\t\t\t\t<TitleContainer>\n\t\t\t\t\t\t<Icon>{props.icon}</Icon>\n\t\t\t\t\t\t<Title>{t(`menu.${title}`)}</Title>\n\t\t\t\t\t</TitleContainer>\n\t\t\t\t) : (\n\t\t\t\t\t<Title>{t(`menu.${title}`)}</Title>\n\t\t\t\t)}\n\t\t\t\t<IconContainer open={open}>\n\t\t\t\t\t<SVG src={ArrowDown} style={{ color: theme.primary }} />\n\t\t\t\t</IconContainer>\n\t\t\t</Header>\n\t\t\t<Collapse height={height}>\n\t\t\t\t<Body ref={body}>\n\t\t\t\t\t{Object.values(items).map((item, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<BodyItem to={item.path} key={`${title}-${index}`}>\n\t\t\t\t\t\t\t\t{t(`menu.${item.title}`)}\n\t\t\t\t\t\t\t</BodyItem>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Body>\n\t\t\t</Collapse>\n\t\t</Wrapper>\n\t);\n};\n\nexport default SideDrawerItem;\n","import styled, { ThemeContext } from \"styled-components\";\nimport SVG from \"react-inlinesvg\";\n\nimport Logo from \"../Logo\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport SideDrawerItem from \"./Item\";\nimport { routes, accountRoutes } from \"../../constants/headerRoutes\";\nimport { Link } from \"react-router-dom\";\nimport UserIcon from \"../Icons/User\";\nimport { useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Wrapper = styled.div`\n\tposition: fixed;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\toverflow: auto;\n\twidth: 240px;\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\ttransition: 0.5s ease all;\n\ttransform: ${({ open }) => (open ? \"translateX(0)\" : \"translateX(100%)\")};\n\tz-index: 100001;\n`;\n\nconst Content = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding-bottom: 4rem;\n`;\n\nconst Header = styled.div`\n\tpadding: 40px 30px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n`;\n\nconst CloseButton = styled.button`\n\tborder: none;\n\tbackground-color: transparent;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tbox-shadow: none;\n\t}\n`;\n\nconst Backdrop = styled.div`\n\tposition: fixed;\n\tright: 0;\n\tleft: 0;\n\ttop: 0;\n\tbottom: 0;\n\tbackground-color: rgba(11, 15, 50, 0.8);\n\topacity: ${({ open }) => (open ? \"1\" : \"0\")};\n\tvisibility: ${({ open }) => (open ? \"visible\" : \"hidden\")};\n\tz-index: 100001;\n\ttransition: 0.5s ease all;\n`;\n\nconst LogoContainer = styled.div`\n\tpadding: 0.875rem 1.875rem 1.5rem;\n\tdisplay: flex;\n\talign-items: center;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n`;\n\nconst LinkItem = styled(Link)`\n\tpadding: 20px 24px 20px 30px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\theight: 64px;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tcolor: ${({ theme }) => theme.text2};\n\t}\n`;\n\nconst SideDrawer = ({ open, onDismiss, ...props }) => {\n\tconst theme = useContext(ThemeContext);\n\tconst { account } = useActiveWeb3React();\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<>\n\t\t\t<Backdrop open={open} onClick={onDismiss} />\n\t\t\t<Wrapper open={open}>\n\t\t\t\t<Content>\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<CloseButton onClick={onDismiss}>\n\t\t\t\t\t\t\t<SVG src={require(\"../../assets/images/close.svg\").default} />\n\t\t\t\t\t\t</CloseButton>\n\n\t\t\t\t\t\t<span className={\"font-size-sm\"}>{t(\"menu.menu\")}</span>\n\t\t\t\t\t</Header>\n\t\t\t\t\t<LogoContainer>\n\t\t\t\t\t\t<Logo />\n\t\t\t\t\t</LogoContainer>\n\t\t\t\t\t{account && (\n\t\t\t\t\t\t<SideDrawerItem\n\t\t\t\t\t\t\ttitle={\"Account\"}\n\t\t\t\t\t\t\titems={accountRoutes}\n\t\t\t\t\t\t\ticon={<UserIcon size={\"20px\"} style={{ color: theme.primary }} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{Object.keys(routes).map((key) => {\n\t\t\t\t\t\tconst r = routes[key];\n\t\t\t\t\t\tif (r.hasOwnProperty(\"path\")) {\n\t\t\t\t\t\t\treturn <LinkItem to={r.path}>{r.title}</LinkItem>;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn <SideDrawerItem title={r.title} items={r.routes} />;\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</Content>\n\t\t\t</Wrapper>\n\t\t</>\n\t);\n};\n\nexport default SideDrawer;\n","import React from \"react\";\n\nconst MoonIcon = ({ size, fill, color }) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width={size} height={size}>\n\t\t\t<path fill=\"none\" d=\"M0 0h24v24H0z\" />\n\t\t\t<path\n\t\t\t\tfill={fill || color}\n\t\t\t\td=\"M11.38 2.019a7.5 7.5 0 1 0 10.6 10.6C21.662 17.854 17.316 22 12.001 22 6.477 22 2 17.523 2 12c0-5.315 4.146-9.661 9.38-9.981z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nexport default MoonIcon;\n","import React from \"react\";\n\nconst SunIcon = ({ size, fill, color }) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width={size} height={size}>\n\t\t\t<path fill=\"none\" d=\"M0 0h24v24H0z\" />\n\t\t\t<path\n\t\t\t\tfill={fill || color}\n\t\t\t\td=\"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nexport default SunIcon;\n","import { useDarkModeManager } from \"../../state/user/hooks\";\n\nimport MoonIcon from \"../Icons/Moon\";\nimport SunIcon from \"../Icons/Sun\";\n\nconst ThemeToggler = (props) => {\n\tconst [darkMode, toggleDarkMode] = useDarkModeManager();\n\n\treturn (\n\t\t<label htmlFor=\"theme-toggle\" className=\"switch switch--primary\">\n\t\t\t<input\n\t\t\t\tclassName=\"switch__input\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tid=\"theme-toggle\"\n\t\t\t\tonChange={toggleDarkMode}\n\t\t\t\tchecked={darkMode}\n\t\t\t/>\n\t\t\t<div className=\"switch__box\">\n\t\t\t\t<div className=\"switch__bg\">\n\t\t\t\t\t<MoonIcon size={17} fill={\"#ffffff80\"} />\n\t\t\t\t\t<SunIcon size={17} fill={\"#fc6\"} />\n\t\t\t\t</div>\n\t\t\t\t<span className=\"switch__box-inner\" />\n\t\t\t</div>\n\t\t</label>\n\t);\n};\n\nexport default ThemeToggler;\n","import { useEffect, useMemo } from \"react\";\nimport styled from \"styled-components\";\nimport { Button as BootstrapButton, Row, Col } from \"react-bootstrap\";\n\nimport { Link, withRouter } from \"react-router-dom\";\nimport Img from \"../UI/Img\";\nimport { rates } from \"../../constants\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as actions from \"../../state/currency/actions\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAllTransactions } from \"../../state/transactions/hooks\";\nimport { getEtherscanLink } from \"../../utils\";\n\nconst Wrapper = styled.div`\n\tposition: relative;\n\tpadding: 14px 0;\n\n\t&:hover .header-dropdown {\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t\ttransform: rotateX(0deg) scale(1);\n\t}\n`;\n\nconst Item = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n`;\n\nconst Button = styled.button`\n\tmargin-right: 0.75rem;\n`;\n\nconst DropDown = styled.div`\n\tposition: absolute;\n\ttop: 100%;\n\tright: 0;\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tborder-radius: 0.75rem;\n\tbox-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n\tpadding: 12px;\n\twidth: auto;\n\tmin-width: 260px;\n\n\topacity: 0;\n\tvisibility: hidden;\n\ttransform-style: preserve-3d;\n\ttransform: rotateX(-40deg) scale(0.8);\n\ttransform-origin: top center;\n\ttransition: 0.4s ease all;\n\tz-index: 99999;\n`;\n\nconst DropDownItem = styled(Link)`\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n\toutline: none;\n\ttext-decoration: none;\n\twhite-space: nowrap;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\tcolor: ${({ theme }) => theme.text2};\n\t\tbox-shadow: none;\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst CurrencyLogo = styled(Img)`\n\twidth: 24px;\n\theight: 24px;\n\tmargin-right: 20px;\n\tborder-radius: 24px;\n\tborder: 1px solid #a890fe;\n\tmin-width: 24px;\n`;\n\nconst FlagButton = styled(BootstrapButton)`\n\tmargin-right: 20px;\n`;\n\nconst Title = styled.span`\n\tfont-weight: 500;\n\tfont-size: 0.75rem;\n\tcolor: ${({ theme }) => theme.text3};\n\tmargin-bottom: 8px;\n\tdisplay: block;\n`;\n\nconst StyledBox = styled.div`\n\tborder-radius: 18px;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tdisplay: flex;\n\talign-items: stretch;\n\tflex-direction: column;\n\tmargin-bottom: 16px;\n`;\n\nconst TxnBox = styled.a`\n\tpadding: 8px 12px;\n\tborder-radius: 12px;\n\tfont-size: 0.875rem;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 500;\n\ttext-decoration: none;\n\toutline: none;\n\n\t&:focus,\n\t&:active,\n\t&:hover {\n\t\ttext-decoration: none;\n\t\tcolor: ${({ theme }) => theme.text2};\n\t\toutline: none;\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tpadding: 30px 20px;\n\tcolor: ${({ theme }) => theme.text3};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\ttext-align: center;\n`;\n\nconst SeeAllButton = styled(Link)`\n\ttext-decoration: none;\n\tpadding-top: 12px;\n\tfont-weight: 500;\n\tfont-size: 0.75rem;\n\tcolor: ${({ theme }) => theme.primary};\n\tdisplay: block;\n\ttext-align: center;\n`;\n\nconst NotificationDropdown = (props) => {\n\tconst { t } = useTranslation();\n\tconst transactions = useAllTransactions();\n\n\tconst pendingTransactions = useMemo(() => {\n\t\treturn Object.values(transactions)\n\t\t\t?.filter((txn) => !txn?.hasOwnProperty(\"confirmedTime\"))\n\t\t\t?.slice(0, 3);\n\t}, [transactions]);\n\n\tconst confirmedTransactions = useMemo(() => {\n\t\treturn Object.values(transactions)\n\t\t\t?.filter((txn) => txn?.hasOwnProperty(\"confirmedTime\") && typeof txn.confirmedTime === \"number\")\n\t\t\t?.slice(0, 3);\n\t}, [transactions]);\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Item>\n\t\t\t\t<FlagButton variant={\"link\"} className={\"py-0 px-0\"}>\n\t\t\t\t\t<Img src={require(\"../../assets/images/header/bell.svg\").default} alt={\"\"} />\n\t\t\t\t</FlagButton>\n\t\t\t</Item>\n\t\t\t<DropDown className={\"header-dropdown\"}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<Title>{t(\"pendingTransactions\")}</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<StyledBox>\n\t\t\t\t\t\t\t{pendingTransactions && pendingTransactions?.length > 0 ? (\n\t\t\t\t\t\t\t\tpendingTransactions.map((txn) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TxnBox\n\t\t\t\t\t\t\t\t\t\t\thref={txn?.hash ? getEtherscanLink(1, txn?.hash, \"transaction\") : \"#\"}\n\t\t\t\t\t\t\t\t\t\t\ttarget={\"_blank\"}\n\t\t\t\t\t\t\t\t\t\t\trel={\"noreferrer noopener\"}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{txn?.hash ? txn?.hash?.slice(0, 6) + \"...\" + txn?.hash?.slice(-4) : \"-\"} ðŸ¡•\n\t\t\t\t\t\t\t\t\t\t</TxnBox>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<EmptyText>{t(\"errors.noTransaction\")}</EmptyText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</StyledBox>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<Title>{t(\"confirmedTransactions\")}</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<StyledBox style={{ marginBottom: 0 }}>\n\t\t\t\t\t\t\t{confirmedTransactions && confirmedTransactions?.length > 0 ? (\n\t\t\t\t\t\t\t\tconfirmedTransactions.map((txn) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TxnBox\n\t\t\t\t\t\t\t\t\t\t\thref={txn?.hash ? getEtherscanLink(1, txn?.hash, \"transaction\") : \"#\"}\n\t\t\t\t\t\t\t\t\t\t\ttarget={\"_blank\"}\n\t\t\t\t\t\t\t\t\t\t\trel={\"noreferrer noopener\"}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{txn?.hash ? txn?.hash?.slice(0, 6) + \"...\" + txn?.hash?.slice(-4) : \"-\"} ðŸ¡•\n\t\t\t\t\t\t\t\t\t\t</TxnBox>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<EmptyText>{t(\"errors.noTransaction\")}</EmptyText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</StyledBox>\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<SeeAllButton to={\"/account/history\"}>{t(\"seeAllTransactions\")}</SeeAllButton>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</DropDown>\n\t\t</Wrapper>\n\t);\n};\n\nexport default withRouter(NotificationDropdown);\n","import { Navbar, Button, Nav } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport SVG from \"react-inlinesvg\";\n\nimport Logo from \"../Logo\";\nimport \"./styles.scss\";\nimport { useWalletModalToggle } from \"../../state/application/hooks\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { getEtherscanLink, shortenAddress } from \"../../utils\";\nimport { routes, accountRoutes } from \"../../constants/headerRoutes\";\nimport HeaderDropdown from \"../HeaderDropdown\";\nimport UserDropdown from \"../HeaderDropdown/UserDropdown\";\nimport CurrencyDropdown from \"../HeaderDropdown/CurrencyDropdown\";\nimport SideDrawer from \"../SideDrawer\";\nimport { useEffect, useState } from \"react\";\nimport { emitter } from \"../../lib/helper\";\nimport { shorten } from \"../../state/governance/hooks\";\nimport ThemeToggler from \"../ThemeToggler\";\nimport { useTranslation } from \"react-i18next\";\nimport NotificationDropdown from \"../HeaderDropdown/NotificationDropDown\";\n\nconst Container = styled.div`\n\ttransition: all ease 0.4s;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: ${({ right }) => (right ? `${right}px` : \"0\")};\n\tbackground-color: ${({ theme, scrolled }) => (scrolled ? theme.modalBG : \"transparent\")};\n\tbox-shadow: ${({ scrolled }) => (scrolled ? \"-1px 11px 43px rgba(0, 0, 0, 0.12)\" : \"0 0 0 rgba(0, 0, 0, 0)\")};\n\tz-index: 800;\n\n\t& .navbar,\n\t& .header__inner {\n\t\tmin-height: ${({ scrolled }) => (scrolled ? \"80px\" : \"112px\")};\n\t\ttransition: 0.3s ease all;\n\t}\n\n\t@media (max-width: 1199px) {\n\t\tz-index: 1090;\n\n\t\tbody.modal-open & {\n\t\t\tbackground-color: ${({ theme }) => theme.modalBG};\n\t\t\tbox-shadow: 0 0 0 rgba(0, 0, 0, 0);\n\t\t}\n\t}\n`;\n\nconst WalletLink = styled.a`\n\tcolor: ${({ theme }) => theme.primary};\n\tbackground-color: rgba(135, 220, 225, 0.15);\n\tborder-radius: 18px;\n\ttext-decoration: none;\n\tpadding: 10px 15px;\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 1rem;\n\tmax-height: 48px;\n\theight: 48px;\n\tfont-weight: 500;\n\tmargin-bottom: 0;\n\tcursor: pointer;\n\tmargin-right: 10px;\n\n\t:hover {\n\t\ttext-decoration: none;\n\t}\n\n\t:focus,\n\t:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t}\n`;\n\nconst StyledNavbarBrand = styled(Navbar.Brand)`\n\ttransition: 0.4s all ease;\n\n\t@media (max-width: 1199px) {\n\t\tbody.modal-open & {\n\t\t\ttransform: ${({ hasCallback }) => (hasCallback ? \"translateX(52px)\" : \"translateX(0)\")};\n\t\t}\n\t}\n`;\n\nconst ThemeContainer = styled.div`\n\tmargin-right: 18px;\n`;\n\nconst BackButton = styled.button`\n\tborder: none;\n\tcolor: ${({ theme }) => theme.primary};\n\tbackground-color: rgba(135, 220, 225, 0.15);\n\tborder-radius: 300px;\n\twidth: 32px;\n\theight: 32px;\n\tposition: absolute;\n\ttop: calc(50% - 16px);\n\tleft: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: all ease 0.4s;\n\n\t@media (max-width: 1199px) {\n\t\ttransform: translateX(-50px) scale(0.9);\n\t\topacity: 0;\n\t\tvisibility: hidden;\n\n\t\tbody.modal-open & {\n\t\t\ttransform: ${({ hasCallback }) =>\n\t\t\t\thasCallback ? \"translateX(0) scale(1)\" : \"translateX(-50px) scale(0.9)\"};\n\t\t\topacity: ${({ hasCallback }) => (hasCallback ? \"1\" : \"0\")};\n\t\t\tvisibility: ${({ hasCallback }) => (hasCallback ? \"visible\" : \"hidden\")};\n\t\t}\n\t}\n\n\t&:hover {\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t\tcolor: ${({ theme }) => theme.bg2};\n\t}\n\n\t&:hover,\n\t&:active,\n\t&:focus {\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst MenuIcon = styled.div`\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst Header = (props) => {\n\tconst { account, chainId } = useActiveWeb3React();\n\tconst toggleConnectModal = useWalletModalToggle();\n\tconst [sidedrawer, setSidedrawer] = useState(false);\n\tconst [scrolled, setScrolled] = useState(false);\n\tconst [scrollbarWidth, setScrollbarWidth] = useState(0);\n\tconst { t } = useTranslation();\n\tconst [callback, setCallback] = useState({\n\t\taction: undefined,\n\t});\n\n\tconst handleUserScroll = (e) => {\n\t\tconst scroll = e.target.scrollTop;\n\n\t\tif (scroll > 50) {\n\t\t\tsetScrolled(true);\n\t\t} else {\n\t\t\tsetScrolled(false);\n\t\t}\n\t};\n\n\tconst _getScrollbarWidth = () => {\n\t\tconst scrollDiv = document.createElement(\"div\");\n\t\tscrollDiv.className = \"modal-scrollbar-measure\";\n\t\tdocument.body.appendChild(scrollDiv);\n\t\tconst scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n\t\tdocument.body.removeChild(scrollDiv);\n\t\treturn scrollbarWidth;\n\t};\n\n\tconst handleResize = () => {\n\t\tconst PaddingWidth = _getScrollbarWidth();\n\t\tsetScrollbarWidth(PaddingWidth);\n\t};\n\n\tconst dismissHandler = () => {\n\t\tsetSidedrawer(false);\n\t};\n\n\tconst setModalCallback = (e) => {\n\t\tsetCallback({\n\t\t\taction: e.action,\n\t\t});\n\t};\n\n\tconst removeModalCallback = () => {\n\t\tsetCallback({\n\t\t\taction: undefined,\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\temitter.on(\"open-modal\", setModalCallback);\n\t\temitter.on(\"close-modal\", removeModalCallback);\n\n\t\treturn () => {\n\t\t\temitter.off(\"open-modal\", setModalCallback);\n\t\t\temitter.off(\"close-modal\", removeModalCallback);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tdocument.body.addEventListener(\"scroll\", handleUserScroll);\n\n\t\treturn () => {\n\t\t\tdocument.body.removeEventListener(\"scroll\", handleUserScroll);\n\t\t};\n\t}, [handleUserScroll]);\n\n\tuseEffect(handleResize, []);\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"resize\", handleResize);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\", handleResize);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<SideDrawer open={sidedrawer} onDismiss={dismissHandler} />\n\t\t\t<Container scrolled={scrolled} right={scrollbarWidth} hasCallback={callback.action !== undefined}>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<Navbar className={\"header px-0\"} expand={\"xl\"} variant={\"dark\"}>\n\t\t\t\t\t\t<div className=\"back-button d-xl-none\">\n\t\t\t\t\t\t\t<BackButton onClick={callback.action} hasCallback={callback.action !== undefined}>\n\t\t\t\t\t\t\t\t<SVG src={require(\"../../assets/images/global/arrow-left.svg\").default} />\n\t\t\t\t\t\t\t</BackButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"header__inner\"}>\n\t\t\t\t\t\t\t<StyledNavbarBrand hasCallback={callback.action !== undefined}>\n\t\t\t\t\t\t\t\t<Logo hideOnMobile />\n\t\t\t\t\t\t\t</StyledNavbarBrand>\n\t\t\t\t\t\t\t<MenuIcon className={\"d-flex d-xl-none\"}>\n\t\t\t\t\t\t\t\t<SVG\n\t\t\t\t\t\t\t\t\tsrc={require(\"../../assets/images/menu.svg\").default}\n\t\t\t\t\t\t\t\t\tonClick={() => setSidedrawer(true)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuIcon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t\t\t<Nav className=\"mr-auto header__nav\">\n\t\t\t\t\t\t\t\t{Object.keys(routes).map((key) => {\n\t\t\t\t\t\t\t\t\tconst r = routes[key];\n\t\t\t\t\t\t\t\t\tif (r.hasOwnProperty(\"path\")) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\t\t\t\tto={r.path}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"header__item\"}\n\t\t\t\t\t\t\t\t\t\t\t\tactiveClassName={\"header__item--active\"}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{t(`menu.${r.title}`)}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn <HeaderDropdown title={r.title} items={r.routes} />;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t\t<div className={\"d-flex align-items-stretch align-items-lg-center flex-column flex-lg-row\"}>\n\t\t\t\t\t\t\t\t<ThemeContainer>\n\t\t\t\t\t\t\t\t\t<ThemeToggler />\n\t\t\t\t\t\t\t\t</ThemeContainer>\n\t\t\t\t\t\t\t\t<NotificationDropdown />\n\t\t\t\t\t\t\t\t<CurrencyDropdown />\n\t\t\t\t\t\t\t\t{!account ? (\n\t\t\t\t\t\t\t\t\t<Button variant={\"outline-primary\"} onClick={toggleConnectModal}>\n\t\t\t\t\t\t\t\t\t\t{t(\"menu.connect\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className={\"d-flex align-items-center justify-content-center pt-3 pt-lg-0\"}>\n\t\t\t\t\t\t\t\t\t\t<WalletLink\n\t\t\t\t\t\t\t\t\t\t\thref={chainId && getEtherscanLink(chainId, account, \"address\")}\n\t\t\t\t\t\t\t\t\t\t\ttarget={\"_blank\"}\n\t\t\t\t\t\t\t\t\t\t\trel={\"noopener noreferrer\"}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{shorten(account, \"symbol\")}\n\t\t\t\t\t\t\t\t\t\t</WalletLink>\n\t\t\t\t\t\t\t\t\t\t<UserDropdown items={accountRoutes} title={\"account\"} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t\t</Navbar>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t</>\n\t);\n};\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/github.b2a4abed.svg\";","export default __webpack_public_path__ + \"static/media/youtube.1f323da5.svg\";","export default __webpack_public_path__ + \"static/media/telegram.57ac4a1b.svg\";","export default __webpack_public_path__ + \"static/media/twitter.4a6a1dc4.svg\";","import SVG from \"react-inlinesvg\";\nimport styled from \"styled-components\";\n\nimport Github from '../../assets/images/socials/github.svg';\nimport Youtube from '../../assets/images/socials/youtube.svg';\nimport Telegram from '../../assets/images/socials/telegram.svg';\nimport Twitter from '../../assets/images/socials/twitter.svg';\nimport \"./styles.scss\";\n\nconst socials = [\n    {\n        name: 'Twitter',\n        image: Twitter,\n        url: \"https://twitter.com/octofinance\",\n    },\n    {\n        name: 'Telegram',\n        image: Telegram,\n        url: \"https://t.me/OctoFi\",\n    },\n    {\n        name: 'Youtube',\n        image: Youtube,\n        url: \"https://www.youtube.com/channel/UCQ8TelmjLpFKQAsZCXIs5Tw\",\n    },\n    {\n        name: 'Github',\n        image: Github,\n        url: \"https://github.com/octofi\",\n    },\n];\n\nconst StyledLink = styled.a`\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst Socials = (props) => {\n\treturn (\n\t\t<div className=\"d-flex align-items-center justify-content-between\">\n\t\t\t<ul className={\"socials\"}>\n\t\t\t\t{socials.map((social, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li className={\"socials__item\"} key={social.name + i}>\n\t\t\t\t\t\t\t<StyledLink\n\t\t\t\t\t\t\t\thref={social.url}\n\t\t\t\t\t\t\t\ttarget={\"_blank\"}\n\t\t\t\t\t\t\t\trel={\"noopener noreferrer\"}\n\t\t\t\t\t\t\t\tclassName={\"socials__link\"}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SVG src={social.image} />\n\t\t\t\t\t\t\t</StyledLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default Socials;\n","export default __webpack_public_path__ + \"static/media/footer-desktop.a14f14ad.png\";","export default __webpack_public_path__ + \"static/media/footer-mobile.c1d6bbf4.png\";","export default __webpack_public_path__ + \"static/media/footer_1.881a5177.svg\";","export default __webpack_public_path__ + \"static/media/footer_2.4c1a8af0.svg\";","import { Link } from \"react-router-dom\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\n\nimport Logo from \"../Logo\";\nimport \"./styles.scss\";\nimport Socials from \"../Socials\";\nimport { routes } from \"../../constants/headerRoutes\";\nimport DesktopImage from \"../../assets/images/footer/footer-desktop.png\";\nimport MobileImage from \"../../assets/images/footer/footer-mobile.png\";\nimport FooterBG from \"../../assets/images/footer_1.svg\";\nimport FooterSecondBG from \"../../assets/images/footer_2.svg\";\n\nconst Container = styled.footer`\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tborder: 1px solid ${({ theme }) => theme.text4};\n\tborder-bottom-width: 0;\n\tborder-radius: 18px;\n\tpadding: 74px 70px 115px;\n\tmargin: 113px -86px -1px;\n\tposition: relative;\n\n\t@media (max-width: 991px) {\n\t\tmargin: 82px 0 0;\n\n\t\tpadding: 21px 24px 40px;\n\t}\n\n\t&::before {\n\t\tcontent: \"\";\n\t\twidth: 270px;\n\t\theight: 290px;\n\t\tposition: absolute;\n\t\tright: 32px;\n\t\ttop: -102px;\n\t\tbackground-image: url(${({ desktop }) => desktop});\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: contain;\n\n\t\t@media (max-width: 991px) {\n\t\t\tbackground-image: url(${({ mobile }) => mobile});\n\t\t\twidth: 149px;\n\t\t\theight: 158px;\n\t\t\tright: 0;\n\t\t\ttop: -72px;\n\t\t}\n\t}\n`;\n\nconst Content = styled.div`\n\tz-index: 10;\n\tposition: relative;\n`;\n\nconst FooterAbout = styled.div`\n\twidth: 275px;\n`;\n\nconst BG = styled.div`\n\tposition: absolute;\n\tz-index: 1;\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 18px;\n\ttop: 0;\n\tleft: 0;\n\toverflow: hidden;\n\n\t&::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\ttop: -46px;\n\t\tleft: 0;\n\t\tbackground-image: url(${({ imageOne }) => imageOne});\n\t\tbackground-size: 876px 331px;\n\t\tbackground-repeat: no-repeat;\n\t\twidth: 876px;\n\t\theight: 331px;\n\n\t\t@media (max-width: 991px) {\n\t\t\tbottom: -9px;\n\t\t\tleft: -130px;\n\t\t\tright: auto;\n\t\t\tbackground-size: 705px 267px;\n\t\t\twidth: 705px;\n\t\t\theight: 267px;\n\t\t}\n\t}\n\n\t&::after {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tbottom: -9px;\n\t\tright: 42px;\n\t\tbackground-image: url(${({ imageTwo }) => imageTwo});\n\t\tbackground-size: 810px 282px;\n\t\tbackground-repeat: no-repeat;\n\t\twidth: 810px;\n\t\theight: 282px;\n\t\tz-index: 1;\n\n\t\t@media (max-width: 991px) {\n\t\t\tbottom: -197px;\n\t\t\tleft: -369px;\n\t\t\tright: auto;\n\t\t\tbackground-size: 827px 288px;\n\t\t\twidth: 827px;\n\t\t\theight: 288px;\n\t\t}\n\t}\n`;\n\nconst MobileSocials = styled.div`\n\tpadding-top: 60px;\n`;\n\nconst LogoContainer = styled.div`\n\tmargin-bottom: 67px;\n\n\t@media (max-width: 991px) {\n\t\tmargin-bottom: 0;\n\t}\n`;\n\nconst CopyRight = styled.div`\n\tfont-size: 0.875rem;\n\n\t&.link {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\n\t\t&:hover {\n\t\t\ttext-decoration: none;\n\t\t\tcolor: ${({ theme }) => theme.text2};\n\t\t}\n\t}\n`;\n\nconst List = styled.div`\n\tpadding-top: 96px;\n\n\t@media (max-width: 991px) {\n\t\tpadding-top: 47px;\n\t\tflex-wrap: wrap;\n\t}\n`;\n\nconst ListContainer = styled.div`\n\tflex: 1;\n`;\n\nconst Links = styled.ul`\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0 45px 0 0;\n\n\t@media (max-width: 991px) {\n\t\tpadding-right: 16px;\n\t\tflex-basis: 50%;\n\t}\n`;\n\nconst StyledLink = styled(Link)`\n\ttext-decoration: none;\n\tfont-weight: 400;\n\tdisplay: block;\n\tcolor: ${({ theme }) => theme.text1};\n\tmargin-bottom: 22px;\n\twhite-space: nowrap;\n\tfont-size: 0.875rem;\n\n\t&.footer__link--primary {\n\t\tcolor: ${({ theme }) => theme.primary};\n\t\tmargin-bottom: 24px;\n\t\tfont-weight: 500;\n\t}\n\n\t&:hover {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tcolor: ${({ theme }) => theme.text2};\n\t}\n`;\n\nconst Footer = (props) => {\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<Container className=\"footer\" desktop={DesktopImage} mobile={MobileImage}>\n\t\t\t<BG className=\"footer__bg\" imageOne={FooterBG} imageTwo={FooterSecondBG} />\n\t\t\t<Content className=\"footer__content w-100 d-flex flex-column flex-lg-row\">\n\t\t\t\t<FooterAbout className={\"d-flex flex-column footer__about\"}>\n\t\t\t\t\t<LogoContainer className=\"footer__logo\">\n\t\t\t\t\t\t<Logo />\n\t\t\t\t\t</LogoContainer>\n\t\t\t\t\t<div className=\"d-none d-lg-flex flex-column\">\n\t\t\t\t\t\t<Socials />\n\t\t\t\t\t\t<CopyRight className=\"footer__copyright\">\n\t\t\t\t\t\t\t<Trans i18nKey={\"app.copyright\"} values={{ company: \"OctoFi\" }}>\n\t\t\t\t\t\t\t\tDecentralized Finance Tentacles,{\" \"}\n\t\t\t\t\t\t\t\t<a href=\"#\" className={\"link\"}>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</CopyRight>\n\t\t\t\t\t</div>\n\t\t\t\t</FooterAbout>\n\t\t\t\t<ListContainer className={\"footer__list-container\"}>\n\t\t\t\t\t<List className=\"d-flex footer__list\">\n\t\t\t\t\t\t{Object.keys(routes).map((key) => {\n\t\t\t\t\t\t\tconst r = routes[key];\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Links className=\"footer__links\" key={key}>\n\t\t\t\t\t\t\t\t\t<li className={\"footer__item\"}>\n\t\t\t\t\t\t\t\t\t\t<StyledLink\n\t\t\t\t\t\t\t\t\t\t\tto={r.hasOwnProperty(\"path\") ? r.path : \"#\"}\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"footer__link footer__link--primary\"}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t(`menu.${r.title}`)}\n\t\t\t\t\t\t\t\t\t\t</StyledLink>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t{r.hasOwnProperty(\"routes\") &&\n\t\t\t\t\t\t\t\t\t\tObject.values(r.routes).map((item, index) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<li className={\"footer__item\"} key={`${key}-${index}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledLink to={item.path} className={\"footer__link\"}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(`menu.${item.title}`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledLink>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Links>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</List>\n\t\t\t\t</ListContainer>\n\n\t\t\t\t<MobileSocials className=\"d-flex d-lg-none flex-column align-items-center justify-content-center footer__mobile-socials\">\n\t\t\t\t\t<Socials />\n\t\t\t\t\t<CopyRight className=\"footer__copyright\">\n\t\t\t\t\t\t<Trans i18nKey={\"app.copyright\"} values={{ company: \"OctoFi\" }}>\n\t\t\t\t\t\t\tDecentralized Finance Tentacles {\" \"}\n\t\t\t\t\t\t\t<a href=\"#\" className={\"link\"}>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</CopyRight>\n\t\t\t\t</MobileSocials>\n\t\t\t</Content>\n\t\t</Container>\n\t);\n};\n\nexport default Footer;\n","import { Row, Col } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport { useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport toast from \"react-hot-toast\";\n\nconst PageContainer = styled.div`\n\tbackground-color: ${({ hasBg, theme }) => (hasBg ? theme.modalBG : \"transparent\")};\n\tpadding-top: 112px;\n\n\t@media (min-width: 768px) {\n\t\tbackground-color: transparent;\n\t}\n`;\n\nconst PageContent = styled.div`\n\t@media (min-width: 768px) {\n\t\tmargin-left: ${({ size }) => (size === \"lg\" ? \"-60px\" : size === \"sm\" ? \"60px\" : \"0\")};\n\t\tmargin-right: ${({ size }) => (size === \"lg\" ? \"-60px\" : size === \"sm\" ? \"60px\" : \"0\")};\n\t}\n\t@media (min-width: 1400px) {\n\t\tmargin-left: ${({ size }) =>\n\t\t\tsize === \"xl\" ? \"-110px\" : size === \"lg\" ? \"-60px\" : size === \"sm\" ? \"60px\" : \"0\"};\n\t\tmargin-right: ${({ size }) =>\n\t\t\tsize === \"xl\" ? \"-110px\" : size === \"lg\" ? \"-60px\" : size === \"sm\" ? \"60px\" : \"0\"};\n\t}\n`;\n\nconst Title = styled.h1`\n\tfont-size: 1.25rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text1};\n\tmargin-top: 26px;\n\tmargin-bottom: ${({ morePadding }) => (morePadding ? \"50px\" : \"20px\")} !important;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 2.5rem;\n\t\tmargin-top: 86px;\n\t\tmargin-bottom: 50px !important;\n\t}\n`;\n\nconst Page = (props) => {\n\tuseEffect(() => {\n\t\tdocument.body.scrollTo(0, 0);\n\t}, []);\n\treturn (\n\t\t<>\n\t\t\t<Header />\n\t\t\t<PageContainer hasBg={props.hasBg} className=\"page container\">\n\t\t\t\t<PageContent size={props.size || \"base\"}>\n\t\t\t\t\t{props.title && (\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t<Title morePadding={props.morePadding}>{props.title}</Title>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t)}\n\t\t\t\t\t{props.children}\n\t\t\t\t</PageContent>\n\t\t\t\t<Footer />\n\t\t\t</PageContainer>\n\t\t</>\n\t);\n};\n\nexport default withRouter(Page);\n","const ENS_NAME_REGEX = /^(([a-zA-Z0-9]+\\.)+)eth(\\/.*)?$/;\n\nexport function parseENSAddress(ensAddress: string): { ensName: string; ensPath: string | undefined } | undefined {\n\tconst match = ensAddress.match(ENS_NAME_REGEX);\n\tif (!match) return undefined;\n\treturn { ensName: `${match[1].toLowerCase()}eth`, ensPath: match[3] };\n}\n","import { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\n\nimport { rates as currencies } from \"../../constants\";\nimport { formatMoney } from \"../../lib/helper\";\n\nconst Floats = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\topacity: 0.25;\n`;\n\nconst CurrencyText = (props: any) => {\n\t// @ts-ignore\n\tconst { selected, currenciesRate }: { selected: any; currenciesRate: any } = useSelector((state) => state.currency);\n\tconst value = props.children * (currenciesRate[selected] || 1);\n\tconst formattedValue = formatMoney(value, value < 0.1 && value !== 0 ? 6 : 2);\n\tif (props.type === \"grey-dark\") {\n\t\tconst splitedValue = formattedValue?.split(\".\");\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{currencies[selected].symbol + splitedValue?.[0]}\n\t\t\t\t<Floats>.{splitedValue?.[1]}</Floats>\n\t\t\t</>\n\t\t);\n\t}\n\treturn <>{currencies[selected].symbol + formattedValue}</>;\n};\n\nexport default CurrencyText;\n","import \"./style.scss\";\n\nconst Button = ({ className, ...props }) => {\n\tlet classes = [\"btn btn-primary btn-gradient-primary\"];\n\tif (className) {\n\t\tclasses.push(className);\n\t}\n\treturn (\n\t\t<button className={classes.join(\" \")} {...props}>\n\t\t\t{props.children}\n\t\t</button>\n\t);\n};\n\nexport default Button;\n","import CID from \"cids\";\nimport { getCodec, rmPrefix } from \"multicodec\";\nimport { decode, toB58String } from \"multihashes\";\n\nexport function hexToUint8Array(hex: string): Uint8Array {\n\thex = hex.startsWith(\"0x\") ? hex.substr(2) : hex;\n\tif (hex.length % 2 !== 0) throw new Error(\"hex must have length that is multiple of 2\");\n\tconst arr = new Uint8Array(hex.length / 2);\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tarr[i] = parseInt(hex.substr(i * 2, 2), 16);\n\t}\n\treturn arr;\n}\n\nconst UTF_8_DECODER = new TextDecoder();\n\n/**\n * Returns the URI representation of the content hash for supported codecs\n * @param contenthash to decode\n */\nexport default function contenthashToUri(contenthash: string): string {\n\tconst buff = hexToUint8Array(contenthash);\n\tconst codec = getCodec(buff as Buffer); // the typing is wrong for @types/multicodec\n\tswitch (codec) {\n\t\tcase \"ipfs-ns\": {\n\t\t\tconst data = rmPrefix(buff as Buffer);\n\t\t\tconst cid = new CID(data);\n\t\t\treturn `ipfs://${toB58String(cid.multihash)}`;\n\t\t}\n\t\tcase \"ipns-ns\": {\n\t\t\tconst data = rmPrefix(buff as Buffer);\n\t\t\tconst cid = new CID(data);\n\t\t\tconst multihash = decode(cid.multihash);\n\t\t\tif (multihash.name === \"identity\") {\n\t\t\t\treturn `ipns://${UTF_8_DECODER.decode(multihash.digest).trim()}`;\n\t\t\t} else {\n\t\t\t\treturn `ipns://${toB58String(cid.multihash)}`;\n\t\t\t}\n\t\t}\n\t\tdefault:\n\t\t\tthrow new Error(`Unrecognized codec: ${codec}`);\n\t}\n}\n","import styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst Header = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: -15px -15px 20px;\n\tpadding: 20px 16px 15px;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n`;\nconst HeaderTitle = styled.span`\n\tdisplay: block;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst HeaderValue = styled.span`\n\tdisplay: block;\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst Row = styled.div`\n\tborder-radius: 18px;\n\tborder: ${({ withoutBorder, theme }) => (withoutBorder ? \"none\" : `1px solid ${theme.text4}`)};\n\tpadding: ${({ withoutBorder }) => (withoutBorder ? \"0\" : \"15px\")};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 10px;\n\t}\n`;\n\nconst Field = styled.div`\n\tdisplay: flex;\n\talign-items: ${({ centered }) => (centered ? \"center\" : \"flex-start\")};\n\tjustify-content: ${({ direction }) => (direction !== \"rtl\" ? \"flex-start\" : \"space-between\")};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n`;\n\nconst Desc = styled.span`\n\tfont-size: ${({ size }) => (size === \"lg\" ? \"0.875rem\" : \"0.75rem\")};\n\tfont-weight: 400;\n\tdisplay: flex;\n\tmin-width: 100px;\n`;\n\nconst Value = styled.div`\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tjustify-content: ${({ direction }) => (direction === \"rtl\" ? \"flex-end\" : \"flex-start\")};\n\ttext-align: ${({ direction }) => (direction === \"rtl\" ? \"right\" : \"left\")};\n\tpadding-top: ${({ withPadding }) => (withPadding ? \"12px\" : \"0\")};\n`;\n\nconst ResponsiveTable = ({ data, columns, breakpoint, ...props }) => {\n\treturn (\n\t\t<Wrapper className={`d-flex d-${breakpoint}-none`}>\n\t\t\t{data.map((row, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Row key={`row-${index}`} withoutBorder={props.withoutBorder}>\n\t\t\t\t\t\t{props.hasOwnProperty(\"headerIndex\") && (\n\t\t\t\t\t\t\t<Header>\n\t\t\t\t\t\t\t\t<HeaderTitle>{columns[props.headerIndex].text}</HeaderTitle>\n\t\t\t\t\t\t\t\t<HeaderValue>\n\t\t\t\t\t\t\t\t\t{columns[props.headerIndex].formatter(\n\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\tcolumns[props.headerIndex].hasOwnProperty(\"formatExtraData\")\n\t\t\t\t\t\t\t\t\t\t\t? columns[props.headerIndex].formatExtraData\n\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</HeaderValue>\n\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{columns.map((col, colIndex) => {\n\t\t\t\t\t\t\tif (props.hasOwnProperty(\"headerIndex\") && colIndex === props.headerIndex) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tkey={col.dataField}\n\t\t\t\t\t\t\t\t\tdirection={props.direction}\n\t\t\t\t\t\t\t\t\tcentered={props.centered && !col.notCentered}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{col.isAction ? (\n\t\t\t\t\t\t\t\t\t\t<Value withPadding direction={props.direction}>\n\t\t\t\t\t\t\t\t\t\t\t{col.formatter(\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\tcol.hasOwnProperty(\"formatExtraData\") ? col.formatExtraData : {}\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Value>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Desc size={props.size}>{col.text}</Desc>\n\t\t\t\t\t\t\t\t\t\t\t<Value direction={props.direction}>\n\t\t\t\t\t\t\t\t\t\t\t\t{col.formatter(\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcol.hasOwnProperty(\"formatExtraData\") ? col.formatExtraData : {}\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Value>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Row>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Wrapper>\n\t);\n};\n\nexport default ResponsiveTable;\n","export default __webpack_public_path__ + \"static/media/search.f5d0b353.svg\";","import { TokenList } from \"@uniswap/token-lists\";\nimport schema from \"@uniswap/token-lists/src/tokenlist.schema.json\";\nimport Ajv from \"ajv\";\nimport contenthashToUri from \"./contenthashToUri\";\nimport { parseENSAddress } from \"./parseENSAddress\";\nimport uriToHttp from \"./uriToHttp\";\n\nconst tokenListValidator = new Ajv({ allErrors: true }).compile(schema);\n\n/**\n * Contains the logic for resolving a list URL to a validated token list\n * @param listUrl list url\n * @param resolveENSContentHash resolves an ens name to a contenthash\n */\nexport default async function getTokenList(\n\tlistUrl: string,\n\tresolveENSContentHash: (ensName: string) => Promise<string>\n): Promise<TokenList> {\n\tconst parsedENS = parseENSAddress(listUrl);\n\tlet urls: string[];\n\tif (parsedENS) {\n\t\tlet contentHashUri;\n\t\ttry {\n\t\t\tcontentHashUri = await resolveENSContentHash(parsedENS.ensName);\n\t\t} catch (error) {\n\t\t\tconsole.debug(`Failed to resolve ENS name: ${parsedENS.ensName}`, error);\n\t\t\tthrow new Error(`Failed to resolve ENS name: ${parsedENS.ensName}`);\n\t\t}\n\t\tlet translatedUri;\n\t\ttry {\n\t\t\ttranslatedUri = contenthashToUri(contentHashUri);\n\t\t} catch (error) {\n\t\t\tconsole.debug(\"Failed to translate contenthash to URI\", contentHashUri);\n\t\t\tthrow new Error(`Failed to translate contenthash to URI: ${contentHashUri}`);\n\t\t}\n\t\turls = uriToHttp(`${translatedUri}${parsedENS.ensPath ?? \"\"}`);\n\t} else {\n\t\turls = uriToHttp(listUrl);\n\t}\n\tfor (let i = 0; i < urls.length; i++) {\n\t\tconst url = urls[i];\n\t\tconst isLast = i === urls.length - 1;\n\t\tlet response;\n\t\ttry {\n\t\t\tresponse = await fetch(url);\n\t\t} catch (error) {\n\t\t\tconsole.debug(\"Failed to fetch list\", listUrl, error);\n\t\t\tif (isLast) throw new Error(`Failed to download list ${listUrl}`);\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!response.ok) {\n\t\t\tif (isLast) throw new Error(`Failed to download list ${listUrl}`);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst json = await response.json();\n\t\tif (!tokenListValidator(json)) {\n\t\t\tconst validationErrors: string =\n\t\t\t\ttokenListValidator.errors?.reduce<string>((memo, error) => {\n\t\t\t\t\tconst add = `${error.dataPath} ${error.message ?? \"\"}`;\n\t\t\t\t\treturn memo.length > 0 ? `${memo}; ${add}` : `${add}`;\n\t\t\t\t}, \"\") ?? \"unknown error\";\n\t\t\tthrow new Error(`Token list failed validation: ${validationErrors}`);\n\t\t}\n\t\treturn json;\n\t}\n\tthrow new Error(\"Unrecognized list URL protocol.\");\n}\n","import { Contract } from \"@ethersproject/contracts\";\nimport { Provider } from \"@ethersproject/abstract-provider\";\nimport { namehash } from \"ethers/lib/utils\";\n\nconst REGISTRAR_ABI = [\n\t{\n\t\tconstant: true,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: \"node\",\n\t\t\t\ttype: \"bytes32\",\n\t\t\t},\n\t\t],\n\t\tname: \"resolver\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"resolverAddress\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n];\nconst REGISTRAR_ADDRESS = \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\";\n\nconst RESOLVER_ABI = [\n\t{\n\t\tconstant: true,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"bytes32\",\n\t\t\t\tname: \"node\",\n\t\t\t\ttype: \"bytes32\",\n\t\t\t},\n\t\t],\n\t\tname: \"contenthash\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"bytes\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"bytes\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n];\n\n// cache the resolver contracts since most of them are the public resolver\nfunction resolverContract(resolverAddress: string, provider: Provider): Contract {\n\treturn new Contract(resolverAddress, RESOLVER_ABI, provider);\n}\n\n/**\n * Fetches and decodes the result of an ENS contenthash lookup on mainnet to a URI\n * @param ensName to resolve\n * @param provider provider to use to fetch the data\n */\nexport default async function resolveENSContentHash(ensName: string, provider: Provider): Promise<string> {\n\tconst ensRegistrarContract = new Contract(REGISTRAR_ADDRESS, REGISTRAR_ABI, provider);\n\tconst hash = namehash(ensName);\n\tconst resolverAddress = await ensRegistrarContract.resolver(hash);\n\treturn resolverContract(resolverAddress, provider).contenthash(hash);\n}\n","import { nanoid } from \"@reduxjs/toolkit\";\nimport { ChainId } from \"@uniswap/sdk\";\nimport { TokenList } from \"@uniswap/token-lists\";\nimport { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { getNetworkLibrary, NETWORK_CHAIN_ID } from \"../connectors\";\nimport { AppDispatch } from \"../state\";\nimport { fetchTokenList } from \"../state/lists/actions\";\nimport getTokenList from \"../utils/getTokenList\";\nimport resolveENSContentHash from \"../utils/resolveENSContentHash\";\nimport { useActiveWeb3React } from \"./index\";\n\nexport function useFetchListCallback(): (listUrl: string, sendDispatch?: boolean) => Promise<TokenList> {\n\tconst { chainId, library } = useActiveWeb3React();\n\tconst dispatch = useDispatch<AppDispatch>();\n\n\tconst ensResolver = useCallback(\n\t\t(ensName: string) => {\n\t\t\tif (!library || chainId !== ChainId.MAINNET) {\n\t\t\t\tif (NETWORK_CHAIN_ID === ChainId.MAINNET) {\n\t\t\t\t\tconst networkLibrary = getNetworkLibrary();\n\t\t\t\t\tif (networkLibrary) {\n\t\t\t\t\t\treturn resolveENSContentHash(ensName, networkLibrary);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthrow new Error(\"Could not construct mainnet ENS resolver\");\n\t\t\t}\n\t\t\treturn resolveENSContentHash(ensName, library);\n\t\t},\n\t\t[chainId, library]\n\t);\n\n\t// note: prevent dispatch if using for list search or unsupported list\n\treturn useCallback(\n\t\tasync (listUrl: string, sendDispatch = true) => {\n\t\t\tconst requestId = nanoid();\n\t\t\tsendDispatch && dispatch(fetchTokenList.pending({ requestId, url: listUrl }));\n\t\t\treturn getTokenList(listUrl, ensResolver)\n\t\t\t\t.then((tokenList) => {\n\t\t\t\t\tsendDispatch && dispatch(fetchTokenList.fulfilled({ url: listUrl, tokenList, requestId }));\n\t\t\t\t\treturn tokenList;\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.debug(`Failed to get list at url ${listUrl}`, error);\n\t\t\t\t\tsendDispatch &&\n\t\t\t\t\t\tdispatch(fetchTokenList.rejected({ url: listUrl, requestId, errorMessage: error.message }));\n\t\t\t\t\tthrow error;\n\t\t\t\t});\n\t\t},\n\t\t[dispatch, ensResolver]\n\t);\n}\n","import {\n\tBigintIsh,\n\tCurrency,\n\tCurrencyAmount,\n\tcurrencyEquals,\n\tETHER,\n\tPair,\n\tPercent,\n\tRoute,\n\tToken,\n\tTokenAmount,\n\tTrade,\n\tTradeType,\n\tWETH,\n} from \"@uniswap/sdk\";\nimport { useMemo } from \"react\";\nimport { useV1FactoryContract } from \"../hooks/useContract\";\nimport { Version } from \"../hooks/useToggledVersion\";\nimport { useSingleCallResult } from \"../state/multicall/hooks\";\nimport { useETHBalances, useTokenBalance } from \"../state/wallet/hooks\";\n\nexport function useV1ExchangeAddress(tokenAddress?: string): string | undefined {\n\tconst contract = useV1FactoryContract();\n\n\tconst inputs = useMemo(() => [tokenAddress], [tokenAddress]);\n\treturn useSingleCallResult(contract, \"getExchange\", inputs)?.result?.[0];\n}\n\nexport class MockV1Pair extends Pair {\n\tconstructor(etherAmount: BigintIsh, tokenAmount: TokenAmount) {\n\t\tsuper(tokenAmount, new TokenAmount(WETH[tokenAmount.token.chainId], etherAmount));\n\t}\n}\n\nfunction useMockV1Pair(inputCurrency?: Currency): MockV1Pair | undefined {\n\tconst token = inputCurrency instanceof Token ? inputCurrency : undefined;\n\n\tconst isWETH = Boolean(token && token.equals(WETH[token.chainId]));\n\tconst v1PairAddress = useV1ExchangeAddress(isWETH ? undefined : token?.address);\n\tconst tokenBalance = useTokenBalance(v1PairAddress, token);\n\tconst ETHBalance = useETHBalances([v1PairAddress])[v1PairAddress ?? \"\"];\n\n\treturn useMemo(\n\t\t() =>\n\t\t\ttoken && tokenBalance && ETHBalance && inputCurrency\n\t\t\t\t? new MockV1Pair(ETHBalance.raw, tokenBalance)\n\t\t\t\t: undefined,\n\t\t[ETHBalance, inputCurrency, token, tokenBalance]\n\t);\n}\n\n/**\n * Returns the trade to execute on V1 to go between input and output token\n */\nexport function useV1Trade(\n\tisExactIn?: boolean,\n\tinputCurrency?: Currency,\n\toutputCurrency?: Currency,\n\texactAmount?: CurrencyAmount\n): Trade | undefined {\n\t// get the mock v1 pairs\n\tconst inputPair = useMockV1Pair(inputCurrency);\n\tconst outputPair = useMockV1Pair(outputCurrency);\n\n\tconst inputIsETH = inputCurrency === ETHER;\n\tconst outputIsETH = outputCurrency === ETHER;\n\n\t// construct a direct or through ETH v1 route\n\tlet pairs: Pair[] = [];\n\tif (inputIsETH && outputPair) {\n\t\tpairs = [outputPair];\n\t} else if (outputIsETH && inputPair) {\n\t\tpairs = [inputPair];\n\t}\n\t// if neither are ETH, it's token-to-token (if they both exist)\n\telse if (inputPair && outputPair) {\n\t\tpairs = [inputPair, outputPair];\n\t}\n\n\tconst route = inputCurrency && pairs && pairs.length > 0 && new Route(pairs, inputCurrency, outputCurrency);\n\tlet v1Trade: Trade | undefined;\n\ttry {\n\t\tv1Trade =\n\t\t\troute && exactAmount\n\t\t\t\t? new Trade(route, exactAmount, isExactIn ? TradeType.EXACT_INPUT : TradeType.EXACT_OUTPUT)\n\t\t\t\t: undefined;\n\t} catch (error) {\n\t\tconsole.debug(\"Failed to create V1 trade\", error);\n\t}\n\treturn v1Trade;\n}\n\nexport function getTradeVersion(trade?: Trade): Version | undefined {\n\tconst isV1 = trade?.route?.pairs?.some((pair) => pair instanceof MockV1Pair);\n\tif (isV1) return Version.v1;\n\tif (isV1 === false) return Version.v2;\n\treturn undefined;\n}\n\n// returns the v1 exchange against which a trade should be executed\nexport function useV1TradeExchangeAddress(trade: Trade | undefined): string | undefined {\n\tconst tokenAddress: string | undefined = useMemo(() => {\n\t\tif (!trade) return undefined;\n\t\tconst isV1 = getTradeVersion(trade) === Version.v1;\n\t\tif (!isV1) return undefined;\n\t\treturn trade.inputAmount instanceof TokenAmount\n\t\t\t? trade.inputAmount.token.address\n\t\t\t: trade.outputAmount instanceof TokenAmount\n\t\t\t? trade.outputAmount.token.address\n\t\t\t: undefined;\n\t}, [trade]);\n\treturn useV1ExchangeAddress(tokenAddress);\n}\n\nconst ZERO_PERCENT = new Percent(\"0\");\nconst ONE_HUNDRED_PERCENT = new Percent(\"1\");\n\n// returns whether tradeB is better than tradeA by at least a threshold percentage amount\nexport function isTradeBetter(\n\ttradeA: Trade | undefined,\n\ttradeB: Trade | undefined,\n\tminimumDelta: Percent = ZERO_PERCENT\n): boolean | undefined {\n\tif (tradeA && !tradeB) return false;\n\tif (tradeB && !tradeA) return true;\n\tif (!tradeA || !tradeB) return undefined;\n\n\tif (\n\t\ttradeA.tradeType !== tradeB.tradeType ||\n\t\t!currencyEquals(tradeA.inputAmount.currency, tradeB.inputAmount.currency) ||\n\t\t!currencyEquals(tradeB.outputAmount.currency, tradeB.outputAmount.currency)\n\t) {\n\t\tthrow new Error(\"Trades are not comparable\");\n\t}\n\n\tif (minimumDelta.equalTo(ZERO_PERCENT)) {\n\t\treturn tradeA.executionPrice.lessThan(tradeB.executionPrice);\n\t} else {\n\t\treturn tradeA.executionPrice.raw\n\t\t\t.multiply(minimumDelta.add(ONE_HUNDRED_PERCENT))\n\t\t\t.lessThan(tradeB.executionPrice);\n\t}\n}\n","import { useEffect, useRef } from \"react\";\n\nexport default function useInterval(callback: () => void, delay: null | number, leading = true) {\n\tconst savedCallback = useRef<() => void>();\n\n\t// Remember the latest callback.\n\tuseEffect(() => {\n\t\tsavedCallback.current = callback;\n\t}, [callback]);\n\n\t// Set up the interval.\n\tuseEffect(() => {\n\t\tfunction tick() {\n\t\t\tconst current = savedCallback.current;\n\t\t\tcurrent && current();\n\t\t}\n\n\t\tif (delay !== null) {\n\t\t\tif (leading) tick();\n\t\t\tconst id = setInterval(tick, delay);\n\t\t\treturn () => clearInterval(id);\n\t\t}\n\t\treturn undefined;\n\t}, [delay, leading]);\n}\n","import { isAddress } from \"../utils\";\nimport useENSAddress from \"./useENSAddress\";\nimport useENSName from \"./useENSName\";\n\n/**\n * Given a name or address, does a lookup to resolve to an address and name\n * @param nameOrAddress ENS name or address\n */\nexport default function useENS(\n\tnameOrAddress?: string | null\n): { loading: boolean; address: string | null; name: string | null } {\n\tconst validated = isAddress(nameOrAddress);\n\tconst reverseLookup = useENSName(validated ? validated : undefined);\n\tconst lookup = useENSAddress(nameOrAddress);\n\n\treturn {\n\t\tloading: reverseLookup.loading || lookup.loading,\n\t\taddress: validated ? validated : lookup.address,\n\t\tname: reverseLookup.ENSName\n\t\t\t? reverseLookup.ENSName\n\t\t\t: !validated && lookup.address\n\t\t\t? nameOrAddress || null\n\t\t\t: null,\n\t};\n}\n","import React from \"react\";\n\nimport styled, { keyframes } from \"styled-components\";\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst StyledSVG = styled.svg<{ size: string; stroke?: string }>`\n\tanimation: 2s ${rotate} linear infinite;\n\theight: ${({ size }) => size};\n\twidth: ${({ size }) => size};\n\tpath {\n\t\tstroke: ${({ stroke, theme }) => stroke ?? theme.primary1};\n\t}\n`;\n\n/**\n * Takes in custom size and stroke for circle color, default to primary color as fill,\n * need ...rest for layered styles on top\n */\nexport default function Loader({\n\tsize = \"16px\",\n\tstroke,\n\t...rest\n}: {\n\tsize?: string;\n\tstroke?: string;\n\t[k: string]: any;\n}) {\n\treturn (\n\t\t<StyledSVG\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tsize={size}\n\t\t\tstroke={stroke}\n\t\t\t{...rest}\n\t\t>\n\t\t\t<path\n\t\t\t\td=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5\"\n\t\t\t\tstrokeWidth=\"2.5\"\n\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t/>\n\t\t</StyledSVG>\n\t);\n}\n","import { isAddress } from \"../../utils\";\nimport { Token } from \"@uniswap/sdk\";\nimport { useMemo } from \"react\";\n\nexport function filterTokens(tokens: Token[], search: string): Token[] {\n\tif (search.length === 0) return tokens;\n\n\tconst searchingAddress = isAddress(search);\n\n\tif (searchingAddress) {\n\t\treturn tokens.filter((token) => token.address === searchingAddress);\n\t}\n\n\tconst lowerSearchParts = search\n\t\t.toLowerCase()\n\t\t.split(/\\s+/)\n\t\t.filter((s) => s.length > 0);\n\n\tif (lowerSearchParts.length === 0) {\n\t\treturn tokens;\n\t}\n\n\tconst matchesSearch = (s: string): boolean => {\n\t\tconst sParts = s\n\t\t\t.toLowerCase()\n\t\t\t.split(/\\s+/)\n\t\t\t.filter((s) => s.length > 0);\n\n\t\treturn lowerSearchParts.every((p) => p.length === 0 || sParts.some((sp) => sp.startsWith(p) || sp.endsWith(p)));\n\t};\n\n\treturn tokens.filter((token) => {\n\t\tconst { symbol, name } = token;\n\n\t\treturn (symbol && matchesSearch(symbol)) || (name && matchesSearch(name));\n\t});\n}\n\nexport function useSortedTokensByQuery(tokens: Token[] | undefined, searchQuery: string): Token[] {\n\treturn useMemo(() => {\n\t\tif (!tokens) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst symbolMatch = searchQuery\n\t\t\t.toLowerCase()\n\t\t\t.split(/\\s+/)\n\t\t\t.filter((s) => s.length > 0);\n\n\t\tif (symbolMatch.length > 1) {\n\t\t\treturn tokens;\n\t\t}\n\n\t\tconst exactMatches: Token[] = [];\n\t\tconst symbolSubtrings: Token[] = [];\n\t\tconst rest: Token[] = [];\n\n\t\t// sort tokens by exact match -> subtring on symbol match -> rest\n\t\ttokens.map((token) => {\n\t\t\tif (token.symbol?.toLowerCase() === symbolMatch[0]) {\n\t\t\t\treturn exactMatches.push(token);\n\t\t\t} else if (token.symbol?.toLowerCase().startsWith(searchQuery.toLowerCase().trim())) {\n\t\t\t\treturn symbolSubtrings.push(token);\n\t\t\t} else {\n\t\t\t\treturn rest.push(token);\n\t\t\t}\n\t\t});\n\n\t\treturn [...exactMatches, ...symbolSubtrings, ...rest];\n\t}, [tokens, searchQuery]);\n}\n","import React, { HTMLProps, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport { darken } from \"polished\";\nimport { ArrowLeft, X, Trash, ExternalLink as LinkIconFeather } from \"react-feather\";\n\nexport const ButtonText = styled.button`\n\toutline: none;\n\tborder: none;\n\tfont-size: inherit;\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tcursor: pointer;\n\n\t:hover {\n\t\topacity: 0.7;\n\t}\n\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nexport const TrashIcon = styled(Trash)`\n\theight: 16px;\n\twidth: 18px;\n\tmargin-left: 10px;\n\tstroke: ${({ theme }) => theme.text2};\n\n\tcursor: pointer;\n\talign-items: center;\n\tjustify-content: center;\n\tdisplay: flex;\n\n\t:hover {\n\t\topacity: 0.7;\n\t}\n`;\n\nconst LinkIconWrapper = styled.a`\n\ttext-decoration: none;\n\tcursor: pointer;\n\talign-items: center;\n\tjustify-content: center;\n\tdisplay: flex;\n\n\t:hover {\n\t\ttext-decoration: none;\n\t\topacity: 0.7;\n\t}\n\n\t:focus {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t}\n\n\t:active {\n\t\ttext-decoration: none;\n\t}\n`;\nexport const LinkIcon = styled(LinkIconFeather)`\n\theight: 16px;\n\twidth: 18px;\n\tmargin-left: 10px;\n\tstroke: ${({ theme }) => theme.blue1};\n`;\n\nexport function ExternalLinkIcon({\n\ttarget = \"_blank\",\n\thref,\n\trel = \"noopener noreferrer\",\n\t...rest\n}: Omit<HTMLProps<HTMLAnchorElement>, \"as\" | \"ref\" | \"onClick\"> & { href: string }) {\n\tconst handleClick = useCallback(\n\t\t(event: React.MouseEvent<HTMLAnchorElement>) => {\n\t\t\t// don't prevent default, don't redirect if it's a new tab\n\t\t\tif (target === \"_blank\" || event.ctrlKey || event.metaKey) {\n\t\t\t} else {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\t\t[href, target]\n\t);\n\treturn (\n\t\t<LinkIconWrapper target={target} rel={rel} href={href} onClick={handleClick} {...rest}>\n\t\t\t<LinkIcon />\n\t\t</LinkIconWrapper>\n\t);\n}\n\nexport const Button = styled.button.attrs<{ warning: boolean }, { backgroundColor: string }>(({ warning, theme }) => ({\n\tbackgroundColor: warning ? theme.red1 : theme.primary1,\n}))`\n\tpadding: 1rem 2rem 1rem 2rem;\n\tborder-radius: 3rem;\n\tcursor: pointer;\n\tuser-select: none;\n\tfont-size: 1rem;\n\tborder: none;\n\toutline: none;\n\tbackground-color: ${({ backgroundColor }) => backgroundColor};\n\tcolor: ${({ theme }) => theme.white};\n\twidth: 100%;\n\n\t:hover,\n\t:focus {\n\t\tbackground-color: ${({ backgroundColor }) => darken(0.05, backgroundColor)};\n\t}\n\n\t:active {\n\t\tbackground-color: ${({ backgroundColor }) => darken(0.1, backgroundColor)};\n\t}\n\n\t:disabled {\n\t\tbackground-color: ${({ theme }) => theme.bg1};\n\t\tcolor: ${({ theme }) => theme.text2};\n\t\tcursor: auto;\n\t}\n`;\n\n// for wrapper react feather icons\nexport const IconWrapper = styled.div<{ stroke?: string; size?: string; marginRight?: string; marginLeft?: string }>`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: ${({ size }) => size ?? \"20px\"};\n\theight: ${({ size }) => size ?? \"20px\"};\n\tmargin-right: ${({ marginRight }) => marginRight ?? 0};\n\tmargin-left: ${({ marginLeft }) => marginLeft ?? 0};\n\t& > * {\n\t\tstroke: ${({ theme, stroke }) => stroke ?? theme.blue1};\n\t}\n`;\n\nexport const CloseIcon = styled(X)<{ onClick: () => void }>`\n\tcursor: pointer;\n\t@media (max-width: 1199px) {\n\t\tdisplay: none;\n\t}\n`;\n\n// A button that triggers some onClick result, but looks like a link.\nexport const LinkStyledButton = styled.button<{ disabled?: boolean }>`\n\tborder: none;\n\ttext-decoration: none;\n\tbackground: none;\n\n\tcursor: ${({ disabled }) => (disabled ? \"default\" : \"pointer\")};\n\tcolor: ${({ theme, disabled }) => (disabled ? theme.text2 : theme.primary1)};\n\tfont-weight: 500;\n\n\t:hover {\n\t\ttext-decoration: ${({ disabled }) => (disabled ? null : \"underline\")};\n\t}\n\n\t:focus {\n\t\toutline: none;\n\t\ttext-decoration: ${({ disabled }) => (disabled ? null : \"underline\")};\n\t}\n\n\t:active {\n\t\ttext-decoration: none;\n\t}\n`;\n\n// An internal link from the react-router-dom library that is correctly styled\nexport const StyledInternalLink = styled(Link)`\n\ttext-decoration: none;\n\tcursor: pointer;\n\tcolor: ${({ theme }) => theme.primary1};\n\tfont-weight: 500;\n\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\t:focus {\n\t\toutline: none;\n\t\ttext-decoration: underline;\n\t}\n\n\t:active {\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst StyledLink = styled.a`\n\ttext-decoration: none;\n\tcursor: pointer;\n\tcolor: ${({ theme }) => theme.primary1};\n\tfont-weight: 500;\n\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\t:focus {\n\t\toutline: none;\n\t\ttext-decoration: underline;\n\t}\n\n\t:active {\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst rotateImg = keyframes`\n  0% {\n    transform: perspective(1000px) rotateY(0deg);\n  }\n\n  100% {\n    transform: perspective(1000px) rotateY(360deg);\n  }\n`;\n\nexport const UniTokenAnimated = styled.img`\n\tanimation: ${rotateImg} 5s cubic-bezier(0.83, 0, 0.17, 1) infinite;\n\tpadding: 2rem 0 0 0;\n\tfilter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.15));\n`;\n\n/**\n * Outbound link that handles firing google analytics events\n */\nexport function ExternalLink({\n\ttarget = \"_blank\",\n\thref,\n\trel = \"noopener noreferrer\",\n\t...rest\n}: Omit<HTMLProps<HTMLAnchorElement>, \"as\" | \"ref\" | \"onClick\"> & { href: string }) {\n\tconst handleClick = useCallback(\n\t\t(event: React.MouseEvent<HTMLAnchorElement>) => {\n\t\t\t// don't prevent default, don't redirect if it's a new tab\n\t\t\tif (target === \"_blank\" || event.ctrlKey || event.metaKey) {\n\t\t\t} else {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\t\t[href, target]\n\t);\n\treturn <StyledLink target={target} rel={rel} href={href} onClick={handleClick} {...rest} />;\n}\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const Spinner = styled.img`\n\tanimation: 2s ${rotate} linear infinite;\n\twidth: 16px;\n\theight: 16px;\n`;\n\nconst BackArrowLink = styled(StyledInternalLink)`\n\tcolor: ${({ theme }) => theme.text1};\n`;\nexport function BackArrow({ to }: { to: string }) {\n\treturn (\n\t\t<BackArrowLink to={to}>\n\t\t\t<ArrowLeft />\n\t\t</BackArrowLink>\n\t);\n}\n\nexport const CustomLightSpinner = styled(Spinner)<{ size: string }>`\n\theight: ${({ size }) => size};\n\twidth: ${({ size }) => size};\n`;\n\nexport const HideSmall = styled.span`\n\t${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n  `};\n`;\n","export default __webpack_public_path__ + \"static/media/external-link.fcd9ec77.svg\";","import axios from \"axios\";\nimport { useMemo } from \"react\";\n\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { cryptoExchangeRate } from \"../../http/currency\";\nimport { useETHBalances, useTokenBalances } from \"../wallet/hooks\";\nimport { ETHER, Token } from \"@uniswap/sdk\";\nimport { walletTokens } from \"../../constants/spot-config/mainnet/config.json\";\n\nexport const useLinkTokens = () => {\n\treturn useMemo(() => {\n\t\treturn Array.from(walletTokens)\n\t\t\t.filter(\n\t\t\t\t(token, index) => ![0, 27, 187, 208, 230, 232, 235, 244, 245].includes(index) || token.chainId !== 1\n\t\t\t)\n\t\t\t.map((token) => {\n\t\t\t\treturn new Token(token.chainId, token.address, token.decimals, token.symbol, token.name);\n\t\t\t});\n\t}, []);\n};\n\nexport const useMemoTokenBalances = () => {\n\tconst { account } = useActiveWeb3React();\n\tconst allTokens = useLinkTokens();\n\tconst walletBalances = useTokenBalances(account, allTokens);\n\tconst ethBalance = useETHBalances([account]);\n\n\treturn useMemo(() => {\n\t\treturn {\n\t\t\tETHER: ethBalance[account] || null,\n\t\t\t...walletBalances,\n\t\t};\n\t}, [account, walletBalances]);\n};\n\nexport const getBalances = (balances, wallet, ethRate) => {\n\treturn new Promise(async (resolve) => {\n\t\tconst tokens = [];\n\n\t\tlet finalResult = [];\n\t\tconst total = {\n\t\t\twallet: {\n\t\t\t\tbalances: [],\n\t\t\t\ttotal: 0,\n\t\t\t\ttitle: \"Wallet\",\n\t\t\t\tslug: \"wallet\",\n\t\t\t\tvariant: \"success\",\n\t\t\t},\n\t\t\tdeposits: {\n\t\t\t\tbalances: [],\n\t\t\t\ttotal: 0,\n\t\t\t\ttitle: \"Deposits\",\n\t\t\t\tslug: \"deposits\",\n\t\t\t\tvariant: \"success\",\n\t\t\t},\n\t\t\tdebts: {\n\t\t\t\tbalances: [],\n\t\t\t\ttotal: 0,\n\t\t\t\ttitle: \"Debts\",\n\t\t\t\tslug: \"debts\",\n\t\t\t\tvariant: \"danger\",\n\t\t\t},\n\t\t};\n\n\t\tObject.keys(wallet).forEach((key) => {\n\t\t\tconst balance = Number(wallet[key] ? wallet[key].toSignificant(6) : 0);\n\t\t\tif (balance !== 0 || key === \"ETHER\") {\n\t\t\t\ttokens.push({\n\t\t\t\t\taddress: key,\n\t\t\t\t});\n\t\t\t\ttotal.wallet.balances.push({ address: key, balance: wallet[key] });\n\t\t\t}\n\t\t});\n\n\t\tif (balances.length > 0) {\n\t\t\tfor (let i in balances) {\n\t\t\t\tfor (let j in balances[i].balances) {\n\t\t\t\t\tfor (let k in balances[i].balances[j].balances) {\n\t\t\t\t\t\tconst data = balances[i].balances[j].balances[k];\n\t\t\t\t\t\ttokens.push({\n\t\t\t\t\t\t\t...data.base.metadata,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfor (let l in data.underlying) {\n\t\t\t\t\t\t\ttokens.push({\n\t\t\t\t\t\t\t\t...data.underlying[l].metadata,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst res = await axios.get(\n\t\t\t`${cryptoExchangeRate}simple/token_price/ethereum?contract_addresses=${tokens\n\t\t\t\t.map((t) => t.address)\n\t\t\t\t.join(\",\")}&vs_currencies=USD`\n\t\t);\n\t\tconst prices = res.data;\n\n\t\tif (balances.length > 0) {\n\t\t\tconst transformedData = balances.map((currentBalance) => {\n\t\t\t\tconst transformedBalances = currentBalance.balances.map((cb) => {\n\t\t\t\t\tconst finalBalances = cb.balances.map((innerBalance) => {\n\t\t\t\t\t\tconst fiBalance = {};\n\n\t\t\t\t\t\tconst lowerAddress = innerBalance.base.metadata.address.toLowerCase();\n\t\t\t\t\t\tconst value =\n\t\t\t\t\t\t\tNumber.parseInt(innerBalance.base.balance) / 10 ** innerBalance.base.metadata.decimals;\n\n\t\t\t\t\t\tconst balanceUSD = prices[lowerAddress] ? prices[lowerAddress].usd * value : 0;\n\n\t\t\t\t\t\tfiBalance.base = {\n\t\t\t\t\t\t\t...innerBalance.base,\n\t\t\t\t\t\t\tbalanceUSD,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (innerBalance.underlying.length > 0) {\n\t\t\t\t\t\t\tconst underlyingBalance = innerBalance.underlying.map((ub) => {\n\t\t\t\t\t\t\t\tconst lowerAddress = ub.metadata.address.toLowerCase();\n\t\t\t\t\t\t\t\tconst value = Number.parseInt(ub.balance) / 10 ** ub.metadata.decimals;\n\t\t\t\t\t\t\t\tconst balanceUSD = lowerAddress === '0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee' ? value ? value / ethRate : 0 : prices[lowerAddress] ? prices[lowerAddress].usd * value : 0;\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...ub,\n\t\t\t\t\t\t\t\t\tbalanceUSD,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tfiBalance.total = underlyingBalance.reduce((result, value) => {\n\t\t\t\t\t\t\t\treturn (result += value.balanceUSD);\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\tfiBalance.underlying = underlyingBalance;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfiBalance.underlying = [];\n\t\t\t\t\t\t\tfiBalance.total = balanceUSD;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn fiBalance;\n\t\t\t\t\t});\n\t\t\t\t\tconst result = {\n\t\t\t\t\t\tbalances: finalBalances,\n\t\t\t\t\t\ttotal: finalBalances.reduce((result, item) => {\n\t\t\t\t\t\t\treturn (result += item.total);\n\t\t\t\t\t\t}, 0),\n\t\t\t\t\t\tmetadata: cb.metadata,\n\t\t\t\t\t};\n\t\t\t\t\tif (result.metadata.type === \"Asset\") {\n\t\t\t\t\t\ttotal.deposits.balances = total.deposits.balances.concat(...result.balances);\n\t\t\t\t\t\ttotal.deposits.total += result.total;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttotal.debts.balances = total.debts.balances.concat(...result.balances);\n\t\t\t\t\t\ttotal.debts.total += result.total;\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\tbalances: transformedBalances,\n\t\t\t\t\tmetadata: currentBalance.metadata,\n\t\t\t\t\ttotal: transformedBalances.reduce((result, item) => {\n\t\t\t\t\t\tconst sign = item.metadata.type === \"Debt\" ? -1 : 1;\n\t\t\t\t\t\treturn (result += sign * item.total);\n\t\t\t\t\t}, 0),\n\t\t\t\t};\n\t\t\t});\n\t\t\tfinalResult = transformedData;\n\t\t}\n\n\t\tif (total.wallet.balances.length > 0) {\n\t\t\tconst transformedWalletBalance = total.wallet.balances.map((balance) => {\n\t\t\t\tif (balance.address === \"ETHER\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmetadata: ETHER,\n\t\t\t\t\t\tbalance: balance.balance || 0,\n\t\t\t\t\t\tbalanceUSD: balance.balance ? balance.balance.toSignificant(6) / ethRate : 0,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tconst lowerAddress = balance.address.toLowerCase();\n\t\t\t\t\tconst balanceUSD = prices[lowerAddress]\n\t\t\t\t\t\t? prices[lowerAddress].usd * Number(balance.balance.toSignificant(6))\n\t\t\t\t\t\t: 0;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmetadata: balance.balance.currency,\n\t\t\t\t\t\tbalance: balance.balance,\n\t\t\t\t\t\tbalanceUSD,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\ttotal.wallet.balances = transformedWalletBalance;\n\t\t\ttotal.wallet.total = transformedWalletBalance.reduce((result, item) => {\n\t\t\t\treturn (result += item.balanceUSD);\n\t\t\t}, 0);\n\t\t}\n\n\t\tresolve({\n\t\t\tbalances: finalResult,\n\t\t\toverview: total,\n\t\t});\n\t});\n};\n","import axios from \"axios\";\n\nexport default class Governance {\n\tconstructor(baseURL = `${process.env.REACT_APP_HUB_URL}/api/`) {\n\t\tthis.baseURL = baseURL;\n\n\t\tthis.request = axios.create({\n\t\t\tbaseURL: this.baseURL,\n\t\t\ttimeout: 30000,\n\t\t});\n\t}\n\n\tget(type, payload) {\n\t\tswitch (type) {\n\t\t\tcase \"spaces\": {\n\t\t\t\treturn this.fetchSpaces(payload);\n\t\t\t}\n\t\t\tcase \"singleSpace\": {\n\t\t\t\treturn this.fetchSingleSpace(payload);\n\t\t\t}\n\t\t\tcase \"proposals\": {\n\t\t\t\treturn this.fetchProposals(payload);\n\t\t\t}\n\t\t\tcase \"singleProposal\": {\n\t\t\t\treturn this.fetchSingleProposal(payload);\n\t\t\t}\n\t\t\tcase \"votes\": {\n\t\t\t\treturn this.fetchVotes(payload);\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\tresolve(null);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfetchSpaces() {\n\t\treturn this.request\n\t\t\t.get(\"spaces\")\n\t\t\t.then((response) => response.data)\n\t\t\t.catch((error) => error);\n\t}\n\n\tfetchSingleSpace({ id }) {\n\t\treturn this.request\n\t\t\t.get(`spaces/${id}`)\n\t\t\t.then((response) => response.data)\n\t\t\t.catch((error) => error);\n\t}\n\n\tfetchProposals({ id }) {\n\t\treturn this.request\n\t\t\t.get(`${id}/proposals`)\n\t\t\t.then((response) => response.data)\n\t\t\t.catch((error) => error);\n\t}\n\n\tfetchSingleProposal({ id, address }) {\n\t\treturn this.request\n\t\t\t.get(`${id}/proposals`)\n\t\t\t.then((response) => response.data[address])\n\t\t\t.catch((error) => error);\n\t}\n\n\tfetchVotes({ id, address }) {\n\t\treturn this.request\n\t\t\t.get(`${id}/proposal/${address}`)\n\t\t\t.then((response) => response.data)\n\t\t\t.catch((error) => error);\n\t}\n\n\tsendMessage(msg) {\n\t\treturn this.request\n\t\t\t.post(`message`, msg, {\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then((response) => response.data)\n\t\t\t.catch((error) => error);\n\t}\n}\n","import { createAction } from \"@reduxjs/toolkit\";\nimport ExploreApi from \"../../http/explore\";\n\nconst exploreApi = new ExploreApi();\n\nexport const setExploreSection = createAction(\"explore/set\", (id, data) => {\n\treturn {\n\t\tpayload: {\n\t\t\tid,\n\t\t\tdata,\n\t\t},\n\t};\n});\n\nexport const fetchTokens = () => {\n\treturn (dispatch) => {\n\t\tObject.keys(exploreApi.requestBaseURLs).forEach((baseId) => {\n\t\t\texploreApi.get(baseId).then((response) => {\n\t\t\t\tif (response.hasOwnProperty(\"gainers\")) {\n\t\t\t\t\tObject.keys(response).forEach((key) => {\n\t\t\t\t\t\tconst data = response[key];\n\t\t\t\t\t\tdispatch(setExploreSection(key, data));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(setExploreSection(baseId, response));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n};\n","import axios from \"axios\";\nimport _ from \"lodash\";\n\nimport { encodeQuery } from \"../lib/helper\";\n\nexport default class ExploreApi {\n\tconstructor() {\n\t\tthis.requestBaseURLs = {\n\t\t\ttokens: \"https://api.coingecko.com/api/v3/coins\",\n\t\t\ttokenSets: \"https://api.tokensets.com/public/v1/rebalancing_sets\",\n\t\t\tpools: \"https://data-api.defipulse.com/api/v1/blocklytics/pools\",\n\t\t\ttrending: \"https://api.coingecko.com/api/v3/search/trending\",\n\t\t\tderivatives: \"https://api.coingecko.com/api/v3/derivatives\",\n\t\t\ttopTokens:\n\t\t\t\t\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=USD&category=decentralized_finance_defi&price_change_percentage=1h,24h,7d,30d,60d,200d,1y\",\n\t\t};\n\t}\n\n\tget(type) {\n\t\tswitch (type) {\n\t\t\tcase \"tokens\": {\n\t\t\t\treturn this.fetchTokens();\n\t\t\t}\n\t\t\tcase \"tokenSets\": {\n\t\t\t\treturn this.fetchTokenSets();\n\t\t\t}\n\t\t\tcase \"pools\": {\n\t\t\t\treturn this.fetchPools({\n\t\t\t\t\tpageSize: 10,\n\t\t\t\t\tpage: 1,\n\t\t\t\t\torderBy: \"volumeUSD\",\n\t\t\t\t\torderDirection: \"desc\",\n\t\t\t\t});\n\t\t\t}\n\t\t\tcase \"trending\": {\n\t\t\t\treturn this.fetchTrending();\n\t\t\t}\n\t\t\tcase \"derivatives\": {\n\t\t\t\treturn this.fetchDerivatives();\n\t\t\t}\n\t\t\tcase \"topTokens\": {\n\t\t\t\treturn this.fetchDefiTokens();\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tresolve(null);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfetchTokens() {\n\t\treturn axios\n\t\t\t.get(\n\t\t\t\t`${this.requestBaseURLs.tokens}/markets?vs_currency=USD&price_change_percentage=1h,24h,7d,30d,60d,200d,1y`\n\t\t\t)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.data;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn error;\n\t\t\t});\n\t}\n\n\tfetchDefiTokens() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(`${this.requestBaseURLs.topTokens}`);\n\t\t\t\tconst defiTokens = res.data;\n\t\t\t\tconst sortedTokens = _.sortBy(defiTokens, (t) => t.price_change_percentage_24h);\n\t\t\t\tconst filteredTokens = _.filter(sortedTokens, (t) => t.price_change_percentage_24h !== null);\n\t\t\t\tconst losers = filteredTokens.slice(0, 5);\n\t\t\t\tconst gainers = filteredTokens.slice(-5).reverse();\n\t\t\t\tresolve({\n\t\t\t\t\tlosers,\n\t\t\t\t\tgainers,\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t});\n\t}\n\tfetchTokenSets() {\n\t\treturn axios\n\t\t\t.get(this.requestBaseURLs.tokenSets)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.data.rebalancing_sets;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn error;\n\t\t\t});\n\t}\n\n\tfetchPools(p) {\n\t\tconst query = encodeQuery({\n\t\t\t\"api-key\": process.env.REACT_APP_API_KEY,\n\t\t\tplatform: \"uniswap,uniswap-v2,curve,balancer,mooniswap,sushiswap\",\n\t\t\torderBy: \"usdLiquidity\",\n\t\t\tdirection: \"desc\",\n\t\t});\n\t\treturn axios\n\t\t\t.get(`${this.requestBaseURLs.pools}/v1/exchanges?${query}`)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.data.results;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn error;\n\t\t\t});\n\t}\n\tfetchTrending() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst trending = await axios.get(this.requestBaseURLs.trending);\n\t\t\t\tconst result = [];\n\t\t\t\tfor (let i in trending.data.coins) {\n\t\t\t\t\tconst res = await axios.get(\n\t\t\t\t\t\t`${this.requestBaseURLs.tokens}/${trending.data.coins[i].item.id}?community_data=false&developer_data=false`\n\t\t\t\t\t);\n\t\t\t\t\tresult.push(res.data);\n\t\t\t\t}\n\t\t\t\tresolve(result);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t});\n\t}\n\tfetchDerivatives() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(this.requestBaseURLs.derivatives);\n\t\t\t\tconst data = res.data;\n\t\t\t\tconst sortedTokens = _.sortBy(data, (d) => -1 * d?.volume_24h);\n\t\t\t\tresolve(sortedTokens);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t});\n\t}\n}\n","import { ChainId, JSBI, Percent, Token, WETH } from \"@uniswap/sdk\";\nimport { BigNumber } from \"@0x/utils\";\nexport * from \"./spot\";\nexport * from \"./derivatives\";\n\nexport enum Network {\n\tMainnet = 1,\n\tRopsten = 3,\n\tRinkeby = 4,\n\tKovan = 42,\n\tGanache = 50,\n}\n\nexport enum ProviderType {\n\tParity = \"PARITY\",\n\tMetaMask = \"META_MASK\",\n\tMist = \"MIST\",\n\tCoinbaseWallet = \"COINBASE_WALLET\",\n\tEnjinWallet = \"ENJIN_WALLET\",\n\tCipher = \"CIPHER\",\n\tTrustWallet = \"TRUST_WALLET\",\n\tOpera = \"OPERA\",\n\tFallback = \"FALLBACK\",\n\t// tslint:disable-next-line: max-file-line-count\n}\n\nexport const PROXY_URL = process.env.REACT_APP_PROXY_URL || \"http://localhost:3001/\";\nexport const ROUTER_ADDRESS = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\n\nexport const CONTRACTS = {\n\tcurve: \"0xcCdd1f20Fd50DD63849A87994bdD11806e4363De\",\n\tbalancer: \"0xA3128cC400E2878571368ae0a83F588Eb838552b\",\n\tyVault: \"0x9c57618bfCDfaE4cE8e49226Ca22A7837DE64A2d\",\n\tuniswap: \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\",\n};\n\nexport const REMOVE_CONTRACTS = {\n\tcurve: \"0xA3061Cf6aC1423c6F40917AD49602cBA187181Dc\",\n\tbalancer: \"0x00d0f137b51692D0AC708bdE7b367a373865cFfe\",\n\tyVault: \"0xB0880df8420974ef1b040111e5e0e95f05F8fee1\",\n\tuniswap: \"0x79B6C6F8634ea477ED725eC23b7b6Fcb41F00E58\",\n};\n\nexport const ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000\";\nexport const DEFAULT_DECIMALS = 18;\n\n// a list of tokens by chain\ntype ChainTokenList = {\n\treadonly [chainId in ChainId]: Token[];\n};\n\nexport const DAI = new Token(\n\tChainId.MAINNET,\n\t\"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\n\t18,\n\t\"DAI\",\n\t\"Dai Stablecoin\"\n);\nexport const USDC = new Token(ChainId.MAINNET, \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\", 6, \"USDC\", \"USD//C\");\nexport const USDT = new Token(ChainId.MAINNET, \"0xdAC17F958D2ee523a2206206994597C13D831ec7\", 6, \"USDT\", \"Tether USD\");\nexport const COMP = new Token(ChainId.MAINNET, \"0xc00e94Cb662C3520282E6f5717214004A7f26888\", 18, \"COMP\", \"Compound\");\nexport const MKR = new Token(ChainId.MAINNET, \"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2\", 18, \"MKR\", \"Maker\");\nexport const AMPL = new Token(ChainId.MAINNET, \"0xD46bA6D942050d489DBd938a2C909A5d5039A161\", 9, \"AMPL\", \"Ampleforth\");\nexport const WBTC = new Token(ChainId.MAINNET, \"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599\", 18, \"WBTC\", \"Wrapped BTC\");\n\nexport const BalanceToken = new Token(\n\tChainId.MAINNET,\n\tprocess.env.REACT_APP_BALANCE_CHECK_TOKEN_ADDRESS || \"\",\n\tNumber(process.env.REACT_APP_BALANCE_CHECK_TOKEN_DECIMAL),\n\tprocess.env.REACT_APP_BALANCE_CHECK_TOKEN_SYMBOL,\n\tprocess.env.REACT_APP_BALANCE_CHECK_TOKEN_NAME\n);\n\n// TODO this is only approximate, it's actually based on blocks\nexport const PROPOSAL_LENGTH_IN_DAYS = 7;\n\nexport const GOVERNANCE_ADDRESS = \"0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F\";\n\nconst UNI_ADDRESS = \"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984\";\nexport const UNI: { [chainId in ChainId]: Token } = {\n\t[ChainId.MAINNET]: new Token(ChainId.MAINNET, UNI_ADDRESS, 18, \"UNI\", \"Uniswap\"),\n\t[ChainId.RINKEBY]: new Token(ChainId.RINKEBY, UNI_ADDRESS, 18, \"UNI\", \"Uniswap\"),\n\t[ChainId.ROPSTEN]: new Token(ChainId.ROPSTEN, UNI_ADDRESS, 18, \"UNI\", \"Uniswap\"),\n\t[ChainId.GÃ–RLI]: new Token(ChainId.GÃ–RLI, UNI_ADDRESS, 18, \"UNI\", \"Uniswap\"),\n\t[ChainId.KOVAN]: new Token(ChainId.KOVAN, UNI_ADDRESS, 18, \"UNI\", \"Uniswap\"),\n};\n\n// TODO: specify merkle distributor for mainnet\nexport const MERKLE_DISTRIBUTOR_ADDRESS: { [chainId in ChainId]?: string } = {\n\t[ChainId.MAINNET]: \"0x090D4613473dEE047c3f2706764f49E0821D256e\",\n};\n\nconst WETH_ONLY: ChainTokenList = {\n\t[ChainId.MAINNET]: [WETH[ChainId.MAINNET]],\n\t[ChainId.ROPSTEN]: [WETH[ChainId.ROPSTEN]],\n\t[ChainId.RINKEBY]: [WETH[ChainId.RINKEBY]],\n\t[ChainId.GÃ–RLI]: [WETH[ChainId.GÃ–RLI]],\n\t[ChainId.KOVAN]: [WETH[ChainId.KOVAN]],\n};\n\n// used to construct intermediary pairs for trading\nexport const BASES_TO_CHECK_TRADES_AGAINST: ChainTokenList = {\n\t...WETH_ONLY,\n\t[ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT, COMP, MKR],\n};\n\n/**\n * Some tokens can only be swapped via certain pairs, so we override the list of bases that are considered for these\n * tokens.\n */\nexport const CUSTOM_BASES: { [chainId in ChainId]?: { [tokenAddress: string]: Token[] } } = {\n\t[ChainId.MAINNET]: {\n\t\t[AMPL.address]: [DAI, WETH[ChainId.MAINNET]],\n\t},\n};\n\n// used for display in the default list when adding liquidity\nexport const SUGGESTED_BASES: ChainTokenList = {\n\t...WETH_ONLY,\n\t[ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT],\n};\n\n// used to construct the list of all pairs we consider by default in the frontend\nexport const BASES_TO_TRACK_LIQUIDITY_FOR: ChainTokenList = {\n\t...WETH_ONLY,\n\t[ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT],\n};\n\nexport const PINNED_PAIRS: { readonly [chainId in ChainId]?: [Token, Token][] } = {\n\t[ChainId.MAINNET]: [\n\t\t[\n\t\t\tnew Token(ChainId.MAINNET, \"0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643\", 8, \"cDAI\", \"Compound Dai\"),\n\t\t\tnew Token(ChainId.MAINNET, \"0x39AA39c021dfbaE8faC545936693aC917d5E7563\", 8, \"cUSDC\", \"Compound USD Coin\"),\n\t\t],\n\t\t[USDC, USDT],\n\t\t[DAI, USDT],\n\t],\n};\n\nexport const NetworkContextName = \"NETWORK\";\n\n// default allowed slippage, in bips\nexport const INITIAL_ALLOWED_SLIPPAGE = 50;\n// 20 minutes, denominated in seconds\nexport const DEFAULT_DEADLINE_FROM_NOW = 60 * 20;\n\nexport const BIG_INT_ZERO = JSBI.BigInt(0);\n\n// one basis point\nexport const ONE_BIPS = new Percent(JSBI.BigInt(1), JSBI.BigInt(10000));\nexport const BIPS_BASE = JSBI.BigInt(10000);\n// used for warning state\nexport const ALLOWED_PRICE_IMPACT_LOW: Percent = new Percent(JSBI.BigInt(100), BIPS_BASE); // 1%\nexport const ALLOWED_PRICE_IMPACT_MEDIUM: Percent = new Percent(JSBI.BigInt(300), BIPS_BASE); // 3%\nexport const ALLOWED_PRICE_IMPACT_HIGH: Percent = new Percent(JSBI.BigInt(500), BIPS_BASE); // 5%\n// if the price slippage exceeds this number, force the user to type 'confirm' to execute\nexport const PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN: Percent = new Percent(JSBI.BigInt(1000), BIPS_BASE); // 10%\n// for non expert mode disable swaps above this\nexport const BLOCKED_PRICE_IMPACT_NON_EXPERT: Percent = new Percent(JSBI.BigInt(1500), BIPS_BASE); // 15%\n\n// used to ensure the user doesn't send so much ETH so they end up with <.01\nexport const MIN_ETH: JSBI = JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(16)); // .01 ETH\nexport const BETTER_TRADE_LINK_THRESHOLD = new Percent(JSBI.BigInt(75), JSBI.BigInt(10000));\n\nexport const POLLING_INTERVAL = 12000;\n\nexport const ZERO = new BigNumber(0);\nexport const MAX_AMOUNT_TOKENS_IN_UNITS = 100000000000000000000000000000000000;\nexport const UI_DECIMALS_DISPLAYED_ORDER_SIZE = 0;\nexport const UI_DECIMALS_DISPLAYED_PRICE_ETH = 7;\nexport const UI_DECIMALS_DISPLAYED_SPREAD_PERCENT = 2;\n\nexport const IS_ORDER_LIMIT_MATCHING: boolean = process.env.REACT_APP_MATCH_LIMIT_ORDERS === \"true\" ? true : false;\n\nexport const NOTIFICATIONS_LIMIT: number =\n\tNumber.parseInt(process.env.REACT_APP_NOTIFICATIONS_LIMIT as string, 10) || 20;\n\nexport const FILLS_LIMIT: number = Number.parseInt(process.env.REACT_APP_FILLS_LIMIT as string, 10) || 50;\n\nexport const START_BLOCK_LIMIT: number = Number.parseInt(process.env.REACT_APP_START_BLOCK_LIMIT as string, 10) || 1000;\n\nexport const UNLIMITED_ALLOWANCE_IN_BASE_UNITS = new BigNumber(2).pow(256).minus(1);\n\nexport const COLLECTIBLES_SOURCE: string = process.env.REACT_APP_COLLECTIBLES_SOURCE || \"mocked\";\n\nexport const MIN_ORDER_EXPIRATION_TIME_ON_ORDERBOOK = 60;\n\nexport const TX_DEFAULTS = {\n\tgas: 1000000,\n\t// gasLimit: 1000000,\n\t//  gasTransferToken: 21000,\n\t//  shouldValidate: true,\n};\n\nexport const MAKER_FEE_PERCENTAGE: string = process.env.REACT_APP_MAKER_FEE_PERCENTAGE || \"0\";\nexport const TAKER_FEE_PERCENTAGE: string = process.env.REACT_APP_TAKER_FEE_PERCENTAGE || \"0\";\n\nexport const UI_DECIMALS_DISPLAYED_DEFAULT_PRECISION = 2;\n\nexport const RELAYER_URL = process.env.REACT_APP_RELAYER_URL || \"https://clickbackend.cloud/v3\";\n\nexport const RELAYER_WS_URL = process.env.REACT_APP_RELAYER_WS_URL || \"wss://clickbackend.cloud/websocket/\";\n\nexport const RELAYER_RPS = 5;\n\nexport const USE_RELAYER_ORDER_CONFIG: boolean = process.env.REACT_APP_USE_RELAYER_ORDER_CONFIG === \"true\";\n\nexport const PROTOCOL_FEE_MULTIPLIER = 150000;\n\nexport const USE_ORDERBOOK_PRICES: boolean = process.env.USE_ORDERBOOK_PRICES === \"true\";\nexport const USE_RELAYER_MARKET_UPDATES = process.env.REACT_APP_USE_RELAYER_MARKET_UPDATES === \"true\";\n\nexport const CHAIN_ID: number = 1;\n\nexport const GWEI_IN_WEI = new BigNumber(1000000000);\n\nexport const ONE_MINUTE_MS = 1000 * 60;\n\nexport const DEFAULT_GAS_PRICE = GWEI_IN_WEI.multipliedBy(6);\nexport const LOGGER_ID: string = process.env.REACT_APP_LOGGER_ID || \"defiDashboard\";\n\nexport const DEFAULT_ESTIMATED_TRANSACTION_TIME_MS = ONE_MINUTE_MS * 2;\nexport const NETWORK_ID: number = Number.parseInt(process.env.REACT_APP_NETWORK_ID as string, 10) || 1;\n\nconst mockERC721Address = \"0x07f96aa816c1f244cbc6ef114bb2b023ba54a2eb\"; // Mock ERC721 in ganache\nexport const COLLECTIBLE_ADDRESS = process.env.REACT_APP_COLLECTIBLE_ADDRESS || mockERC721Address;\n\nexport const OPENSEA_API_KEY = process.env.REACT_APP_OPENSEA_API_KEY;\n\nconst DEFAULT_QUOTE_SLIPPAGE_PERCENTAGE = 0.03;\n\n// Default value is enabled, 0 is disabled\nexport const UI_UPDATE_CHECK_INTERVAL: number = process.env.REACT_APP_UI_UPDATE_CHECK_INTERVAL\n\t? Number.parseInt(process.env.REACT_APP_UI_UPDATE_CHECK_INTERVAL as string, 10)\n\t: 5000;\n\n// Default value is enabled, 0 is disabled\nexport const UPDATE_ETHER_PRICE_INTERVAL: number = process.env.REACT_APP_UPDATE_ETHER_PRICE_INTERVAL\n\t? Number.parseInt(process.env.REACT_APP_UPDATE_ETHER_PRICE_INTERVAL as string, 10)\n\t: 3600000;\n\n// Default value is enabled, 0 is disabled\nexport const UPDATE_TOKENS_PRICE_INTERVAL: number = process.env.REACT_APP_UPDATE_TOKENS_PRICE_INTERVAL\n\t? Number.parseInt(process.env.REACT_APP_UPDATE_ETHER_PRICE_INTERVAL as string, 10)\n\t: 3600000;\n\n// Default value is enabled, 0 is disabled\nexport const UPDATE_ERC20_MARKETS: number = process.env.REACT_APP_UPDATE_ERC20_MARKETS_INTERVAL\n\t? Number.parseInt(process.env.REACT_APP_UPDATE_ERC20_MARKETS_INTERVAL as string, 10)\n\t: 60000;\n\nexport const UPDATE_MARGIN_INTERVAL: number = 20000;\n\nconst EXCLUDED_SOURCES = (() => {\n\tswitch (CHAIN_ID) {\n\t\tcase ChainId.MAINNET:\n\t\t\treturn [];\n\t\tdefault: {\n\t\t\treturn [];\n\t\t}\n\t}\n})();\n\nexport const SIMPLE_SWAP_FIXED = process.env.REACT_APP_SIMPLESWAP_FIXED_RATE === \"true\" || false;\nexport const FEE_RECIPIENT = process.env.REACT_APP_FEE_RECIPIENT || ZERO_ADDRESS;\nexport const FEE_PERCENTAGE: number = process.env.REACT_APP_SPOT_FEE_PERCENTAGE\n\t? Number(process.env.REACT_APP_SPOT_FEE_PERCENTAGE)\n\t: 0;\n\nexport const NFT_REFERRER_ACCOUNT = process.env.REACT_APP_NFT_REFERRER_ACCOUNT\n\t? process.env.REACT_APP_NFT_REFERRER_ACCOUNT\n\t: process.env.REACT_APP_REFERRER_ACCOUNT;\nexport const ONE_INCH_REFERRER_ACCOUNT = process.env.REACT_APP_1INCH_REFERRER_ACCOUNT\n\t? process.env.REACT_APP_1INCH_REFERRER_ACCOUNT\n\t: process.env.REACT_APP_REFERRER_ACCOUNT;\nexport const ONE_INCH_FEE_PERCENTAGE = process.env.REACT_APP_1INCH_REFERRER_FEE_PERCENTAGE\n\t? process.env.REACT_APP_1INCH_REFERRER_FEE_PERCENTAGE\n\t: \"0\";\nexport const PARASWAP_REFERRER_ACCOUNT = process.env.REACT_APP_PARASWAP_REFERRER\n\t? process.env.REACT_APP_PARASWAP_REFERRER\n\t: process.env.REACT_APP_REFERRER_ACCOUNT;\nexport const BITREFILL_REF_TOKEN = process.env.REACT_APP_BITREFILL_REF_TOKEN\n\t? process.env.REACT_APP_BITREFILL_REF_TOKEN\n\t: process.env.REACT_APP_REFERRER_ACCOUNT;\n\nexport const ASSET_SWAPPER_MARKET_ORDERS_OPTS: any = {\n\t// @ts-ignore\n\tnoConflicts: true,\n\texcludedSources: EXCLUDED_SOURCES,\n\tbridgeSlippage: DEFAULT_QUOTE_SLIPPAGE_PERCENTAGE,\n\t// maxFallbackSlippage: DEFAULT_FALLBACK_SLIPPAGE_PERCENTAGE,\n\tnumSamples: 13,\n\tsampleDistributionBase: 1.05,\n\trunLimit: 4096,\n\tdustFractionThreshold: 0.0025,\n\t// feeSchedule,\n\t// gasSchedule,\n};\n\nexport const DEFAULT_THEME: boolean = process.env.REACT_APP_DEFAULT_THEME === 'dark';\nexport const NETWORK_NAME: string = Network[NETWORK_ID];\n\nexport const PROVIDER_TYPE_TO_NAME: { [key in ProviderType]: string } = {\n\t[ProviderType.Cipher]: \"Cipher\",\n\t[ProviderType.EnjinWallet]: \"Enjin Wallet\",\n\t[ProviderType.MetaMask]: \"MetaMask\",\n\t[ProviderType.Mist]: \"Mist\",\n\t[ProviderType.CoinbaseWallet]: \"Coinbase Wallet\",\n\t[ProviderType.Parity]: \"Parity\",\n\t[ProviderType.TrustWallet]: \"Trust Wallet\",\n\t[ProviderType.Opera]: \"Opera Wallet\",\n\t[ProviderType.Fallback]: \"Fallback\",\n};\n\nexport const ONE_SECOND_MS = 1000;\n\nexport const QUOTE_ORDER_EXPIRATION_BUFFER_MS = ONE_SECOND_MS * 30;\n\nexport const CHANGE_NOW_FLOW = process.env.REACT_APP_CHANGE_NOW_FLOW || 'standard';\n\nexport const SIDE_SHIFT_TYPE = process.env.REACT_APP_SIDE_SHIFT_TYPE || 'variable';\n\nexport const presaleAddresses = {\n\t'generator': process.env.REACT_APP_PRESALE_GENERATOR,\n\t'factory': process.env.REACT_APP_PRESALE_FACTORY,\n\t'settings': process.env.REACT_APP_PRESALE_SETTINGS\n}\n\nexport const rates: {\n\t[rateName: string]: {\n\t\timage: any;\n\t\ttype: string;\n\t\tsymbol: string;\n\t\tlng?: string;\n\t};\n} = {\n\tCAD: {\n\t\timage: require(\"../assets/images/currencies/CAD.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"CA$\",\n\t\tlng: \"fr\",\n\t},\n\tGBP: {\n\t\timage: require(\"../assets/images/currencies/GBP.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"Â£\",\n\t\tlng: \"en\",\n\t},\n\tRUB: {\n\t\timage: require(\"../assets/images/currencies/RUB.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"RUB\",\n\t\tlng: \"ru\",\n\t},\n\tJPY: {\n\t\timage: require(\"../assets/images/currencies/JPY.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"Â¥\",\n\t\tlng: \"ja\",\n\t},\n\tCHF: {\n\t\timage: require(\"../assets/images/currencies/CHF.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"CHF\",\n\t\tlng: \"de\",\n\t},\n\tEUR: {\n\t\timage: require(\"../assets/images/currencies/EUR.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"â‚¬\",\n\t\tlng: \"en\",\n\t},\n\tINR: {\n\t\timage: require(\"../assets/images/currencies/INR.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"â‚¹\",\n\t\tlng: \"hi\",\n\t},\n\tCNY: {\n\t\timage: require(\"../assets/images/currencies/CNY.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"CNÂ¥\",\n\t\tlng: \"zh\",\n\t},\n\tNZD: {\n\t\timage: require(\"../assets/images/currencies/NZD.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"NZ$\",\n\t\tlng: \"en\",\n\t},\n\tUSD: {\n\t\timage: require(\"../assets/images/currencies/USD.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"$\",\n\t\tlng: \"en\",\n\t},\n\tSGD: {\n\t\timage: require(\"../assets/images/currencies/SGD.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"SGD\",\n\t\tlng: \"en\",\n\t},\n\tAUD: {\n\t\timage: require(\"../assets/images/currencies/AUD.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"A$\",\n\t\tlng: \"en\",\n\t},\n\tKRW: {\n\t\timage: require(\"../assets/images/currencies/KRW.svg\").default,\n\t\ttype: \"normal\",\n\t\tsymbol: \"â‚©\",\n\t\tlng: \"ko\",\n\t},\n\tBTC: {\n\t\timage: require(\"../assets/images/currencies/BTC.svg\").default,\n\t\ttype: \"crypto\",\n\t\tsymbol: \"â‚¿\",\n\t\tlng: \"en\",\n\t},\n\tETH: {\n\t\timage: require(\"../assets/images/currencies/ETH.svg\").default,\n\t\ttype: \"crypto\",\n\t\tsymbol: \"Îž\",\n\t\tlng: \"en\",\n\t},\n\tLINK: {\n\t\timage: require(\"../assets/images/currencies/LINK.svg\").default,\n\t\ttype: \"crypto\",\n\t\tsymbol: \"â¬¡\",\n\t\tlng: \"en\",\n\t},\n};\n\nexport enum OrderSide {\n\tSell,\n\tBuy,\n}\n\nexport const Platforms = [\"uniswap-v2\", \"bancor\", \"curve\", \"balancer\"];\n\nexport const setProtocolConfig = {\n\tcoreAddress: \"0xf55186CC537E7067EA616F2aaE007b4427a120C8\",\n\texchangeIssuanceModuleAddress: \"0x73dF03B5436C84Cf9d5A758fb756928DCEAf19d7\",\n\tkyberNetworkWrapperAddress: \"0x9B3Eb3B22DC2C29e878d7766276a86A8395fB56d\",\n\tprotocolViewerAddress: \"0x589d4b4d311EFaAc93f0032238BecD6f4D397b0f\",\n\trebalanceAuctionModuleAddress: \"0xe23FB31dD2edacEbF7d92720358bB92445F47fDB\",\n\trebalancingSetExchangeIssuanceModule: \"0xd4240987D6F92B06c8B5068B1E4006A97c47392b\",\n\trebalancingSetIssuanceModule: \"0xcEDA8318522D348f1d1aca48B24629b8FbF09020\",\n\trebalancingSetTokenFactoryAddress: \"0x15518Cdd49d83471e9f85cdCFBD72c8e2a78dDE2\",\n\tsetTokenFactoryAddress: \"0xE1Cd722575801fE92EEef2CA23396557F7E3B967\",\n\ttransferProxyAddress: \"0x882d80D3a191859d64477eb78Cca46599307ec1C\",\n\tvaultAddress: \"0x5B67871C3a857dE81A1ca0f9F7945e5670D986Dc\",\n\twrappedEtherAddress: \"0xc6449473BE76AB2a70329fA66Cbe504a25005338\",\n};\n\nexport const exploreSections = {\n\ttokens: {\n\t\ttitle: \"Top Tokens\",\n\t\tslug: \"tokens\",\n\t\tdescription: \"Top tokens by Market Cap\",\n\t\tdata: [],\n\t\tloading: true,\n\t\tschema: (row: any) => {\n\t\t\treturn {\n\t\t\t\timg: row.image,\n\t\t\t\tname: row.name,\n\t\t\t\tsymbol: row.symbol.toUpperCase(),\n\t\t\t\tprice: row.current_price,\n\t\t\t\tpriceDiff: row.price_change_percentage_24h,\n\t\t\t\ttitle: false,\n\t\t\t\tsrc: \"/coins/\" + row.id,\n\t\t\t};\n\t\t},\n\t\tseeMore: \"/tools/explore/tokens\",\n\t},\n\ttokenSets: {\n\t\ttitle: \"Token Sets\",\n\t\tslug: \"sets\",\n\t\tdescription: \"Automate trading strategies with TokenSets\",\n\t\tdata: [],\n\t\tloading: true,\n\t\tschema: (row: any) => {\n\t\t\treturn {\n\t\t\t\timg: row.image,\n\t\t\t\tname: row.name,\n\t\t\t\tsymbol: row.short_description,\n\t\t\t\tprice: row.price_usd,\n\t\t\t\tpriceDiff: false,\n\t\t\t\ttitle: false,\n\t\t\t};\n\t\t},\n\t\tseeMore: \"/tools/explore/tokenSets\",\n\t},\n\tpools: {\n\t\ttitle: \"Pools\",\n\t\tslug: \"pools\",\n\t\tdescription: \"Earn trading fees by providing liquidity in a single transaction\",\n\t\tdata: [],\n\t\tloading: true,\n\t\tschema: (row: any) => {\n\t\t\treturn {\n\t\t\t\timg: `https://token-icons.s3.amazonaws.com/${row?.ownershipToken}.png`,\n\t\t\t\tname: row?.poolName || \"-\",\n\t\t\t\tsymbol: row?.platform || \"-\",\n\t\t\t\tprice: row?.usdLiquidity || \"-\",\n\t\t\t\tpriceDiff: false,\n\t\t\t\ttitle: \"Total Liquidity\",\n\t\t\t};\n\t\t},\n\t\tseeMore: \"/invest/pools\",\n\t},\n\ttrending: {\n\t\ttitle: \"Trending on Coingecko\",\n\t\tslug: \"coingecko\",\n\t\tdescription: \"Trending coins (Top-5) on CoinGecko in the last 24 hours\",\n\t\tdata: [],\n\t\tloading: true,\n\t\tschema: (row: any) => {\n\t\t\treturn {\n\t\t\t\timg: row?.image?.large,\n\t\t\t\tname: row?.name || \"-\",\n\t\t\t\tsymbol: row?.symbol?.toUpperCase() || \"-\",\n\t\t\t\tprice: row.market_data.current_price.usd,\n\t\t\t\tpriceDiff: row.market_data.price_change_percentage_24h,\n\t\t\t\ttitle: false,\n\t\t\t\tsrc: \"/coins/\" + row.id,\n\t\t\t};\n\t\t},\n\t\tseeMore: false,\n\t},\n\tderivatives: {\n\t\ttitle: \"Top 5 Derivatives\",\n\t\tslug: \"derivatives\",\n\t\tdescription: \"Top Derivatives by Volume (24h)\",\n\t\tdata: [],\n\t\tloading: true,\n\t\tschema: (row: any, imageComponent: any) => {\n\t\t\treturn {\n\t\t\t\timageComponent: imageComponent,\n\t\t\t\tname: row?.market,\n\t\t\t\tsymbol: row?.symbol?.toUpperCase() || \"-\",\n\t\t\t\tprice: row?.volume_24h,\n\t\t\t\tpriceDiff: row.price_percentage_change_24h,\n\t\t\t\tseeMore: \"/tools/explore/derivatives\",\n\t\t\t\ttitle: \"Volume (24h)\",\n\t\t\t};\n\t\t},\n\t\tseeMore: false,\n\t},\n\tgainers: {\n\t\ttitle: \"Top 5 Gainer Tokens (24h)\",\n\t\tslug: \"gainers\",\n\t\tdescription: \"Top 5 Gainer Tokens by Price Change Percentage (24h)\",\n\t\tdata: [],\n\t\tloading: true,\n\t\tschema: (row: any) => {\n\t\t\treturn {\n\t\t\t\timg: row?.image,\n\t\t\t\tname: row?.name || \"-\",\n\t\t\t\tsymbol: row?.symbol?.toUpperCase() || \"-\",\n\t\t\t\tprice: row?.current_price || \"-\",\n\t\t\t\tpriceDiff: row?.price_change_percentage_24h || \"-\",\n\t\t\t\ttitle: false,\n\t\t\t\tsrc: \"/coins/\" + row?.id,\n\t\t\t};\n\t\t},\n\t\tseeMore: false,\n\t},\n\tlosers: {\n\t\ttitle: \"Top 5 Loser Tokens (24h)\",\n\t\tslug: \"losers\",\n\t\tdescription: \"Top 5 Loser Tokens by Price Change Percentage (24h)\",\n\t\tdata: [],\n\t\tloading: true,\n\t\tschema: (row: any) => {\n\t\t\treturn {\n\t\t\t\timg: row?.image,\n\t\t\t\tname: row?.name || \"-\",\n\t\t\t\tsymbol: row?.symbol?.toUpperCase() || \"-\",\n\t\t\t\tprice: row?.current_price || \"-\",\n\t\t\t\tpriceDiff: row?.price_change_percentage_24h || \"-\",\n\t\t\t\ttitle: false,\n\t\t\t\tsrc: \"/coins/\" + row?.id,\n\t\t\t};\n\t\t},\n\t\tseeMore: false,\n\t},\n};\n\nexport const marketCoins = [\n\t{\n\t\tid: \"cardano\",\n\t\tsymbol: \"ADA\",\n\t\tname: \"Cardano\",\n\t\taddress: \"0xAE48c91dF1fE419994FFDa27da09D5aC69c30f55\",\n\t\tpaprikaId: \"ada-cardano\",\n\t},\n\t{\n\t\tid: \"bitcoin-cash\",\n\t\tsymbol: \"BCH\",\n\t\tname: \"Bitcoin Cash\",\n\t\taddress: \"0x9F0F69428F923D6c95B781F89E165C9b2df9789D\",\n\t\tpaprikaId: \"bch-bitcoin-cash\",\n\t},\n\t{\n\t\tid: \"binancecoin\",\n\t\tsymbol: \"BNB\",\n\t\tname: \"Binance Coin\",\n\t\taddress: \"0x14e613AC84a31f709eadbdF89C6CC390fDc9540A\",\n\t\tpaprikaId: \"bnb-binance-coin\",\n\t},\n\t{\n\t\tid: \"bancor\",\n\t\tsymbol: \"BNT\",\n\t\tname: \"Bancor Network Token\",\n\t\taddress: \"0x1E6cF0D433de4FE882A437ABC654F58E1e78548c\",\n\t\tpaprikaId: \"bnt-bancor\",\n\t},\n\t{\n\t\tid: \"bitcoin\",\n\t\tsymbol: \"BTC\",\n\t\tname: \"Bitcoin\",\n\t\taddress: \"0xF4030086522a5bEEa4988F8cA5B36dbC97BeE88c\",\n\t\tpaprikaId: \"btc-bitcoin\",\n\t\tdecimals: 8,\n\t},\n\t{\n\t\tid: \"compound-governance-token\",\n\t\tsymbol: \"COMP\",\n\t\tname: \"Compound\",\n\t\taddress: \"0xdbd020CAeF83eFd542f4De03e3cF0C28A4428bd5\",\n\t\tpaprikaId: \"comp-compoundd\",\n\t},\n\t{\n\t\tid: \"dai\",\n\t\tsymbol: \"DAI\",\n\t\tname: \"Dai\",\n\t\taddress: \"0xAed0c38402a5d19df6E4c03F4E2DceD6e29c1ee9\",\n\t\tpaprikaId: \"dai-dai\",\n\t},\n\t{\n\t\tid: \"ethereum\",\n\t\tsymbol: \"ETH\",\n\t\tname: \"Ethereum\",\n\t\taddress: \"0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419\",\n\t\tpaprikaId: \"eth-ethereum\",\n\t\tdecimals: 18,\n\t},\n\t{\n\t\tid: \"kyber-network\",\n\t\tsymbol: \"KNC\",\n\t\tname: \"Kyber Network\",\n\t\taddress: \"0xf8fF43E991A81e6eC886a3D281A2C6cC19aE70Fc\",\n\t\tpaprikaId: \"knc-kyber-network\",\n\t},\n\t{\n\t\tid: \"ethlend\",\n\t\tsymbol: \"LEND\",\n\t\tname: \"Aave\",\n\t\taddress: \"0x4aB81192BB75474Cf203B56c36D6a13623270A67\",\n\t\tpaprikaId: \"lend-ethlend\",\n\t},\n\t{\n\t\tid: \"chainlink\",\n\t\tsymbol: \"LINK\",\n\t\tname: \"Chainlink\",\n\t\taddress: \"0x2c1d072e956AFFC0D435Cb7AC38EF18d24d9127c\",\n\t\tpaprikaId: \"link-chainlink\",\n\t},\n\t{\n\t\tid: \"litecoin\",\n\t\tsymbol: \"LTC\",\n\t\tname: \"Litecoin\",\n\t\taddress: \"0x6AF09DF7563C363B5763b9102712EbeD3b9e859B\",\n\t\tpaprikaId: \"ltc-litecoin\",\n\t},\n\t{\n\t\tid: \"republic-protocol\",\n\t\tsymbol: \"REN\",\n\t\tname: \"REN\",\n\t\taddress: \"0x0f59666EDE214281e956cb3b2D0d69415AfF4A01\",\n\t\tpaprikaId: \"ren-republic-protocol\",\n\t},\n\t{\n\t\tid: \"havven\",\n\t\tsymbol: \"SNX\",\n\t\tname: \"Synthetix Network Token\",\n\t\taddress: \"0xDC3EA94CD0AC27d9A86C180091e7f78C683d3699\",\n\t\tpaprikaId: \"snx-synthetix-network-token\",\n\t},\n\t{\n\t\tid: \"ripple\",\n\t\tsymbol: \"XRP\",\n\t\tname: \"XRP\",\n\t\taddress: \"0xCed2660c6Dd1Ffd856A5A82C67f3482d88C50b12\",\n\t\tpaprikaId: \"xrp-xrp\",\n\t},\n];\n\nexport const TYPING_INTERVAL: number = 300;\n\nexport const supportedDEXes = {\n\tparaswap: [\n\t\t\"MultiPath\",\n\t\t\"ParaSwapPool\",\n\t\t\"Swerve\",\n\t\t\"Balancer\",\n\t\t\"SushiSwap\",\n\t\t\"UniswapV2\",\n\t\t\"Uniswap\",\n\t\t\"Oasis\",\n\t\t\"Aave\",\n\t\t\"Weth\",\n\t\t\"Bancor\",\n\t\t\"Kyber\",\n\t\t\"Compound\",\n\t\t\"Zerox\",\n\t\t\"DefiSwap\",\n\t\t\"LINKSWAP\",\n\t],\n\tdexag: [\"synthetix\", \"ag\", \"curvefi\", \"zero_x\"],\n};\n\nexport const DEXesName = {\n\tWeth: \"Radar Relay\",\n\tUniswap: \"Uniswap (v1)\",\n\tUniswapV2: \"Uniswap\",\n\tCompound: \"Compound\",\n\tCHAI: \"Chai\",\n\tOasis: \"Oasis\",\n\tKyber: \"Kyber Network\",\n\tAave: \"Aave\",\n\tBancor: \"Bancor\",\n\tzero_x: \"0x\",\n\tZerox: \"0x\",\n\tMultiPath: \"MultiPath\",\n\tParaSwapPool: \"ParaSwapPool\",\n\tSwerve: \"Swerve\",\n\tBalancer: \"Balancer\",\n\tSushiSwap: \"SushiSwap\",\n\tsynthetix: \"Synthetix\",\n\tag: \"OctoFi\",\n\tcurvefi: \"Curve.fi\",\n\tgodex: \"GODEX.io\",\n\toneInch: \"1inch\",\n\tcoinSwitch: \"Coin Switch\",\n\tsimpleSwap: \"Simple Swap\",\n\tstealthex: \"StealthEx\",\n\tDefiSwap: \"Defi Swap\",\n\tLINKSWAP: \"Link Swap\",\n\tchangeNow: \"Change Now\",\n\tsideShift: \"Side Shift\"\n};\n\nexport const DEXesImages = {\n\tWeth: \"RADARRELAY.jpg\",\n\tUniswap: \"UNISWAP.svg\",\n\tUniswapV2: \"UNISWAP.svg\",\n\tCompound: \"COMPOUND.png\",\n\tCHAI: \"CHAI.png\",\n\tOasis: \"OASIS.svg\",\n\tKyber: \"KYBER.svg\",\n\tAave: \"AAVE.png\",\n\tBancor: \"BANCOR.svg\",\n\tzero_x: \"ZEROEX.png\",\n\tZerox: \"ZEROEX.png\",\n\tMultiPath: \"PARASWAP.jpg\",\n\tParaSwapPool: \"PARASWAP.jpg\",\n\tSwerve: \"SWERVE.png\",\n\tBalancer: \"BALANCER.svg\",\n\tSushiSwap: \"SUSHISWAP.svg\",\n\tsynthetix: \"SYNTHETIX.jpg\",\n\tag: \"XBLASTER.png\",\n\tcurvefi: \"CURVEFI.png\",\n\tgodex: \"GODEX.png\",\n\toneInch: \"ONEINCH.svg\",\n\tcoinSwitch: \"coinSwitch.png\",\n\tsimpleSwap: \"simpleswap.png\",\n\tstealthex: \"Stealthex.png\",\n\tDefiSwap: \"defiSwap.png\",\n\tLINKSWAP: \"linkSwap.png\",\n\tchangeNow: \"CHANGE_NOW.png\",\n\tsideShift: \"SIDESHIFT.png\"\n};\n\nexport const BTC = {\n\tsymbol: \"BTC\",\n\tname: \"Bitcoin\",\n\tlogoURI: \"https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1547033579\",\n\tdecimals: 18,\n\tchainId: 1,\n\taddress: \"0x0000000000000000000000000000000000000001\",\n};\n\nexport const ApprovalState = {\n\tUNKNOWN: 0,\n\tNOT_APPROVED: 1,\n\tPENDING: 2,\n\tAPPROVED: 3,\n};\n\nexport const banners = [\n\t{\n\t\timage: require(\"../assets/images/banners/banner_1.png\"),\n\t\turl: \"https://den.octo.fi\",\n\t},\n\t{\n\t\timage: require(\"../assets/images/banners/banner_2.png\"),\n\t\turl: \"https://dyor.octo.fi\",\n\t},\n\t{\n\t\timage: require(\"../assets/images/banners/banner_3.png\"),\n\t\turl: \"https://doc.octo.fi\",\n\t},\n\t{\n\t\timage: require(\"../assets/images/banners/banner_4.png\"),\n\t\turl: \"https://den.octo.fi\",\n\t},\n\t{\n\t\timage: require(\"../assets/images/banners/banner_5.png\"),\n\t\turl: \"https://dyor.octo.fi\",\n\t},\n\t{\n\t\timage: require(\"../assets/images/banners/banner_6.png\"),\n\t\turl: \"https://doc.octo.fi\",\n\t},\n];\n\nexport enum StepKind {\n\tWrapEth = \"WrapEth\",\n\tToggleTokenLock = \"ToggleTokenLock\",\n\tTransferToken = \"TransferToken\",\n\tLendingToken = \"LendingToken\",\n\tBorrowToken = \"BorrowToken\",\n\tRepayToken = \"RepayToken\",\n\tUnLendingToken = \"UnLendingToken\",\n\tBuySellLimit = \"BuySellLimit\",\n\tBuySellLimitMatching = \"BuySellLimitMatching\",\n\tBuySellMarket = \"BuySellMarket\",\n\tUnlockCollectibles = \"UnlockCollectibles\",\n\tSellCollectible = \"SellCollectible\",\n\tBuyCollectible = \"BuyCollectible\",\n\tSubmitConfig = \"SubmitConfig\",\n}\n\nexport const TX_DEFAULTS_TRANSFER = {\n\tgas: 1000000,\n\tgasLimit: 1000000,\n\tgasTransferToken: 21000,\n\tshouldValidate: true,\n};\n","export const marketFilters = [\n\t{\n\t\ttext: \"ETH\",\n\t\tvalue: \"weth\",\n\t},\n\t{\n\t\ttext: \"BTC\",\n\t\tvalue: \"wbtc\",\n\t},\n\t{\n\t\ttext: \"USDC\",\n\t\tvalue: \"usdc\",\n\t},\n];\n\nexport const pairs = [\n\t{\n\t\tbase: \"weth\",\n\t\tquote: \"dai\",\n\t\tconfig: {\n\t\t\tbasePrecision: 3,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 0.01,\n\t\t},\n\t},\n\t{\n\t\tbase: \"wbtc\",\n\t\tquote: \"dai\",\n\t\tconfig: {\n\t\t\tbasePrecision: 3,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 0.01,\n\t\t},\n\t},\n\t{\n\t\tbase: \"usdc\",\n\t\tquote: \"dai\",\n\t\tconfig: {\n\t\t\tbasePrecision: 3,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 0.1,\n\t\t},\n\t},\n\t{\n\t\tbase: \"weth\",\n\t\tquote: \"usdc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 6,\n\t\t\tminAmount: 0.01,\n\t\t},\n\t},\n\t{\n\t\tbase: \"wbtc\",\n\t\tquote: \"usdc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 6,\n\t\t\tminAmount: 0.01,\n\t\t},\n\t},\n\t{\n\t\tbase: \"zrx\",\n\t\tquote: \"weth\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 10,\n\t\t},\n\t},\n\t{\n\t\tbase: \"zrx\",\n\t\tquote: \"wbtc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 10,\n\t\t},\n\t},\n\t{\n\t\tbase: \"bat\",\n\t\tquote: \"weth\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 8,\n\t\t},\n\t},\n\t{\n\t\tbase: \"bat\",\n\t\tquote: \"wbtc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 8,\n\t\t},\n\t},\n\t{\n\t\tbase: \"mkr\",\n\t\tquote: \"weth\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 6,\n\t\t},\n\t},\n\t{\n\t\tbase: \"mkr\",\n\t\tquote: \"wbtc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 6,\n\t\t},\n\t},\n\t{\n\t\tbase: \"rep\",\n\t\tquote: \"weth\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 5,\n\t\t},\n\t},\n\t{\n\t\tbase: \"rep\",\n\t\tquote: \"wbtc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 5,\n\t\t},\n\t},\n\t{\n\t\tbase: \"link\",\n\t\tquote: \"weth\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 1,\n\t\t},\n\t},\n\t{\n\t\tbase: \"link\",\n\t\tquote: \"wbtc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 1,\n\t\t},\n\t},\n\t{\n\t\tbase: \"weth\",\n\t\tquote: \"usdt\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 6,\n\t\t},\n\t},\n\t{\n\t\tbase: \"wbtc\",\n\t\tquote: \"usdt\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 6,\n\t\t},\n\t},\n\t{\n\t\tbase: \"knc\",\n\t\tquote: \"weth\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 1,\n\t\t},\n\t},\n\t{\n\t\tbase: \"knc\",\n\t\tquote: \"wbtc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 5,\n\t\t\tminAmount: 1,\n\t\t},\n\t},\n\t{\n\t\tbase: \"0xbtc\",\n\t\tquote: \"weth\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 8,\n\t\t\tminAmount: 1,\n\t\t},\n\t},\n\t{\n\t\tbase: \"0xbtc\",\n\t\tquote: \"wbtc\",\n\t\tconfig: {\n\t\t\tbasePrecision: 2,\n\t\t\tpricePrecision: 8,\n\t\t\tminAmount: 1,\n\t\t},\n\t},\n];\n\nexport const ERC20_ABI = [\n\t{\n\t\tconstant: true,\n\t\tinputs: [],\n\t\tname: \"name\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"string\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tconstant: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: \"_spender\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"_value\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tname: \"approve\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"bool\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tconstant: true,\n\t\tinputs: [],\n\t\tname: \"totalSupply\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tconstant: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: \"_from\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"_to\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"_value\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tname: \"transferFrom\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"bool\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tconstant: true,\n\t\tinputs: [],\n\t\tname: \"decimals\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint8\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tconstant: true,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: \"_owner\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"balanceOf\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"balance\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tconstant: true,\n\t\tinputs: [],\n\t\tname: \"symbol\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"string\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tconstant: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: \"_to\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"_value\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tname: \"transfer\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"bool\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tconstant: true,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: \"_owner\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"_spender\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"allowance\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tpayable: false,\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [],\n\t\toutputs: [],\n\t\tpayable: true,\n\t\tstateMutability: \"payable\",\n\t\ttype: \"fallback\",\n\t},\n\t{\n\t\tanonymous: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: \"owner\",\n\t\t\t\ttype: \"address\",\n\t\t\t\tindexed: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"spender\",\n\t\t\t\ttype: \"address\",\n\t\t\t\tindexed: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t\tindexed: false,\n\t\t\t},\n\t\t],\n\t\tname: \"Approval\",\n\t\toutputs: [],\n\t\ttype: \"event\",\n\t},\n\t{\n\t\tanonymous: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tname: \"from\",\n\t\t\t\ttype: \"address\",\n\t\t\t\tindexed: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"to\",\n\t\t\t\ttype: \"address\",\n\t\t\t\tindexed: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t\tindexed: false,\n\t\t\t},\n\t\t],\n\t\tname: \"Transfer\",\n\t\toutputs: [],\n\t\ttype: \"event\",\n\t},\n];\n\nexport const ServerState = {\n\tDone: \"Done\",\n\tError: \"Error\",\n\tLoading: \"Loading\",\n\tNotLoaded: \"NotLoaded\",\n};\n","export const DEFAULT_MARGIN_MARKET = \"ETH-USDC\";\n","import { namehash } from \"ethers/lib/utils\";\nimport { useMemo } from \"react\";\nimport { useSingleCallResult } from \"../state/multicall/hooks\";\nimport isZero from \"../utils/isZero\";\nimport { useENSRegistrarContract, useENSResolverContract } from \"./useContract\";\nimport useDebounce from \"./useDebounce\";\n\n/**\n * Does a lookup for an ENS name to find its address.\n */\nexport default function useENSAddress(ensName?: string | null): { loading: boolean; address: string | null } {\n\tconst debouncedName = useDebounce(ensName, 200);\n\tconst ensNodeArgument = useMemo(() => {\n\t\tif (!debouncedName) return [undefined];\n\t\ttry {\n\t\t\treturn debouncedName ? [namehash(debouncedName)] : [undefined];\n\t\t} catch (error) {\n\t\t\treturn [undefined];\n\t\t}\n\t}, [debouncedName]);\n\tconst registrarContract = useENSRegistrarContract(false);\n\tconst resolverAddress = useSingleCallResult(registrarContract, \"resolver\", ensNodeArgument);\n\tconst resolverAddressResult = resolverAddress.result?.[0];\n\tconst resolverContract = useENSResolverContract(\n\t\tresolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\n\t\tfalse\n\t);\n\tconst addr = useSingleCallResult(resolverContract, \"addr\", ensNodeArgument);\n\n\tconst changed = debouncedName !== ensName;\n\treturn {\n\t\taddress: changed ? null : addr.result?.[0] ?? null,\n\t\tloading: changed || resolverAddress.loading || addr.loading,\n\t};\n}\n","import { ConnectorUpdate } from \"@web3-react/types\";\nimport { AbstractConnector } from \"@web3-react/abstract-connector\";\nimport invariant from \"tiny-invariant\";\n\ninterface NetworkConnectorArguments {\n\turls: { [chainId: number]: string };\n\tdefaultChainId?: number;\n}\n\n// taken from ethers.js, compatible interface with web3 provider\ntype AsyncSendable = {\n\tisMetaMask?: boolean;\n\thost?: string;\n\tpath?: string;\n\tsendAsync?: (request: any, callback: (error: any, response: any) => void) => void;\n\tsend?: (request: any, callback: (error: any, response: any) => void) => void;\n};\n\nclass RequestError extends Error {\n\tconstructor(message: string, public code: number, public data?: unknown) {\n\t\tsuper(message);\n\t}\n}\n\ninterface BatchItem {\n\trequest: { jsonrpc: \"2.0\"; id: number; method: string; params: unknown };\n\tresolve: (result: any) => void;\n\treject: (error: Error) => void;\n}\n\nclass MiniRpcProvider implements AsyncSendable {\n\tpublic readonly isMetaMask: false = false;\n\tpublic readonly chainId: number;\n\tpublic readonly url: string;\n\tpublic readonly host: string;\n\tpublic readonly path: string;\n\tpublic readonly batchWaitTimeMs: number;\n\n\tprivate nextId = 1;\n\tprivate batchTimeoutId: ReturnType<typeof setTimeout> | null = null;\n\tprivate batch: BatchItem[] = [];\n\n\tconstructor(chainId: number, url: string, batchWaitTimeMs?: number) {\n\t\tthis.chainId = chainId;\n\t\tthis.url = url;\n\t\tconst parsed = new URL(url);\n\t\tthis.host = parsed.host;\n\t\tthis.path = parsed.pathname;\n\t\t// how long to wait to batch calls\n\t\tthis.batchWaitTimeMs = batchWaitTimeMs ?? 50;\n\t}\n\n\tpublic readonly clearBatch = async () => {\n\t\tconsole.debug(\"Clearing batch\", this.batch);\n\t\tconst batch = this.batch;\n\t\tthis.batch = [];\n\t\tthis.batchTimeoutId = null;\n\t\tlet response: Response;\n\t\ttry {\n\t\t\tresponse = await fetch(this.url, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"content-type\": \"application/json\", accept: \"application/json\" },\n\t\t\t\tbody: JSON.stringify(batch.map((item) => item.request)),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tbatch.forEach(({ reject }) => reject(new Error(\"Failed to send batch call\")));\n\t\t\treturn;\n\t\t}\n\n\t\tif (!response.ok) {\n\t\t\tbatch.forEach(({ reject }) =>\n\t\t\t\treject(new RequestError(`${response.status}: ${response.statusText}`, -32000))\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tlet json;\n\t\ttry {\n\t\t\tjson = await response.json();\n\t\t} catch (error) {\n\t\t\tbatch.forEach(({ reject }) => reject(new Error(\"Failed to parse JSON response\")));\n\t\t\treturn;\n\t\t}\n\t\tconst byKey = batch.reduce<{ [id: number]: BatchItem }>((memo, current) => {\n\t\t\tmemo[current.request.id] = current;\n\t\t\treturn memo;\n\t\t}, {});\n\t\tfor (const result of json) {\n\t\t\tconst {\n\t\t\t\tresolve,\n\t\t\t\treject,\n\t\t\t\trequest: { method },\n\t\t\t} = byKey[result.id];\n\t\t\tif (resolve && reject) {\n\t\t\t\tif (\"error\" in result) {\n\t\t\t\t\treject(new RequestError(result?.error?.message, result?.error?.code, result?.error?.data));\n\t\t\t\t} else if (\"result\" in result) {\n\t\t\t\t\tresolve(result.result);\n\t\t\t\t} else {\n\t\t\t\t\treject(\n\t\t\t\t\t\tnew RequestError(`Received unexpected JSON-RPC response to ${method} request.`, -32000, result)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tpublic readonly sendAsync = (\n\t\trequest: { jsonrpc: \"2.0\"; id: number | string | null; method: string; params?: unknown[] | object },\n\t\tcallback: (error: any, response: any) => void\n\t): void => {\n\t\tthis.request(request.method, request.params)\n\t\t\t.then((result) => callback(null, { jsonrpc: \"2.0\", id: request.id, result }))\n\t\t\t.catch((error) => callback(error, null));\n\t};\n\n\tpublic readonly request = async (\n\t\tmethod: string | { method: string; params: unknown[] },\n\t\tparams?: unknown[] | object\n\t): Promise<unknown> => {\n\t\tif (typeof method !== \"string\") {\n\t\t\treturn this.request(method.method, method.params);\n\t\t}\n\t\tif (method === \"eth_chainId\") {\n\t\t\treturn `0x${this.chainId.toString(16)}`;\n\t\t}\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis.batch.push({\n\t\t\t\trequest: {\n\t\t\t\t\tjsonrpc: \"2.0\",\n\t\t\t\t\tid: this.nextId++,\n\t\t\t\t\tmethod,\n\t\t\t\t\tparams,\n\t\t\t\t},\n\t\t\t\tresolve,\n\t\t\t\treject,\n\t\t\t});\n\t\t});\n\t\tthis.batchTimeoutId = this.batchTimeoutId ?? setTimeout(this.clearBatch, this.batchWaitTimeMs);\n\t\treturn promise;\n\t};\n}\n\nexport class NetworkConnector extends AbstractConnector {\n\tprivate readonly providers: { [chainId: number]: MiniRpcProvider };\n\tprivate currentChainId: number;\n\n\tconstructor({ urls, defaultChainId }: NetworkConnectorArguments) {\n\t\tinvariant(\n\t\t\tdefaultChainId || Object.keys(urls).length === 1,\n\t\t\t\"defaultChainId is a required argument with >1 url\"\n\t\t);\n\t\tsuper({ supportedChainIds: Object.keys(urls).map((k): number => Number(k)) });\n\n\t\tthis.currentChainId = defaultChainId || Number(Object.keys(urls)[0]);\n\t\tthis.providers = Object.keys(urls).reduce<{ [chainId: number]: MiniRpcProvider }>((accumulator, chainId) => {\n\t\t\taccumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)]);\n\t\t\treturn accumulator;\n\t\t}, {});\n\t}\n\n\tpublic get provider(): MiniRpcProvider {\n\t\treturn this.providers[this.currentChainId];\n\t}\n\n\tpublic async activate(): Promise<ConnectorUpdate> {\n\t\treturn { provider: this.providers[this.currentChainId], chainId: this.currentChainId, account: null };\n\t}\n\n\tpublic async getProvider(): Promise<MiniRpcProvider> {\n\t\treturn this.providers[this.currentChainId];\n\t}\n\n\tpublic async getChainId(): Promise<number> {\n\t\treturn this.currentChainId;\n\t}\n\n\tpublic async getAccount(): Promise<null> {\n\t\treturn null;\n\t}\n\n\tpublic deactivate() {\n\t\treturn;\n\t}\n}\n","import { Web3Provider } from \"@ethersproject/providers\";\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\nimport { LedgerConnector } from \"@web3-react/ledger-connector\";\nimport { TrezorConnector } from \"@web3-react/trezor-connector\";\nimport { NetworkConnector } from \"./NetworkConnector\";\nimport { WalletLinkConnector } from \"@web3-react/walletlink-connector\";\nimport { TorusConnector } from \"@web3-react/torus-connector\";\nimport { PortisConnector } from \"@web3-react/portis-connector\";\nimport { POLLING_INTERVAL } from \"../constants\";\nimport { AbstractConnector } from \"@web3-react/abstract-connector\";\n\nconst NETWORK_URL = process.env.REACT_APP_NETWORK_URL;\nconst PORTIS_ID = process.env.REACT_APP_PORTIS_ID;\n\nexport const NETWORK_CHAIN_ID = parseInt(process.env.REACT_APP_CHAIN_ID ?? \"1\");\n\nif (typeof NETWORK_URL === \"undefined\") {\n\tthrow new Error(`REACT_APP_NETWORK_URL must be a defined environment variable`);\n}\n\nexport const network = new NetworkConnector({\n\turls: { [NETWORK_CHAIN_ID]: NETWORK_URL },\n});\n\nlet networkLibrary: Web3Provider | undefined;\nexport function getNetworkLibrary(): Web3Provider {\n\treturn (networkLibrary = networkLibrary ?? new Web3Provider(network.provider as any));\n}\n\nexport const injected = new InjectedConnector({\n\tsupportedChainIds: [1, 3, 4, 5, 42],\n});\n\n// mainnet only\nexport const walletconnect = new WalletConnectConnector({\n\trpc: { 1: NETWORK_URL },\n\tbridge: \"https://bridge.walletconnect.org\",\n\tqrcode: true,\n\tpollingInterval: POLLING_INTERVAL,\n});\n\nexport const ledger = (derivationPath: string | undefined) =>\n\tnew LedgerConnector({\n\t\tchainId: 1,\n\t\turl: NETWORK_URL,\n\t\tpollingInterval: POLLING_INTERVAL,\n\t\tbaseDerivationPath: derivationPath,\n\t});\n\nexport const trezor = new TrezorConnector({\n\tchainId: 1,\n\turl: NETWORK_URL,\n\tpollingInterval: POLLING_INTERVAL,\n\tmanifestEmail: process.env.REACT_APP_MANIFEST_EMAIL ?? \"\",\n\tmanifestAppUrl: process.env.REACT_APP_MANIFEST_URL ?? \"\",\n});\n\nexport const walletlink = new WalletLinkConnector({\n\turl: NETWORK_URL,\n\tappName: \"DeFiDashboard\",\n});\n\nexport const portis = new PortisConnector({\n\tdAppId: PORTIS_ID ?? \"\",\n\tnetworks: [1],\n});\n\nexport const torus = new TorusConnector({\n\tchainId: 1,\n});\n\nconst connectors: {\n\t[connector: string]: {\n\t\tprovider: any;\n\t\tname: string;\n\t};\n} = {\n\tinjected: {\n\t\tprovider: injected,\n\t\tname: \"MetaMask\",\n\t},\n\twalletConnect: {\n\t\tprovider: walletconnect,\n\t\tname: \"Wallet Connect\",\n\t},\n\tledger: {\n\t\tprovider: ledger,\n\t\tname: \"Ledger\",\n\t},\n\ttrezor: {\n\t\tprovider: trezor,\n\t\tname: \"Trezor\",\n\t},\n\ttrustWallet: {\n\t\tprovider: walletconnect,\n\t\tname: \"Trust Wallet\",\n\t},\n\tportis: {\n\t\tprovider: portis,\n\t\tname: \"Portis\",\n\t},\n\ttorus: {\n\t\tprovider: torus,\n\t\tname: \"Torus\",\n\t},\n\tcoinbase: {\n\t\tprovider: walletlink,\n\t\tname: \"Coinbase\",\n\t},\n};\n\nexport interface WalletInfo {\n\tconnector?: AbstractConnector | any;\n\tname: string;\n\tdescription: string;\n\thref: string | null;\n\tcolor: string;\n\tprimary?: true;\n\tmobile?: true;\n\tmobileOnly?: true;\n}\n\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\n\tmetamask: {\n\t\tconnector: injected,\n\t\tname: \"MetaMask\",\n\t\tdescription: \"Easy-to-use browser extension.\",\n\t\thref: null,\n\t\tcolor: \"#E8831D\",\n\t},\n\twalletConnect: {\n\t\tconnector: walletconnect,\n\t\tname: \"WalletConnect\",\n\t\tdescription: \"Connect to Wallet that supports walletConnect...\",\n\t\thref: null,\n\t\tcolor: \"#4196FC\",\n\t\tmobile: true,\n\t},\n\tledger: {\n\t\tconnector: ledger,\n\t\tname: \"Ledger\",\n\t\tdescription: \"Connect to your Ledger hardware\",\n\t\thref: null,\n\t\tcolor: \"#315CF5\",\n\t},\n\ttrezor: {\n\t\tconnector: trezor,\n\t\tname: \"Trezor\",\n\t\tdescription: \"Connect to your Trezor wallet\",\n\t\thref: null,\n\t\tcolor: \"#142533\",\n\t},\n\ttrustWallet: {\n\t\tconnector: walletconnect,\n\t\tname: \"Trust Wallet\",\n\t\tdescription: \"Connect to Trust Wallet\",\n\t\thref: null,\n\t\tcolor: \"#3375BB\",\n\t\tmobile: true,\n\t},\n\tportis: {\n\t\tconnector: portis,\n\t\tname: \"Portis\",\n\t\tdescription: \"Login using Portis hosted wallet\",\n\t\thref: null,\n\t\tcolor: \"#4A6C9B\",\n\t\tmobile: true,\n\t},\n\tcoinbase: {\n\t\tconnector: walletlink,\n\t\tname: \"Coinbase Wallet\",\n\t\tdescription: \"Use Coinbase Wallet app on mobile device\",\n\t\thref: null,\n\t\tcolor: \"#315CF5\",\n\t},\n\tcoinbase_mobile: {\n\t\tname: \"Open in Coinbase Wallet\",\n\t\tdescription: \"Open in Coinbase Wallet app.\",\n\t\thref: \"https://go.cb-w.com/mtUDhEZPy1\",\n\t\tcolor: \"#315CF5\",\n\t\tmobile: true,\n\t\tmobileOnly: true,\n\t},\n\ttorus: {\n\t\tconnector: torus,\n\t\tname: \"Torus\",\n\t\tdescription: \"Torus Wallet by TorusLabs\",\n\t\thref: null,\n\t\tcolor: \"#0364FF\",\n\t},\n};\n\nexport default connectors;\n","import { DeFiSDK } from \"defi-sdk\";\n\nconst nodeUrl = process.env.REACT_APP_NETWORK_URL || \"https://eth-mainnet.zerion.io/\";\nconst defiSdk = new DeFiSDK(nodeUrl);\n\nexport default defiSdk;\n"],"sourceRoot":""}