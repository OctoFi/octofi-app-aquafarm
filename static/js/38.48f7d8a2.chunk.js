(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[38],{3027:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(4),a=n(2),c=n(111),o=n(22),i=n(0),s=n.n(i),l=n(21),u=n(67);function b(){var t=Object(o.a)(["\n\tcolor: ",";\n\twidth: 0;\n\tposition: relative;\n\tfont-weight: 500;\n\tfont-family: inherit;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ",";\n\tfont-size: 1rem;\n\ttext-align: ",";\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\theight: ",";\n\tborder-bottom-right-radius: ",";\n\tborder-top-right-radius: ",";\n\tborder-bottom-left-radius: ",";\n\tborder-top-left-radius: ",";\n\tpadding-right: 0.625rem;\n\tpadding-left: ",";\n\t-webkit-appearance: textfield;\n\tborder-left: ",';\n\n\t@media (min-width: 768px) {\n\t\tpadding-right: 4.5625rem;\n\t}\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t[type="number"] {\n\t\t-moz-appearance: textfield;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ',";\n\t}\n"]);return b=function(){return t},t}var d=l.default.input(b(),(function(t){var e=t.error,n=t.theme;return e?n.red1:n.text1}),(function(t){return t.theme.bg3}),(function(t){var e=t.align;return e&&e}),(function(t){return"sm"===t.size?"48px":"56px"}),(function(t){return t.reverse?"0":"1.125rem"}),(function(t){return t.reverse?"0":"1.125rem"}),(function(t){return t.reverse?"1.125rem":"0"}),(function(t){return t.reverse?"1.125rem":"0"}),(function(t){var e=t.noBorder;return t.reverse?"1.375rem":e?"0.625rem":"1.5rem"}),(function(t){var e=t.theme;return t.noBorder?"none":"3px solid ".concat(e.modalBG)}),(function(t){return t.theme.text3})),f=RegExp("^\\d*(?:\\\\[.])?\\d*$"),j=s.a.memo((function(t){var e=t.value,n=t.onUserInput,o=t.placeholder,i=t.size,s=Object(c.a)(t,["value","onUserInput","placeholder","size"]);return Object(a.jsx)(d,Object(r.a)(Object(r.a)({},s),{},{value:e,onChange:function(t){var e;(""===(e=t.target.value.replace(/,/g,"."))||f.test(Object(u.d)(e)))&&n(e)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",size:i,type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:o||"0.0",minLength:1,maxLength:79,spellCheck:"false"}))}))},3156:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n(279),a=n.n(r),c=n(767),o=n.n(c),i=n(565),s=n.n(i),l=n(0),u=n.n(l),b=n(2980),d=n(245);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var a=r.forwardedRef,c=s()(r,["forwardedRef"]),i=Object(b.a)(t,c),l=o()(i,3),d=l[0],f=l[1],m=l[2],p=j(j({},c),{},{t:d,i18n:f,tReady:m});return e.withRef&&a?p.ref=a:!e.withRef&&a&&(p.forwardedRef=a),u.a.createElement(n,p)}r.displayName="withI18nextTranslation(".concat(Object(d.a)(n),")"),r.WrappedComponent=n;return e.withRef?u.a.forwardRef((function(t,e){return u.a.createElement(r,Object.assign({},t,{forwardedRef:e}))})):r}}},4454:function(t,e,n){},4455:function(t,e,n){},4593:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n(22),c=n(3006),o=n(1244),i=n(151),s=n(207),l=function(t){return Object(r.jsx)(i.ApolloProvider,{client:Object(s.b)(),children:t.children})},u=n(455),b=n(1),d=n.n(b),f=n(30),j=n(44),m=n(50),p=(n(4454),n(46)),h=n(56),O=n(294),x=n(0),v=n.n(x),w=n(765),g=n(752),k=n(758),y=n.n(k),B=n(759),T=n(21),E=n(2980);function S(){var t=Object(a.a)(["\n\tcolor: ",";\n\tfont-size: 1rem;\n\tfont-weight: 700;\n"]);return S=function(){return t},t}function N(){var t=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\n\t& .card-body {\n\t\tpadding: 24px 20px 20px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\t& .card-body {\n\t\t\tpadding: 24px;\n\t\t}\n\t}\n"]);return N=function(){return t},t}var D=Object(T.default)(g.b)(N()),F=T.default.span(S(),(function(t){var e=t.theme,n=t.variant;return n?e[n]:e.text1})),M=function(t){var e=Object(p.a)().account,n="NATIVE"===Object(m.e)(h.b),a=Object(m.d)(),c=Object(m.e)(h.e),o=Object(m.e)(h.i),i=Object(E.a)().t,l=function(){var t=Object(f.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.c)(e);case 2:n=t.sent,a(Object(O.l)(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(x.useEffect)((function(){(function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,l();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(w.a)(Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,l();case 3:case"end":return t.stop()}}),t)}))),3e4);var u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t?n?"".concat(t.dividedBy("1e18").toFixed(3)," ETH"):o?"".concat(t.dividedBy("1e18").multipliedBy(o).toFixed(3)," USD"):"- USD":"-"},b=u(c&&c.totalLiquidity),v=u(c&&c.totalCollateralETH),g=u(c&&c.totalBorrowsETH),k=u(c&&c.availableBorrowsETH),T=c&&"".concat(c.currentLiquidationThreshold.toFixed(0)," %")||"-",S=c&&"".concat(c.ltv.toFixed(0)," %")||"-",N="-";c&&c.totalBorrowsETH.gt(0)&&(N=c&&c.healthFactor.dividedBy("1e18").toFixed(3),new j.BigNumber(N));var M=[{dataField:"total_liquidity",text:i("borrow.totalLiquidity"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.totalLiquidity})}},{dataField:"total_collateral",text:i("borrow.totalCollateral"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.totalCollateralETH})}},{dataField:"total_borrows",text:i("borrow.totalBorrows"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.totalBorrowsETH})}},{dataField:"available",text:i("borrow.available"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.availableBorrowsETH})}},{dataField:"liquidation_threshold",text:i("borrow.liquidationThreshold"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.currentLiquidationThreshold})}},{dataField:"ltv",text:"LTV",formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.ltv})}},{dataField:"health_factor",text:i("borrow.healthFactor"),formatter:function(t,e,n){return Object(r.jsx)(F,{children:e.healthFactor})}}];return Object(r.jsxs)(D,{children:[Object(r.jsx)(y.a,{wrapperClasses:"d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden global-overall__table mb-0",bootstrap4:!0,keyField:"id",remote:!0,data:[{totalLiquidity:b,totalCollateralETH:v,totalBorrowsETH:g,availableBorrowsETH:k,currentLiquidationThreshold:T,ltv:S,healthFactor:N}],columns:M}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:M,data:[{totalLiquidity:b,totalCollateralETH:v,totalBorrowsETH:g,availableBorrowsETH:k,currentLiquidationThreshold:T,ltv:S,healthFactor:N}],direction:"rtl",withoutBorder:!0})]})},L=n(3009),z=n(3180),C=n(300);function A(){var t=Object(a.a)(["\n\t{\n\t\treserves {\n\t\t\tid\n\t\t\tname\n\t\t\tsymbol\n\t\t\tdecimals\n\t\t\tliquidityRate\n\t\t\tvariableBorrowRate\n\t\t\tprice {\n\t\t\t\tpriceInEth\n\t\t\t}\n\t\t\tstableBorrowRate\n\t\t\taverageStableBorrowRate\n\t\t\taToken {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]);return A=function(){return t},t}var R=n.n(C)()(A()),H=n(218),W=n(4),q=n(41),_=n(15),P=n(63),I=n(78),U=n(49),G=n(226),V=function(){var t=Object(p.a)(),e=t.account,n=t.library,r=Object(m.e)(h.f),a=Object(m.e)(h.s),c=Object(x.useMemo)((function(){return Object(U.a)()}),[]),o=Object(x.useMemo)((function(){return c.getTokens()}),[]),i=Object(x.useMemo)((function(){return c.getWethToken()}),[]),s=function(t,e,n){var r=Object(x.useState)([]),a=Object(q.a)(r,2),c=a[0],o=a[1],i=function(){var r=Object(f.a)(d.a.mark((function r(){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=5;break}return r.next=3,Object(I.e)(t,e,n);case 3:a=r.sent,o(a);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(x.useEffect)((function(){i()}),[e,t]),Object(x.useMemo)((function(){return c.length>0?c:[]}),[e,c,t])}(Object(x.useMemo)((function(){return[].concat(Object(P.a)(o),[i])}),[i,o]),e,window.ethereum||n),l=Object(G.d)([e]),u=Object(x.useMemo)((function(){return s.find((function(t){return t.token.symbol===i.symbol}))}),[s]),b=Object(x.useMemo)((function(){return s.filter((function(t){return t.token.symbol!==i.symbol}))}),[s]),O=Object(x.useMemo)((function(){var t=l[e]?l[e].toExact():null,n=new j.BigNumber(t*Math.pow(10,18));return{token:l[e]?l[e].currency:void 0,balance:n}}),[l]),v=Object(x.useMemo)((function(){if(u&&O){var t=u.balance;return void 0!==O.token&&(t=O.balance.plus(u.balance)),t}}),[O,u]),w=Object(x.useMemo)((function(){return Object(h.v)({tokenBalances:b,wethTokenBalance:u,tokenToFind:r})}),[r,b,u]),g=Object(x.useMemo)((function(){return Object(h.v)({tokenBalances:b,wethTokenBalance:u,tokenToFind:a})}),[a,b,u]);return Object(x.useMemo)((function(){return{quoteTokenBalance:g,baseTokenBalance:w,totalEthBalance:v,ethBalance:O,wethBalance:u,tokensBalance:b}}),[e,r,a,s,w,g])},K=function(t){return function(e){var n=V();return Object(r.jsx)(t,Object(W.a)(Object(W.a)({},e),n))}},J=n(176),$=n(3013),Q=n(3776),Y=n(111),X=n(5),Z=n(9),tt=n(16),et=n(17),nt=n(394),rt=n(10),at=n(3011),ct=n(3027);function ot(){var t=Object(a.a)(["\n\t",";\n\talign-items: center;\n\tmargin-top: 10px;\n\tcolor: ",";\n\topacity: 0.5;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tline-height: 1rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t}\n"]);return ot=function(){return t},t}function it(){var t=Object(a.a)(["\n\talign-items: center;\n\theight: 56px;\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tbackground-color: ",";\n\tcolor: ",";\n\tborder-bottom-left-radius: 18px;\n\tborder-top-left-radius: 18px;\n\tbox-shadow: none;\n\toutline: none;\n\tcursor: pointer;\n\tuser-select: none;\n\tborder: none;\n\tpadding: 0.875rem 0.625rem;\n\tmin-width: 116px;\n\twidth: 116px;\n\ttext-align: center;\n\n\t@media (min-width: 768px) {\n\t\tmin-width: 116px;\n\t\twidth: 116px;\n\t\tpadding: 0.625rem 1rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 700;\n\t\ttext-align: left;\n\t}\n\n\t:focus,\n\t:hover {\n\t\tbackground-color: ",";\n\t\toutline: none;\n\t}\n"]);return it=function(){return t},t}function st(){var t=Object(a.a)(["\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tmargin-left: 15px;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t\tmargin-right: auto;\n\t}\n"]);return st=function(){return t},t}function lt(){var t=Object(a.a)(["\n\t",";\n\tposition: relative;\n\tborder-radius: 0.42rem;\n"]);return lt=function(){return t},t}function ut(){var t=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (min-width: 768px) {\n\t\tjustify-content: space-between;\n\t}\n"]);return ut=function(){return t},t}function bt(){var t=Object(a.a)(["\n\t",";\n\talign-items: center;\n\tcolor: ",";\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding: 0;\n"]);return bt=function(){return t},t}function dt(){var t=Object(a.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tflex: 1;\n"]);return dt=function(){return t},t}function ft(){var t=Object(a.a)(["\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t\tfont-weight: 700;\n\t}\n"]);return ft=function(){return t},t}function jt(){var t=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 34px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 36px;\n\t}\n"]);return jt=function(){return t},t}function mt(){var t=Object(a.a)(["\n\t",";\n\talign-items: center;\n\n\tpadding: 0.625rem 0 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding-top: 0.75rem;\n\t}\n"]);return mt=function(){return t},t}var pt=T.default.div(mt(),(function(t){return t.theme.flexRowNoWrap})),ht=T.default.div(jt()),Ot=T.default.span(ft(),(function(t){return t.theme.text1})),xt=T.default.div(dt()),vt=T.default.div(bt(),(function(t){return t.theme.flexRowNoWrap}),(function(t){return t.theme.text1})),wt=T.default.span(ut()),gt=T.default.div(lt(),(function(t){return t.theme.flexColumnNoWrap})),kt=T.default.span(st()),yt=T.default.button(it(),(function(t){return t.theme.bg3}),(function(t){return t.theme.text1}),(function(t){return t.theme.bg1})),Bt=T.default.div(ot(),(function(t){return t.theme.flexRowNoWrap}),(function(t){return t.theme.text1})),Tt=function(t){Object(tt.a)(n,t);var e=Object(et.a)(n);function n(){var t;Object(X.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={valueStr:t.props.value?Object(I.b)(t.props.value,t.props.decimals,t.props.valueFixedDecimals):""},t._updateValue=function(e){var n=Object(I.f)(e||"0",t.props.decimals);t.props.min&&n.isLessThan(t.props.min)||(t.props.onUserInput(n),t.setState({valueStr:e}))},t}return Object(Z.a)(n,[{key:"render",value:function(){var t=this.props,e=t.label,n=void 0===e?"Input":e,a=t.disable,c=void 0!==a&&a,o=t.selected,i=t.hideInput,s=void 0!==i&&i,l=t.id,u=t.showBalance,b=void 0===u||u,d=t.balanceText,f=t.token,j=void 0===f?void 0:f,m=this.state.valueStr,p=j?new _.k(1,j.address,j.decimals,j.symbol,j.name):void 0;return Object(r.jsx)(gt,{id:l,children:Object(r.jsxs)(ht,{children:[!s&&Object(r.jsx)(vt,{children:Object(r.jsx)(at.b,{children:Object(r.jsx)(Ot,{children:n})})}),Object(r.jsxs)(pt,{style:s?{padding:"0",borderRadius:"0.42rem"}:{},selected:c,children:[Object(r.jsx)(yt,{selected:!!o,className:"open-currency-select-button",children:Object(r.jsxs)(wt,{children:[j&&Object(r.jsx)($.a,{currency:p,size:"24px"}),Object(r.jsx)(kt,{className:"token-symbol-container",active:Boolean(o),children:(o&&(null===o||void 0===o?void 0:o.length)>20?((null===o||void 0===o?void 0:o.slice(0,4))+"..."+(null===o||void 0===o?void 0:o.slice((null===o||void 0===o?void 0:o.length)-5,null===o||void 0===o?void 0:o.length))).toUpperCase():o.toUpperCase())||"Select"})]})}),!s&&Object(r.jsx)(xt,{children:Object(r.jsx)(ct.a,{className:"token-amount-input pl-3 ",value:m,onUserInput:this._updateValue})})]}),o&&b&&Object(r.jsx)(Bt,{children:d()})]})})}}]),n}(v.a.Component);Tt.getDerivedStateFromProps=function(t,e){var n=t.decimals,r=t.value,a=t.valueFixedDecimals,c=e.valueStr;return r?r&&!Object(I.f)(c||"0",n).eq(r)?{valueStr:Object(I.b)(r,n,a)}:null:{valueStr:""}};var Et=n(3012),St=(n(55),n(212)),Nt=n(259),Dt=n(3156);function Ft(){var t=Object(a.a)(["\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n"]);return Ft=function(){return t},t}function Mt(){var t=Object(a.a)(["\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n"]);return Mt=function(){return t},t}function Lt(){var t=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ",";\n\tfont-size: 1rem;\n\tfont-weight: 500;\n"]);return Lt=function(){return t},t}function zt(){var t=Object(a.a)(["\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n"]);return zt=function(){return t},t}var Ct=T.default.h4(zt()),At=T.default.div(Lt(),(function(t){return t.theme.text3})),Rt=Object(T.default)(St.h.black)(Mt()),Ht=T.default.button(Ft()),Wt=function(t){Object(tt.a)(n,t);var e=Object(et.a)(n);function n(){var t;Object(X.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={amount:null,error:{btnMsg:null,cardMsg:null}},t.componentDidMount=function(){var e=t.props,n=e.ethBalance,r=e.t;n.isLessThan(rt.mb.gasTransferToken)&&(Nt.c.error(r("errors.notEnoughGas")),t.setState({error:{btnMsg:"Error",cardMsg:r("errors.notEnoughGas")}}))},t.submit=Object(f.a)(d.a.mark((function e(){var n,r,a,c,o,i,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.tokenBalance,a=n.isEth,c=n.wethToken,o=n.aToken,i=n.isLending,!a){e.next=5;break}s=Object(W.a)(Object(W.a)({},c),{},{symbol:"ETH"}),e.next=10;break;case 5:if(!r){e.next=9;break}s=r.token,e.next=10;break;case 9:return e.abrupt("return",null);case 10:l=t.state.amount||new j.BigNumber(0),t.props.onSubmit(l,s,o,a,i);case 12:case"end":return e.stop()}}),e)}))),t._reset=function(){t.setState({amount:null})},t._closeModal=function(){t._reset()},t.setMax=function(){var e=t.props,n=e.tokenBalance,r=e.isEth,a=e.ethBalance,c=e.isLending,o=e.aToken;if(r){var i=c?a:o.balance||new j.BigNumber(0);t.setState({amount:i})}else n&&t.setState({amount:c?n.balance:o.balance||new j.BigNumber(0)})},t.updateAmount=function(e){t.setState({amount:e})},t}return Object(Z.a)(n,[{key:"render",value:function(){var t,e,n,a,i=this.context,s=this.props,l=s.tokenBalance,u=s.closeModal,b=s.ethBalance,d=s.isEth,f=s.wethToken,m=s.aToken,p=s.isLending,h=s.show,O=s.t,x=(Object(Y.a)(s,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","isLending","show","t"]),this.state),v=x.error,w=x.amount,g=m.liquidityRate;if(d)a=f.displayDecimals,n=18,e=p?b:m.balance||new j.BigNumber(0),t=Object(I.d)("ETH");else{if(!l)return null;var k=l.token,y=l.balance;a=k.displayDecimals,n=k.decimals,e=p?y:m.balance||new j.BigNumber(0),t=Object(I.d)(k.symbol)}var B=l.token,T=p?"Deposit ":"Withdraw ",E=Object(I.b)(e,n,a),S=v&&v.btnMsg?"Error":T+t,N=null===w||w&&w.isGreaterThan(e);return Object(r.jsx)(nt.a,{show:h,onHide:u,centered:!0,children:Object(r.jsx)(nt.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(Ct,{children:[O(p?"Deposit":"withdraw")," ",t]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(Tt,{decimals:n,min:0,max:e,onUserInput:this.updateAmount,value:w,token:B,selected:t,showBalance:!1,label:O(p?"wantToDeposit":"wantToWithdraw"),placeholder:new j.BigNumber(1).div(new j.BigNumber(10).pow(a)).toString(),valueFixedDecimals:a})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(Et.a,{children:[Object(r.jsxs)(At,{children:[Object(r.jsx)(at.c,{children:Object(r.jsx)(Rt,{fontWeight:500,color:i.text1,children:O("interestAPR")})}),Object(r.jsx)(at.c,{children:Object(r.jsxs)(Rt,{color:i.text1,fontWeight:500,children:[g.div("1e27").multipliedBy(100).toFixed(5)," %"]})})]}),Object(r.jsxs)(At,{children:[Object(r.jsx)(at.c,{children:Object(r.jsx)(Rt,{fontWeight:500,color:i.text1,children:O("amount")})}),Object(r.jsx)(at.c,{children:Object(r.jsx)(Rt,{color:i.text1,fontWeight:500,children:E})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(Ht,{className:"btn btn-".concat(p?"primary":"warning"),disabled:N,onClick:this.submit,children:S})})]})})})}}]),n}(v.a.Component);Wt.contextType=T.ThemeContext;var qt=Object(Dt.a)()(Wt),_t=n(118),Pt=void 0;function It(){var t=Object(a.a)(["\n\tfont-weight: 500;\n\tfont-size: 0.875rem;\n\tcolor: ",";\n\n\t&.font-size-base {\n\t\tfont-size: 1rem;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 700;\n\n\t\t&.label {\n\t\t\tfont-weight: 500;\n\t\t}\n\t}\n"]);return It=function(){return t},t}function Ut(){var t=Object(a.a)(["\n\tfont-weight: 400;\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 400;\n\t}\n"]);return Ut=function(){return t},t}function Gt(){var t=Object(a.a)(["\n\tcolor: ",";\n\tfont-size: 1rem;\n\tmargin-right: 10px;\n\tfont-weight: 700;\n"]);return Gt=function(){return t},t}function Vt(){var t=Object(a.a)(["\n\twidth: 32px;\n\theight: 32px;\n\tborder-radius: 32px;\n\tbackground-color: ",";\n\n\t@media (max-width: 991px) {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder-radius: 24px;\n\t}\n"]);return Vt=function(){return t},t}var Kt=T.default.div(Vt(),(function(t){return t.theme.text1})),Jt=T.default.span(Gt(),(function(t){return t.theme.text1})),$t=T.default.span(Ut(),(function(t){return t.theme.text1})),Qt=T.default.span(It(),(function(t){return t.theme.text1})),Yt=K((function(t){var e=Object(x.useState)(!1),n=Object(q.a)(e,2),a=n[0],c=n[1],o=Object(x.useState)(!1),i=Object(q.a)(o,2),s=i[0],l=(i[1],Object(x.useState)(!1)),u=Object(q.a)(l,2),b=u[0],O=(u[1],Object(x.useState)(!1)),v=Object(q.a)(O,2),w=v[0],g=v[1],k=Object(x.useState)(!1),T=Object(q.a)(k,2),S=T[0],N=T[1],D=Object(x.useState)(),F=Object(q.a)(D,2),M=F[0],L=F[1],z=Object(x.useState)(!0),C=Object(q.a)(z,2),A=C[0],R=C[1],P=Object(x.useState)(),G=Object(q.a)(P,2),V=G[0],K=G[1],Y=Object(x.useState)({field:!1,order:"desc"}),X=Object(q.a)(Y,2),Z=X[0],tt=X[1],et=Object(E.a)().t,nt=Object(p.a)().account,rt=Object(m.d)(),at=Object(m.e)(h.a),ct=Object(m.e)(h.u),ot=t.tokensBalance,it=t.ethBalance,st=t.totalEthBalance,lt=t.wethBalance,ut=(Object(m.e)(h.c),Object(m.e)(h.b)),bt=Object(x.useMemo)((function(){var t=at.map((function(t){var e=t.token,n=t.balance,r=e.symbol,a=Object(U.d)(e),c=ot.find((function(t){return t.token.symbol===r}));if(s){if(a&&st.isEqualTo(0)&&n&&n.isEqualTo(0))return null;if(c&&c.balance.isEqualTo(0)&&n&&n.isEqualTo(0))return null}if(b&&!e.isStableCoin)return null;var o,i,l=a?st||new j.BigNumber(0):c&&c.balance||new j.BigNumber(0);if(nt&&n){var u=Object(I.b)(n,e.decimals,e.displayDecimals),d=Object(I.b)(l,e.decimals,e.displayDecimals),f=ct&&ct.find((function(t){return t.c_id===e.c_id}));"NATIVE"===ut?(o=Number(d),i=Number(u)):(o=f?f.price_usd.multipliedBy(new j.BigNumber(d)).toNumber():"-",i=f?f.price_usd.multipliedBy(new j.BigNumber(u)).toNumber():"-")}else o="-",i="-";var m=t.liquidityRate.dividedBy("1e27").multipliedBy(100).toNumber(),p=a?"Ethereum":e.name,h=a?"ETH":e.symbol.toUpperCase();return{token:e,symbol:r,tokenSymbol:h,tokenName:p,displayBalance:o,displayDepositBalance:i,apy:m,balance:n,tokB:l,isEthToken:a,tokenD:t}}));return Object(_t.d)(t,Z)}),[at,Z]),dt=function(){g(!1)},ft=function(){var t=Object(f.a)(d.a.mark((function t(e,n,r,a,c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N(!0),t.prev=1,!c){t.next=7;break}return t.next=5,rt(Object(J.k)(e,n,r,a,H.c.Aave,it,lt,st));case 5:t.next=9;break;case 7:return t.next=9,rt(Object(J.m)(e,n,r,a));case 9:return t.prev=9,N(!1),dt(),t.finish(9);case 13:case"end":return t.stop()}}),t,null,[[1,,9,13]])})));return function(e,n,r,a,c){return t.apply(this,arguments)}}(),jt=Object(U.a)().getWethToken(),mt=lt?lt.balance.plus(it):new j.BigNumber(0),pt=[{dataField:"tokenName",text:et("token"),formatter:function(t,e,n){var a=new _.k(1,e.token.address,e.token.decimals,e.token.symbol,e.token.name);return Object(r.jsxs)("div",{className:"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4",children:[Object(r.jsx)(Kt,{children:Object(r.jsx)($.a,{currency:a})}),Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0",children:[Object(r.jsx)(Jt,{children:e.tokenSymbol}),Object(r.jsx)($t,{children:e.tokenName})]})]},n)},sort:!0},{dataField:"displayBalance",text:et("borrow.balance"),formatter:function(t,e,n){return Object(r.jsx)(Qt,{children:"number"===typeof e.displayBalance?"".concat(e.displayBalance," ").concat(e.tokenSymbol):e.displayBalance})},sort:!0},{dataField:"displayDepositBalance",text:et("borrow.depositBalance"),formatter:function(t,e,n){return Object(r.jsx)(Qt,{children:"number"===typeof e.displayDepositBalance?"".concat(e.displayDepositBalance," ").concat(e.tokenSymbol):e.displayDepositBalance})},sort:!0},{dataField:"apy",text:"APY",formatter:function(t,e,n){return Object(r.jsxs)(Qt,{children:[e.apy.toFixed(6)," %"]})},sort:!0},{dataField:"actions",text:et("table.actions"),formatter:function(t,e,n,a){var c=a.openLendingModal,o=a.openUnLendingModal,i=e.balance,s=e.tokB,l=e.tokenD,u=e.isEthToken,b=e.token;return Object(r.jsxs)("div",{className:"d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100",children:[Object(r.jsx)(Q.StyledLink,{children:Object(r.jsx)(Q.TradeButton,{onClick:c.bind(Pt,l,u,s,b),disabled:s.isEqualTo(0),children:et("deposit")})}),Object(r.jsx)(Q.StyledLink,{children:Object(r.jsx)(Q.TradeButton,{variant:"warning",onClick:o.bind(Pt,l,u,s,b),disabled:i&&i.isEqualTo(0),children:et("withdraw")})})]})},isAction:!0,formatExtraData:{openLendingModal:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],o=e[2],i=e[3];L(r),g(!0),a?(c(!0),K(Object(W.a)(Object(W.a)({},lt),{},{balance:o}))):(c(!1),K(ot.find((function(t){return t.token===i})))),R(!0)},openUnLendingModal:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],o=e[2],i=e[3];L(r),a?(c(!0),K(Object(W.a)(Object(W.a)({},lt),{},{balance:o}))):(c(!1),K(ot.find((function(t){return t.token===i})))),g(!0),R(!1)}}}];return Object(r.jsxs)("div",{className:"d-flex flex-column",children:[Object(r.jsx)(y.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table",bootstrap4:!0,remote:!0,keyField:"id",data:bt,columns:pt,onTableChange:function(t,e){"sort"===t&&tt({field:e.sortField,order:e.sortOrder})}}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:pt,data:bt,direction:"rtl"}),w&&M&&Object(r.jsx)(qt,{show:w,tokenBalance:V,isSubmitting:S,onSubmit:ft,aToken:M,closeModal:dt,ethBalance:mt,isEth:a,wethToken:jt,isLending:A})]})})),Xt=n(454);function Zt(){var t=Object(a.a)(["\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n"]);return Zt=function(){return t},t}function te(){var t=Object(a.a)(["\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n"]);return te=function(){return t},t}function ee(){var t=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ",";\n\tfont-size: 1rem;\n\tfont-weight: 500;\n"]);return ee=function(){return t},t}function ne(){var t=Object(a.a)(["\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n"]);return ne=function(){return t},t}var re=T.default.h4(ne()),ae=T.default.div(ee(),(function(t){return t.theme.text3})),ce=Object(T.default)(St.h.black)(te()),oe=T.default.button(Zt()),ie=function(t){var e=t.tokenBalance,n=t.closeModal,a=t.ethBalance,i=t.isEth,s=t.wethToken,l=t.aToken,u=t.availableForBorrow,b=t.show,d=(Object(Y.a)(t,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","availableForBorrow","show"]),Object(x.useState)({btnMsg:null,cardMsg:null})),f=Object(q.a)(d,2),m=f[0],p=f[1],h=Object(x.useState)(new j.BigNumber(0)),O=Object(q.a)(h,2),v=O[0],w=O[1],g=Object(E.a)().t,k=Object(Xt.a)();Object(x.useEffect)((function(){a.isLessThan(rt.mb.gasTransferToken)&&(Nt.c.error(g("errors.notEnoughGas")),p({btnMsg:"Error",cardMsg:g("errors.notEnoughGas")}))}),[a]);var y,B,T,S=l.variableBorrowRate,N=e.token,D=u;if(i)T=s.displayDecimals,B=18,y=Object(I.d)("ETH");else{if(!e)return null;T=N.displayDecimals,B=N.decimals,D=u,y=Object(I.d)(N.symbol)}var F=Object(I.b)(D,B,T),M=m&&m.btnMsg?"Error":"Borrow "+y,L=null===v||v&&v.isGreaterThan(D);return Object(r.jsx)(nt.a,{show:b,onHide:n,centered:!0,children:Object(r.jsx)(nt.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(re,{children:[g("borrow.title")," ",y]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(Tt,{decimals:B,min:0,max:D,onUserInput:function(t){w(t)},value:v,token:N,selected:y,showBalance:!1,label:g("wantToBorrow"),placeholder:new j.BigNumber(1).div(new j.BigNumber(10).pow(T)).toString(),valueFixedDecimals:T})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(Et.a,{children:[Object(r.jsxs)(ae,{children:[Object(r.jsx)(at.c,{children:Object(r.jsx)(ce,{fontWeight:500,color:k.text1,children:g("borrow.borrowRate")})}),Object(r.jsx)(at.c,{children:Object(r.jsxs)(ce,{color:k.text1,fontWeight:500,children:[S.div("1e27").multipliedBy(100).toFixed(5)," %"]})})]}),Object(r.jsxs)(ae,{children:[Object(r.jsx)(at.c,{children:Object(r.jsx)(ce,{fontWeight:500,color:k.text1,children:g("borrow.available")})}),Object(r.jsx)(at.c,{children:Object(r.jsx)(ce,{color:k.text1,fontWeight:500,children:F})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(oe,{className:"btn btn-".concat(m&&m.btnMsg?"danger":"primary"),disabled:L,onClick:function(){var n;if(i)n=Object(W.a)(Object(W.a)({},s),{},{symbol:"ETH"});else{if(!e)return null;n=e.token}t.onSubmit(v,n,l,i)},children:M})})]})})})};function se(){var t=Object(a.a)(["\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n"]);return se=function(){return t},t}function le(){var t=Object(a.a)(["\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n"]);return le=function(){return t},t}function ue(){var t=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ",";\n\tfont-size: 1rem;\n\tfont-weight: 500;\n"]);return ue=function(){return t},t}function be(){var t=Object(a.a)(["\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n"]);return be=function(){return t},t}var de=T.default.h4(be()),fe=T.default.div(ue(),(function(t){return t.theme.text3})),je=Object(T.default)(St.h.black)(le()),me=T.default.button(se()),pe=function(t){var e,n=t.tokenBalance,a=t.closeModal,i=t.ethBalance,s=t.isEth,l=t.wethToken,u=t.aToken,b=t.borrowedBalance,d=t.show,f=(Object(Y.a)(t,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","borrowedBalance","show"]),Object(x.useState)({btnMsg:null,cardMsg:null})),p=Object(q.a)(f,2),h=p[0],O=p[1],v=Object(x.useState)(null),w=Object(q.a)(v,2),g=w[0],k=w[1],y=Object(x.useState)(!1),B=Object(q.a)(y,2),T=(B[0],B[1]),S=(Object(m.d)(),Object(E.a)().t),N=Object(Xt.a)();Object(x.useEffect)((function(){i.isLessThan(rt.mb.gasTransferToken)&&(Nt.c.error(S("errors.notEnoughGas")),O({btnMsg:"Error",cardMsg:S("errors.notEnoughGas")})),T(s?i.isLessThanOrEqualTo(b):n.balance.isLessThanOrEqualTo(b))}),[i,n]);var D,F,M,L=new j.BigNumber(0),z=new j.BigNumber(0),C=n.token;if(s)F=l.displayDecimals,D=18,L=b||new j.BigNumber(0),e=Object(I.d)("ETH"),z=i,M=L.minus(i);else{if(!n)return null;F=C.displayDecimals,D=C.decimals,L=b||new j.BigNumber(0),e=Object(I.d)(C.symbol),M=L.minus(n.balance),z=n.balance}var A=Object(I.b)(L,D,F),R=Object(I.b)(z,D,F),H=(Object(I.b)(M,D,F+1),h&&h.btnMsg?"Error":"Repay "+e),_=null===g||g&&g.isGreaterThan(L)||g&&g.isEqualTo(0);return Object(r.jsx)(nt.a,{show:d,onHide:a,centered:!0,children:Object(r.jsx)(nt.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(de,{children:[S("repay")," ",e]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(Tt,{decimals:D,min:0,max:L,onUserInput:function(t){k(t)},value:g,token:C,selected:e,showBalance:!1,label:S("wantToRepay"),placeholder:new j.BigNumber(1).div(new j.BigNumber(10).pow(F)).toString(),valueFixedDecimals:F})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(Et.a,{children:[Object(r.jsxs)(fe,{children:[Object(r.jsx)(at.c,{children:Object(r.jsx)(je,{fontWeight:500,color:N.text1,children:S("borrow.amountBorrowed")})}),Object(r.jsx)(at.c,{children:Object(r.jsx)(je,{color:N.text1,fontWeight:500,children:A})})]}),Object(r.jsxs)(fe,{children:[Object(r.jsx)(at.c,{children:Object(r.jsx)(je,{fontWeight:500,color:N.text1,children:S("borrow.amountAvailable")})}),Object(r.jsx)(at.c,{children:Object(r.jsx)(je,{color:N.text1,fontWeight:500,children:R})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(me,{className:"btn btn-".concat(h&&h.btnMsg?"danger":"primary"),disabled:_,onClick:function(){var e;if(s)e=Object(W.a)(Object(W.a)({},l),{},{symbol:"ETH"});else{if(!n)return null;e=n.token}var r=g||new j.BigNumber(0);t.onSubmit(r,e,u,s)},children:H})})]})})})},he=void 0;function Oe(){var t=Object(a.a)(["\n\tfont-weight: 500;\n\tfont-size: 0.875rem;\n\tcolor: ",";\n\n\t&.font-size-base {\n\t\tfont-size: 1rem;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 700;\n\n\t\t&.label {\n\t\t\tfont-weight: 500;\n\t\t}\n\t}\n"]);return Oe=function(){return t},t}function xe(){var t=Object(a.a)(["\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n\tcolor: ",";\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 400;\n\t}\n"]);return xe=function(){return t},t}function ve(){var t=Object(a.a)(["\n\tcolor: ",";\n\tfont-size: 1rem;\n\tmargin-right: 10px;\n\tfont-weight: 500;\n"]);return ve=function(){return t},t}function we(){var t=Object(a.a)(["\n\twidth: 32px;\n\theight: 32px;\n\tborder-radius: 32px;\n\tbackground-color: ",";\n\n\t@media (max-width: 991px) {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder-radius: 24px;\n\t}\n"]);return we=function(){return t},t}var ge=T.default.div(we(),(function(t){return t.theme.text1})),ke=T.default.span(ve(),(function(t){return t.theme.text1})),ye=T.default.span(xe(),(function(t){return t.theme.text1})),Be=T.default.span(Oe(),(function(t){return t.theme.text1})),Te=K((function(t){var e=Object(x.useState)(!1),n=Object(q.a)(e,2),a=n[0],c=n[1],o=Object(x.useState)(!1),i=Object(q.a)(o,2),s=i[0],l=(i[1],Object(x.useState)(!1)),u=Object(q.a)(l,2),b=u[0],O=(u[1],Object(E.a)().t),v=Object(x.useState)(!1),w=Object(q.a)(v,2),g=w[0],k=w[1],T=Object(x.useState)(!1),S=Object(q.a)(T,2),N=S[0],D=S[1],F=Object(x.useState)(!1),M=Object(q.a)(F,2),L=M[0],z=M[1],C=Object(x.useState)(),A=Object(q.a)(C,2),R=A[0],P=A[1],G=Object(x.useState)(!0),V=Object(q.a)(G,2),K=V[0],Y=V[1],X=Object(x.useState)(),Z=Object(q.a)(X,2),tt=Z[0],et=Z[1],nt=Object(x.useState)(new j.BigNumber(0)),rt=Object(q.a)(nt,2),at=rt[0],ct=rt[1],ot=Object(x.useState)(new j.BigNumber(0)),it=Object(q.a)(ot,2),st=it[0],lt=it[1],ut=Object(x.useState)({field:!1,order:"desc"}),bt=Object(q.a)(ut,2),dt=bt[0],ft=bt[1],jt=Object(p.a)().account,mt=Object(m.e)(h.d),pt=Object(m.e)(h.e),ht=Object(m.d)(),Ot=Object(m.e)(h.a),xt=Object(m.e)(h.u),vt=t.tokensBalance,wt=t.ethBalance,gt=t.totalEthBalance,kt=t.wethBalance,yt=(Object(m.e)(h.c),Object(m.e)(h.b)),Bt=Object(x.useMemo)((function(){var t=Ot.map((function(t){var e=t.token,n=t.balance,r=t.borrowBalance,a=e.symbol,c=mt.find((function(e){return e.aToken.id===t.address})),o=Object(U.d)(e),i=vt.find((function(t){return t.token.symbol===a}));if(s&&r&&r.isEqualTo(0))return null;if(b&&!e.isStableCoin)return null;var l,u,d=o?gt||new j.BigNumber(0):i&&i.balance||new j.BigNumber(0),f=new j.BigNumber(0),m=new j.BigNumber(0);if(jt&&r&&c&&pt){var p=c.price.priceInEth,h=pt.availableBorrowsETH;f=pt.availableBorrowsETH,m=h.dividedBy(new j.BigNumber(p).div(new j.BigNumber(10).pow(e.decimals))).integerValue(j.BigNumber.ROUND_DOWN);var O=Object(I.b)(r,e.decimals,e.displayDecimals),x=Object(I.b)(m,e.decimals,e.displayDecimals),v=xt&&xt.find((function(t){return t.c_id===e.c_id}));"NATIVE"===yt?(l=Number(x),u=Number(O)):(l=v?v.price_usd.multipliedBy(new j.BigNumber(x)).toNumber():"-",u=v?v.price_usd.multipliedBy(new j.BigNumber(O)).toNumber():"-")}else l="-",u="-";var w=t.variableBorrowRate.dividedBy("1e27").multipliedBy(100).toNumber(),g=o?"Ethereum":e.name,k=o?"ETH":e.symbol.toUpperCase();return{token:e,symbol:a,tokenSymbol:k,tokenName:g,displayAvailableForBorrowBalance:l,availableBalanceForBorrowToken:m,displayBorrowedBalance:u,availableForBorrow:f,borrowBalance:r,apy:w,balance:n,tokB:d,isEthToken:o,tokenD:t}}));return Object(_t.d)(t,dt)}),[Ot,dt]),Tt=function(){k(!1)},Et=function(){D(!1)},St=function(){var t=Object(f.a)(d.a.mark((function t(e,n,r,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(z(!0),t.prev=1,!K){t.next=7;break}return t.next=5,ht(Object(J.j)(e,n,r,a,H.c.Aave,wt,kt,gt));case 5:t.next=9;break;case 7:return t.next=9,ht(Object(J.l)(e,n,r,a,H.c.Aave,wt,kt,gt));case 9:return t.prev=9,z(!1),K?Tt():Et(),t.finish(9);case 13:case"end":return t.stop()}}),t,null,[[1,,9,13]])})));return function(e,n,r,a){return t.apply(this,arguments)}}(),Nt=Object(U.a)().getWethToken(),Dt=kt?kt.balance.plus(wt):new j.BigNumber(0),Ft=[{dataField:"tokenName",text:O("token"),formatter:function(t,e,n){var a=new _.k(1,e.token.address,e.token.decimals,e.token.symbol,e.token.name);return Object(r.jsxs)("div",{className:"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4",children:[Object(r.jsx)(ge,{children:Object(r.jsx)($.a,{currency:a})}),Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0",children:[Object(r.jsx)(ke,{className:"font-weight-bold",children:e.tokenSymbol}),Object(r.jsx)(ye,{className:"font-weight-bold",children:e.tokenName})]})]},n)},sort:!0},{dataField:"displayAvailableForBorrowBalance",text:O("borrow.available"),formatter:function(t,e,n){return Object(r.jsx)(Be,{children:"number"===typeof e.displayAvailableForBorrowBalance?"".concat(e.displayAvailableForBorrowBalance," ").concat(e.tokenSymbol):e.displayAvailableForBorrowBalance})},sort:!0},{dataField:"displayBorrowedBalance",text:O("borrow.borrowBalance"),formatter:function(t,e,n){return Object(r.jsx)(Be,{children:"number"===typeof e.displayBorrowedBalance?"".concat(e.displayBorrowedBalance," ").concat(e.tokenSymbol):e.displayBorrowedBalance})},sort:!0},{dataField:"apy",text:O("borrow.borrowRate"),formatter:function(t,e,n){return Object(r.jsxs)(Be,{children:[e.apy.toFixed(6)," %"]})},sort:!0},{dataField:"actions",text:O("table.actions"),formatter:function(t,e,n,a){var c=a.openBorrowModal,o=a.openRepayModal,i=e.tokB,s=e.tokenD,l=e.isEthToken,u=e.token,b=e.borrowBalance,d=e.availableBalanceForBorrowToken,f=e.availableForBorrow;return Object(r.jsxs)("div",{className:"d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100",children:[Object(r.jsx)(Q.StyledLink,{children:Object(r.jsx)(Q.TradeButton,{onClick:c.bind(he,s,l,i,u,d),disabled:f.isEqualTo(0)||!jt,children:O("borrow.title")})}),Object(r.jsx)(Q.StyledLink,{children:Object(r.jsx)(Q.TradeButton,{variant:"warning",onClick:o.bind(he,s,l,i,u,b),disabled:b&&b.isEqualTo(0)||!jt,children:O("repay")})})]})},isAction:!0,formatExtraData:{openBorrowModal:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4];P(r),k(!0),a?(c(!0),et(Object(W.a)(Object(W.a)({},kt),{},{balance:o}))):(c(!1),et(vt.find((function(t){return t.token===i})))),ct(s),Y(!0)},openRepayModal:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4];P(r),a?(c(!0),et(Object(W.a)(Object(W.a)({},kt),{},{balance:o}))):(c(!1),et(vt.find((function(t){return t.token===i})))),lt(s||new j.BigNumber(0)),D(!0),Y(!1)}}}],Mt=Object(r.jsxs)(r.Fragment,{children:[g&&R&&Object(r.jsx)(ie,{show:g,tokenBalance:tt,isSubmitting:L,availableForBorrow:at,onSubmit:St,aToken:R,closeModal:Tt,ethBalance:Dt,isEth:a,wethToken:Nt}),N&&R&&Object(r.jsx)(pe,{show:N,tokenBalance:tt,isSubmitting:L,onSubmit:St,borrowedBalance:st,aToken:R,closeModal:Et,ethBalance:Dt,isEth:a,wethToken:Nt})]});return Object(r.jsxs)("div",{className:"d-flex flex-column",children:[Object(r.jsx)(y.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table",bootstrap4:!0,remote:!0,keyField:"id",data:Bt,columns:Ft,onTableChange:function(t,e){"sort"===t&&ft({field:e.sortField,order:e.sortOrder})}}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:Ft,data:Bt,direction:"rtl"}),Mt]})}));function Ee(){var t=Object(a.a)(["\n\tborder-radius: 18px !important;\n\tcolor: ",";\n\tbackground-color: rgba(135, 220, 225, 0.15);\n\twhite-space: nowrap;\n\tpadding: 14px 24px;\n\tmin-height: 56px;\n\tfont-weight: 500;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (max-width: 767px) {\n\t\tpadding: 6px 15px;\n\t\tfont-size: 1rem;\n\t\tmin-height: 32px;\n\t\tborder-radius: 12px !important;\n\t}\n\n\t&:hover {\n\t\tcolor: ",";\n\t}\n\n\t&.active {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t}\n"]);return Ee=function(){return t},t}function Se(){var t=Object(a.a)(["\n\tflex-grow: initial !important;\n\n\tpadding: 0 10px 10px;\n\n\t@media (max-width: 767px) {\n\t\tpadding: 0 5px 10px;\n\t}\n\n\t&:first-child {\n\t\t@media (max-width: 767px) {\n\t\t\tpadding-left: 30px;\n\t\t}\n\t}\n\t&:last-child {\n\t\t@media (max-width: 767px) {\n\t\t\tpadding-right: 30px;\n\t\t}\n\t}\n"]);return Se=function(){return t},t}function Ne(){var t=Object(a.a)(["\n\tmargin-left: -30px !important;\n\tmargin-right: -30px !important;\n\toverflow: auto;\n\n\t@media (min-width: 768px) {\n\t\tmargin-left: -10px !important;\n\t\tmargin-right: -10px !important;\n\t}\n"]);return Ne=function(){return t},t}function De(){var t=Object(a.a)(["\n\tmargin: -10px 0 20px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 25px;\n\t}\n"]);return De=function(){return t},t}var Fe,Me,Le=Object(T.default)(o.a)(De()),ze=Object(T.default)(L.a)(Ne()),Ce=Object(T.default)(L.a.Item)(Se()),Ae=Object(T.default)(L.a.Link)(Ee(),(function(t){return t.theme.primary}),(function(t){return t.theme.primary}),(function(t){return t.theme.text1}),(function(t){return t.theme.primary})),Re=function(t){var e=Object(p.a)().account,n=Object(i.useQuery)(R,{client:Object(s.b)(),pollInterval:1e3}),a=n.loading,l=n.error,u=n.data,b=Object(m.d)(),j=Object(m.e)(h.c),v=Object(E.a)().t;return Object(x.useEffect)((function(){a||l||!u||(b(Object(O.k)(u.reserves)),j===H.b.NotLoaded?b(Object(O.c)(e)):b(Object(O.b)(e)))}),[a,u,e]),Object(w.a)(Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&u&&!a&&!l&&b(Object(O.b)(e));case 1:case"end":return t.stop()}}),t)}))),6e4),Object(r.jsx)(g.a,{children:Object(r.jsx)(z.a.Container,{defaultActiveKey:"deposit",children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(Le,{xs:12,className:"d-flex flex-column-reverse flex-lg-row align-items-stretch align-items-lg-start justify-content-start justify-content-lg-between",children:Object(r.jsxs)(ze,{fill:!0,variant:"pills",className:"d-flex flex-row align-items-center flex-nowrap",children:[Object(r.jsx)(Ce,{children:Object(r.jsx)(Ae,{eventKey:"deposit",children:v("deposit")})}),Object(r.jsx)(Ce,{children:Object(r.jsx)(Ae,{eventKey:"borrow",children:v("borrow.title")})})]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(z.a.Content,{className:"bg-transparent",children:[Object(r.jsx)(z.a.Pane,{eventKey:"deposit",children:Object(r.jsx)(Yt,{})}),Object(r.jsx)(z.a.Pane,{eventKey:"borrow",children:Object(r.jsx)(Te,{})})]})})]})})})},He=(n(4455),n(103)),We=n.n(He),qe=n(112),_e=n(3043),Pe=n(162),Ie=n(401),Ue=function(t){var e=Object(x.useState)(!1),n=Object(q.a)(e,2),a=n[0],c=n[1],o=Object(p.a)(),i=o.account,s=(o.library,Object(m.e)(h.t)),l=s.address,u=s.token,b=t.web3,j=Object(m.d)(),O=function(){var e=Object(f.a)(d.a.mark((function e(){var n,r,a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Pe.a)(b.getProvider());case 3:return n=e.sent,r=l||n.contractAddresses.erc20Proxy,a=new Ie.ERC20TokenContract(u.address,n.getProvider()),o=rt.sb,e.next=9,a.approve(r,o).sendTransactionAsync({from:i});case 9:return s=e.sent,c(!0),e.next=13,b.awaitTransactionSuccessAsync(s);case 13:s&&(c(!1),j(Object(J.n)())),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),c(!1),t.onDismiss();case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){O()}),[s]),Object(r.jsx)(_e.b,{onDismiss:a?function(){return null}:t.onDismiss,pendingText:a?"Unlocking":"Waiting for confirmation"})},Ge=(n(381),n(1195),K((function(t){var e=Object(x.useState)(!1),n=Object(q.a)(e,2),a=n[0],c=n[1],o=Object(p.a)().account,i=Object(m.e)(h.t),s=t.wethBalance,l=i.currentWethBalance,u=i.newWethBalance,b=t.web3,j=Object(m.d)(),O=u.minus(l).isGreaterThan(0)?"ETH":"wETH",v=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(Object(J.o)(s,u,o,b.getProvider()));case 3:return n=e.sent,c(!0),e.next=7,b.awaitTransactionSuccessAsync(n);case 7:e.sent&&(c(!1),j(Object(J.n)())),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),c(!1),t.onDismiss();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){v()}),[i]),Object(r.jsx)(_e.b,{onDismiss:a?function(){return null}:t.onDismiss,pendingText:a?"Wrapping...":"Convert ".concat(O)})}))),Ve=Object(m.b)((function(t){return{step:Object(h.t)(t),gasInfo:Object(h.l)(t)}}),(function(t){return{onSubmitLendingToken:function(e,n,r,a,c){return t(function(t,e,n,r,a){return function(){var c=Object(f.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(h.h)(s),c.t0=l,c.next=c.t0===H.c.Aave?5:7;break;case 5:return u=o(Object(O.e)(t,e,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()}(e,n,r,a,c))},onSubmitUnLendingToken:function(e,n,r,a,c){return t(function(t,e,n,r,a){return function(){var c=Object(f.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(h.h)(s),c.t0=l,c.next=c.t0===H.c.Aave?5:7;break;case 5:return u=o(Object(O.m)(t,e,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()}(e,n,r,a,c))}}}))((function(t){var e=Object(x.useState)(!1),n=Object(q.a)(e,2),a=n[0],c=n[1],o=Object(p.a)().account,i=t.step,s=t.onSubmitLendingToken,l=t.onSubmitUnLendingToken,u=i.amount,b=i.token,j=i.isEth,m=i.defiToken,h=i.isLending,O=j?Object(I.d)("ETH"):Object(I.d)(b.symbol),v=j?18:i.token.decimals,w="".concat(Object(I.b)(i.amount,v,i.token.displayDecimals).toString()," ").concat(O),g=t.web3,k=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=7;break}return e.next=4,s(b,m,u,j,o);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,l(b,m,u,j,o);case 9:e.t0=e.sent;case 10:return n=e.t0,c(!0),e.next=14,g.awaitTransactionSuccessAsync(n);case 14:e.sent&&(c(!1),t.onDone(n)),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(0),c(!1),t.onDismiss();case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){k()}),[i]),Object(r.jsx)(_e.b,{onDismiss:a?function(){return null}:t.onDismiss,pendingText:a?"Pending Transaction...":"Confirm on ".concat(o," to ").concat(h?"deposit":"withdraw"," ").concat(w,".")})})),Ke=Object(m.b)((function(t){return{step:Object(h.t)(t),gasInfo:Object(h.l)(t)}}),(function(t){return{onSubmitBorrowToken:function(e,n,r,a,c){return t(function(t,e,n,r,a){return function(){var c=Object(f.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(h.h)(s),c.t0=l,c.next=c.t0===H.c.Aave?5:7;break;case 5:return u=o(Object(O.a)(t,e,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()}(e,n,r,a,c))},onSubmitRepayToken:function(e,n,r,a,c){return t(function(t,e,n,r,a){return function(){var c=Object(f.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(h.h)(s),c.t0=l,c.next=c.t0===H.c.Aave?5:7;break;case 5:return u=o(Object(O.f)(t,e,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()}(e,n,r,a,c))}}}))((function(t){var e=Object(x.useState)(!1),n=Object(q.a)(e,2),a=n[0],c=n[1],o=Object(p.a)().account,i=t.step,s=t.onSubmitBorrowToken,l=t.onSubmitRepayToken,u=i.amount,b=i.token,j=i.isEth,m=i.defiToken,h=i.isBorrow,O=j?Object(I.d)("ETH"):Object(I.d)(b.symbol),v=j?18:i.token.decimals,w="".concat(Object(I.b)(i.amount,v,i.token.displayDecimals).toString()," ").concat(O),g=t.web3,k=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=7;break}return e.next=4,s(b,m,u,j,o);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,l(b,m,u,j,o);case 9:e.t0=e.sent;case 10:return n=e.t0,c(!0),e.next=14,g.awaitTransactionSuccessAsync(n);case 14:e.sent&&(c(!1),t.onDone(n)),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(0),c(!1),t.onDismiss();case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){k()}),[i]),Object(r.jsx)(_e.b,{onDismiss:a?function(){return null}:t.onDismiss,pendingText:a?"Pending Transaction...":"Confirm on ".concat(o," to ").concat(h?"Borrow":"Repay"," ").concat(w,".")})})),Je=function(t){var e=Object(x.useState)(!1),n=Object(q.a)(e,2),a=n[0],c=n[1],o=Object(x.useState)(null),i=Object(q.a)(o,2),s=i[0],l=i[1],u=Object(m.e)(h.t),b=Object(m.d)(),d=null!==u;Object(x.useEffect)((function(){(Fe=new We.a(We.a.givenProvider||new We.a.providers.HttpProvider("https://mainnet.infura.io/v3/18f4df06d1f24e8c84a361712757187d"))).currentProvider&&(Me=new qe.Web3Wrapper(Fe.currentProvider))}),[]);var f=function(){c(!1),l(null),b(Object(J.g)(null))},j=function(t){c(!0),l(t)};return Object(r.jsxs)(r.Fragment,{children:[t.children,Object(r.jsx)(nt.a,{show:d,centered:!0,onHide:f,children:Object(r.jsx)(nt.a.Body,{className:"px-0 py-0",children:a?Object(r.jsx)(_e.d,{chainId:rt.k,hash:s,onDismiss:f}):Object(r.jsxs)(r.Fragment,{children:[u&&u.kind===rt.kb.ToggleTokenLock&&Object(r.jsx)(Ue,{onDismiss:f,web3:Me}),u&&u.kind===rt.kb.WrapEth&&Object(r.jsx)(Ge,{onDismiss:f,web3:Me}),u&&u.kind===rt.kb.LendingToken&&Object(r.jsx)(Ve,{onDismiss:f,onDone:j,web3:Me}),u&&u.kind===rt.kb.UnLendingToken&&Object(r.jsx)(Ve,{onDismiss:f,onDone:j,web3:Me}),u&&u.kind===rt.kb.RepayToken&&Object(r.jsx)(Ke,{onDismiss:f,onDone:j,web3:Me}),u&&u.kind===rt.kb.BorrowToken&&Object(r.jsx)(Ke,{onDismiss:f,onDone:j,web3:Me})]})})})]})};function $e(){var t=Object(a.a)(["\n\tmargin-top: 40px;\n\n\t@media (max-width: 767px) {\n\t\tmargin-top: 20px;\n\t}\n"]);return $e=function(){return t},t}var Qe=Object(T.default)(c.a)($e());e.default=function(t){return Object(r.jsx)(u.a,{children:Object(r.jsxs)(l,{children:[Object(r.jsx)(Je,{}),Object(r.jsxs)(Qe,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(M,{})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(Re,{})})]})]})})}}}]);
//# sourceMappingURL=38.48f7d8a2.chunk.js.map