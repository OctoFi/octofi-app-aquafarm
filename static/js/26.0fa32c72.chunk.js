(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[26],{2874:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(8),a=n(1),c=n(97),o=n(19),i=n(0),s=n.n(i),l=n(20),u=n(60);function b(){var e=Object(o.a)(["\n  color: ",";\n  width: 0;\n  position: relative;\n  font-weight: 500;\n  font-family: inherit;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: ",";\n  font-size: 1rem;\n  text-align: ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: ",";\n  border-bottom-right-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-left-radius: ",";\n  border-top-left-radius: ",";\n  padding-right: 0.625rem;\n  padding-left: ",";\n  -webkit-appearance: textfield;\n  border-left: ",";\n  \n  @media (min-width: 768px) {\n    \n    padding-right: 4.5625rem;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ",";\n  }\n"]);return b=function(){return e},e}var d=l.default.input(b(),(function(e){var t=e.error,n=e.theme;return t?n.red1:n.text1}),(function(e){return e.theme.bg3}),(function(e){var t=e.align;return t&&t}),(function(e){return"sm"===e.size?"48px":"56px"}),(function(e){return e.reverse?"0":"1.125rem"}),(function(e){return e.reverse?"0":"1.125rem"}),(function(e){return e.reverse?"1.125rem":"0"}),(function(e){return e.reverse?"1.125rem":"0"}),(function(e){var t=e.noBorder;return e.reverse?"1.375rem":t?"0.625rem":"1.5rem"}),(function(e){var t=e.theme;return e.noBorder?"none":"3px solid ".concat(t.modalBG)}),(function(e){return e.theme.text3})),j=RegExp("^\\d*(?:\\\\[.])?\\d*$"),f=s.a.memo((function(e){var t=e.value,n=e.onUserInput,o=e.placeholder,i=e.size,s=Object(c.a)(e,["value","onUserInput","placeholder","size"]);return Object(a.jsx)(d,Object(r.a)(Object(r.a)({},s),{},{value:t,onChange:function(e){var t;(""===(t=e.target.value.replace(/,/g,"."))||j.test(Object(u.d)(t)))&&n(t)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",size:i,type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:o||"0.0",minLength:1,maxLength:79,spellCheck:"false"}))}))},2923:function(e,t,n){"use strict";var r=n(8),a=n(1),c=n(58),o=n(2),i=n.n(o),s=n(24),l=n(41),u=n(0),b=n(66),d=n(40),j=n(46),f=n(51),m=n(44),h=n(261),p=n(36),O=function(){var e=Object(d.a)(),t=e.account,n=e.library,r=Object(j.e)(f.f),a=Object(j.e)(f.E),o=Object(u.useMemo)((function(){return Object(m.a)()}),[]),O=Object(u.useMemo)((function(){return o.getTokens()}),[]),x=Object(u.useMemo)((function(){return o.getWethToken()}),[]),v=function(e,t,n){var r=Object(u.useState)([]),a=Object(l.a)(r,2),c=a[0],o=a[1],d=function(){var r=Object(s.a)(i.a.mark((function r(){var a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=5;break}return r.next=3,Object(b.f)(e,t,n);case 3:a=r.sent,o(a);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(u.useEffect)((function(){d()}),[t,e]),Object(u.useMemo)((function(){return c.length>0?c:[]}),[t,c,e])}(Object(u.useMemo)((function(){return[].concat(Object(c.a)(O),[x])}),[x,O]),t,window.ethereum||n),w=Object(h.d)([t]),g=Object(u.useMemo)((function(){return v.find((function(e){return e.token.symbol===x.symbol}))}),[v]),k=Object(u.useMemo)((function(){return v.filter((function(e){return e.token.symbol!==x.symbol}))}),[v]),y=Object(u.useMemo)((function(){var e=w[t]?w[t].toExact():null,n=new p.BigNumber(e*Math.pow(10,18));return{token:w[t]?w[t].currency:void 0,balance:n}}),[w]),B=Object(u.useMemo)((function(){if(g&&y){var e=g.balance;return void 0!==y.token&&(e=y.balance.plus(g.balance)),e}}),[y,g]),T=Object(u.useMemo)((function(){return Object(f.L)({tokenBalances:k,wethTokenBalance:g,tokenToFind:r})}),[r,k,g]),E=Object(u.useMemo)((function(){return Object(f.L)({tokenBalances:k,wethTokenBalance:g,tokenToFind:a})}),[a,k,g]);return Object(u.useMemo)((function(){return{quoteTokenBalance:E,baseTokenBalance:T,totalEthBalance:B,ethBalance:y,wethBalance:g,tokensBalance:k}}),[t,r,a,v,T,E])};t.a=function(e){return function(t){var n=O();return Object(a.jsx)(e,Object(r.a)(Object(r.a)({},t),n))}}},2931:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(263),a=n.n(r),c=n(721),o=n.n(c),i=n(531),s=n.n(i),l=n(0),u=n.n(l),b=n(2828),d=n(232);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var a=r.forwardedRef,c=s()(r,["forwardedRef"]),i=Object(b.a)(e,c),l=o()(i,3),d=l[0],j=l[1],m=l[2],h=f(f({},c),{},{t:d,i18n:j,tReady:m});return t.withRef&&a?h.ref=a:!t.withRef&&a&&(h.forwardedRef=a),u.a.createElement(n,h)}r.displayName="withI18nextTranslation(".concat(Object(d.a)(n),")"),r.WrappedComponent=n;return t.withRef?u.a.forwardRef((function(e,t){return u.a.createElement(r,Object.assign({},e,{forwardedRef:t}))})):r}}},3082:function(e,t,n){"use strict";var r=n(1),a=n(2),c=n.n(a),o=n(24),i=n(41),s=n(2870),l=n(0),u=n(46),b=n(51),d=n(9),j=n(40),f=n(152),m=n(375),h=n(165);t.a=function(e){var t=Object(l.useState)(!1),n=Object(i.a)(t,2),a=n[0],p=n[1],O=Object(j.a)(),x=O.account,v=(O.library,Object(u.e)(b.H)),w=v.address,g=v.token,k=e.web3,y=Object(u.d)(),B=function(){var t=Object(o.a)(c.a.mark((function t(){var n,r,a,o,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.a)(k.getProvider());case 3:return n=t.sent,r=w||n.contractAddresses.erc20Proxy,a=new m.ERC20TokenContract(g.address,n.getProvider()),o=d.rb,t.next=9,a.approve(r,o).sendTransactionAsync({from:x});case 9:return i=t.sent,p(!0),t.next=13,k.awaitTransactionSuccessAsync(i);case 13:i&&(p(!1),y(Object(h.s)())),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),p(!1),e.onDismiss();case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){B()}),[v]),Object(r.jsx)(s.b,{onDismiss:a?function(){return null}:e.onDismiss,pendingText:a?"Unlocking":"Waiting for confirmation"})}},3861:function(e,t,n){},3862:function(e,t,n){},3907:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(19),c=n(2839),o=n(1164),i=n(143),s=n(194),l=function(e){return Object(r.jsx)(i.ApolloProvider,{client:Object(s.b)(),children:e.children})},u=n(711),b=n(2),d=n.n(b),j=n(24),f=n(36),m=n(46),h=(n(3861),n(40)),p=n(51),O=n(280),x=n(0),v=n.n(x),w=n(722),g=n(2846),k=n(713),y=n.n(k),B=n(714),T=n(20),E=n(2828);function S(){var e=Object(a.a)(["\n  color: ",";\n  font-size: 1rem;\n  font-weight: 700;\n"]);return S=function(){return e},e}function N(){var e=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  \n  & .card-body {\n    padding: 24px 20px 20px;\n  }\n  \n  @media (min-width: 1400px) {  \n    & .card-body {\n      padding: 24px;\n    }\n  }\n"]);return N=function(){return e},e}var D=Object(T.default)(g.b)(N()),F=T.default.span(S(),(function(e){var t=e.theme,n=e.variant;return n?t[n]:t.text1})),M=function(e){var t=Object(h.a)().account,n="NATIVE"===Object(m.e)(p.b),a=Object(m.d)(),c=Object(m.e)(p.e),o=Object(m.e)(p.n),i=Object(E.a)().t,l=function(){var e=Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.c)(t);case 2:n=e.sent,a(Object(O.l)(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(x.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,l();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(w.a)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,l();case 3:case"end":return e.stop()}}),e)}))),3e4);var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?n?"".concat(e.dividedBy("1e18").toFixed(3)," ETH"):o?"".concat(e.dividedBy("1e18").multipliedBy(o).toFixed(3)," USD"):"- USD":"-"},b=u(c&&c.totalLiquidity),v=u(c&&c.totalCollateralETH),g=u(c&&c.totalBorrowsETH),k=u(c&&c.availableBorrowsETH),T=c&&"".concat(c.currentLiquidationThreshold.toFixed(0)," %")||"-",S=c&&"".concat(c.ltv.toFixed(0)," %")||"-",N="-";c&&c.totalBorrowsETH.gt(0)&&(N=c&&c.healthFactor.dividedBy("1e18").toFixed(3),new f.BigNumber(N));var M=[{dataField:"total_liquidity",text:i("borrow.totalLiquidity"),formatter:function(e,t,n){return Object(r.jsx)(F,{children:t.totalLiquidity})}},{dataField:"total_collateral",text:i("borrow.totalCollateral"),formatter:function(e,t,n){return Object(r.jsx)(F,{children:t.totalCollateralETH})}},{dataField:"total_borrows",text:i("borrow.totalBorrows"),formatter:function(e,t,n){return Object(r.jsx)(F,{children:t.totalBorrowsETH})}},{dataField:"available",text:i("borrow.available"),formatter:function(e,t,n){return Object(r.jsx)(F,{children:t.availableBorrowsETH})}},{dataField:"liquidation_threshold",text:i("borrow.liquidationThreshold"),formatter:function(e,t,n){return Object(r.jsx)(F,{children:t.currentLiquidationThreshold})}},{dataField:"ltv",text:"LTV",formatter:function(e,t,n){return Object(r.jsx)(F,{children:t.ltv})}},{dataField:"health_factor",text:i("borrow.healthFactor"),formatter:function(e,t,n){return Object(r.jsx)(F,{children:t.healthFactor})}}];return Object(r.jsxs)(D,{children:[Object(r.jsx)(y.a,{wrapperClasses:"d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden global-overall__table mb-0",bootstrap4:!0,keyField:"id",remote:!0,data:[{totalLiquidity:b,totalCollateralETH:v,totalBorrowsETH:g,availableBorrowsETH:k,currentLiquidationThreshold:T,ltv:S,healthFactor:N}],columns:M}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:M,data:[{totalLiquidity:b,totalCollateralETH:v,totalBorrowsETH:g,availableBorrowsETH:k,currentLiquidationThreshold:T,ltv:S,healthFactor:N}],direction:"rtl",withoutBorder:!0})]})},L=n(2843),z=n(3033),C=n(287);function H(){var e=Object(a.a)(["\n    {\n        reserves {\n            id\n            name\n            symbol\n            decimals\n            liquidityRate\n            variableBorrowRate\n            price {\n                priceInEth\n            }\n            stableBorrowRate\n            averageStableBorrowRate\n            aToken {\n                id\n            }\n        }\n    }\n"]);return H=function(){return e},e}var A=n.n(C)()(H()),R=n(209),q=n(8),W=n(41),_=n(13),P=n(2923),I=n(44),U=n(66),G=n(165),V=n(2850),$=n(3231),K=n(97),J=n(16),Q=n(21),Y=n(25),X=n(26),Z=n(373),ee=n(9),te=n(2847),ne=n(2874);n(261);function re(){var e=Object(a.a)(["\n  ",";\n  align-items: center;\n  margin-top: 10px;\n  color: ",";\n  opacity: 0.5;\n  font-size: 0.75rem;\n  font-weight: 400;\n  line-height: 1rem;\n  padding: 0;\n  \n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(a.a)(["\n  align-items: center;\n  height: 56px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  background-color: ",";\n  color: ",";\n  border-bottom-left-radius: 18px;\n  border-top-left-radius: 18px;\n  box-shadow: none;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  border: none;\n  padding: 0.875rem 0.625rem;\n  min-width: 116px;\n  width: 116px;\n  text-align: center;\n  \n  \n  @media (min-width: 768px) {\n  min-width: 116px;\n  width: 116px;\n  padding: .625rem 1rem;\n  font-size: 1rem;\n  font-weight: 700;\n  text-align: left;\n  }\n\n  :focus,\n  :hover {\n    background-color: ",";\n    outline: none;\n  }\n"]);return ae=function(){return e},e}function ce(){var e=Object(a.a)(["\n  font-size:  0.875rem;\n  font-weight: 500;\n  margin-left: 15px;\n  \n  @media (min-width: 768px) {\n    font-size:  1rem;\n    margin-right: auto;\n  }\n\n"]);return ce=function(){return e},e}function oe(){var e=Object(a.a)(["\n  ",";\n  position: relative;\n  border-radius: 0.42rem;\n"]);return oe=function(){return e},e}function ie(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  @media (min-width: 768px) {\n  justify-content: space-between;\n  }\n"]);return ie=function(){return e},e}function se(){var e=Object(a.a)(["\n  ",";\n  align-items: center;\n  color: ",";\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0;\n"]);return se=function(){return e},e}function le(){var e=Object(a.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex: 1;\n  \n"]);return le=function(){return e},e}function ue(){var e=Object(a.a)(["\n  color: ",";\n  font-size: .875rem;\n  font-weight: 400;\n  padding: 0 ;\n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  font-weight: 700;\n  }\n"]);return ue=function(){return e},e}function be(){var e=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 34px;\n  \n  @media (min-width: 768px) {\n    margin-bottom: 36px;\n  }\n"]);return be=function(){return e},e}function de(){var e=Object(a.a)(["\n  ",";\n  align-items: center;\n  \n  padding: 0.625rem 0 0;\n  \n  \n  @media (min-width: 768px) {\n    padding-top: 0.75rem;\n  }\n"]);return de=function(){return e},e}var je=T.default.div(de(),(function(e){return e.theme.flexRowNoWrap})),fe=T.default.div(be()),me=T.default.span(ue(),(function(e){return e.theme.text1})),he=T.default.div(le()),pe=T.default.div(se(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.text1})),Oe=T.default.span(ie()),xe=T.default.div(oe(),(function(e){return e.theme.flexColumnNoWrap})),ve=T.default.span(ce()),we=T.default.button(ae(),(function(e){return e.theme.bg3}),(function(e){return e.theme.text1}),(function(e){return e.theme.bg1})),ge=T.default.div(re(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.text1})),ke=function(e){Object(Y.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(J.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={valueStr:e.props.value?Object(U.c)(e.props.value,e.props.decimals,e.props.valueFixedDecimals):""},e._updateValue=function(t){var n=Object(U.g)(t||"0",e.props.decimals);e.props.min&&n.isLessThan(e.props.min)||(e.props.onUserInput(n),e.setState({valueStr:t}))},e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=void 0===t?"Input":t,a=e.disable,c=void 0!==a&&a,o=e.selected,i=e.hideInput,s=void 0!==i&&i,l=e.id,u=e.showBalance,b=void 0===u||u,d=e.balanceText,j=e.token,f=void 0===j?void 0:j,m=this.state.valueStr,h=f?new _.k(1,f.address,f.decimals,f.symbol,f.name):void 0;return Object(r.jsx)(xe,{id:l,children:Object(r.jsxs)(fe,{children:[!s&&Object(r.jsx)(pe,{children:Object(r.jsx)(te.b,{children:Object(r.jsx)(me,{children:n})})}),Object(r.jsxs)(je,{style:s?{padding:"0",borderRadius:"0.42rem"}:{},selected:c,children:[Object(r.jsx)(we,{selected:!!o,className:"open-currency-select-button",children:Object(r.jsxs)(Oe,{children:[f&&Object(r.jsx)(V.a,{currency:h,size:"24px"}),Object(r.jsx)(ve,{className:"token-symbol-container",active:Boolean(o),children:(o&&(null===o||void 0===o?void 0:o.length)>20?((null===o||void 0===o?void 0:o.slice(0,4))+"..."+(null===o||void 0===o?void 0:o.slice((null===o||void 0===o?void 0:o.length)-5,null===o||void 0===o?void 0:o.length))).toUpperCase():o.toUpperCase())||"Select"})]})}),!s&&Object(r.jsx)(he,{children:Object(r.jsx)(ne.a,{className:"token-amount-input pl-3 ",value:m,onUserInput:this._updateValue})})]}),o&&b&&Object(r.jsx)(ge,{children:d()})]})})}}]),n}(v.a.Component);ke.getDerivedStateFromProps=function(e,t){var n=e.decimals,r=e.value,a=e.valueFixedDecimals,c=t.valueStr;return r?r&&!Object(U.g)(c||"0",n).eq(r)?{valueStr:Object(U.c)(r,n,a)}:null:{valueStr:""}};var ye=n(2849),Be=(n(50),n(200)),Te=n(262),Ee=n(2931);function Se(){var e=Object(a.a)(["\n  height: 56px;\n  min-height: 56px;\n  min-width: 250px;\n"]);return Se=function(){return e},e}function Ne(){var e=Object(a.a)(["\n  font-size: 0.75rem;\n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n"]);return Ne=function(){return e},e}function De(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 0;\n  border-bottom: 1px solid ",";\n  font-size: 1rem;\n  font-weight: 500;\n"]);return De=function(){return e},e}function Fe(){var e=Object(a.a)(["\n  font-size: 1.25rem;\n  font-weight: 500;\n  margin-top: 0;\n  margin-bottom: 2.25rem;\n"]);return Fe=function(){return e},e}var Me=T.default.h4(Fe()),Le=T.default.div(De(),(function(e){return e.theme.text3})),ze=Object(T.default)(Be.h.black)(Ne()),Ce=T.default.button(Se()),He=function(e){Object(Y.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(J.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={amount:null,error:{btnMsg:null,cardMsg:null}},e.componentDidMount=function(){var t=e.props,n=t.ethBalance,r=t.t;n.isLessThan(ee.jb.gasTransferToken)&&(Te.c.error(r("errors.notEnoughGas")),e.setState({error:{btnMsg:"Error",cardMsg:r("errors.notEnoughGas")}}))},e.submit=Object(j.a)(d.a.mark((function t(){var n,r,a,c,o,i,s,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.tokenBalance,a=n.isEth,c=n.wethToken,o=n.aToken,i=n.isLending,!a){t.next=5;break}s=Object(q.a)(Object(q.a)({},c),{},{symbol:"ETH"}),t.next=10;break;case 5:if(!r){t.next=9;break}s=r.token,t.next=10;break;case 9:return t.abrupt("return",null);case 10:l=e.state.amount||new f.BigNumber(0),e.props.onSubmit(l,s,o,a,i);case 12:case"end":return t.stop()}}),t)}))),e._reset=function(){e.setState({amount:null})},e._closeModal=function(){e._reset()},e.setMax=function(){var t=e.props,n=t.tokenBalance,r=t.isEth,a=t.ethBalance,c=t.isLending,o=t.aToken;if(r){var i=c?a:o.balance||new f.BigNumber(0);e.setState({amount:i})}else n&&e.setState({amount:c?n.balance:o.balance||new f.BigNumber(0)})},e.updateAmount=function(t){e.setState({amount:t})},e}return Object(Q.a)(n,[{key:"render",value:function(){var e,t,n,a,i=this.context,s=this.props,l=s.tokenBalance,u=s.closeModal,b=s.ethBalance,d=s.isEth,j=s.wethToken,m=s.aToken,h=s.isLending,p=s.show,O=s.t,x=(Object(K.a)(s,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","isLending","show","t"]),this.state),v=x.error,w=x.amount,g=m.liquidityRate;if(d)a=j.displayDecimals,n=18,t=h?b:m.balance||new f.BigNumber(0),e=Object(U.e)("ETH");else{if(!l)return null;var k=l.token,y=l.balance;a=k.displayDecimals,n=k.decimals,t=h?y:m.balance||new f.BigNumber(0),e=Object(U.e)(k.symbol)}var B=l.token,T=h?"Deposit ":"Withdraw ",E=Object(U.c)(t,n,a),S=v&&v.btnMsg?"Error":T+e,N=null===w||w&&w.isGreaterThan(t);return Object(r.jsx)(Z.a,{show:p,onHide:u,centered:!0,children:Object(r.jsx)(Z.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(Me,{children:[O(h?"Deposit":"withdraw")," ",e]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(ke,{decimals:n,min:0,max:t,onUserInput:this.updateAmount,value:w,token:B,selected:e,showBalance:!1,label:O(h?"wantToDeposit":"wantToWithdraw"),placeholder:new f.BigNumber(1).div(new f.BigNumber(10).pow(a)).toString(),valueFixedDecimals:a})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(ye.a,{children:[Object(r.jsxs)(Le,{children:[Object(r.jsx)(te.c,{children:Object(r.jsx)(ze,{fontWeight:500,color:i.text1,children:O("interestAPR")})}),Object(r.jsx)(te.c,{children:Object(r.jsxs)(ze,{color:i.text1,fontWeight:500,children:[g.div("1e27").multipliedBy(100).toFixed(5)," ","%"]})})]}),Object(r.jsxs)(Le,{children:[Object(r.jsx)(te.c,{children:Object(r.jsx)(ze,{fontWeight:500,color:i.text1,children:O("amount")})}),Object(r.jsx)(te.c,{children:Object(r.jsx)(ze,{color:i.text1,fontWeight:500,children:E})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(Ce,{className:"btn btn-".concat(h?"primary":"warning"),disabled:N,onClick:this.submit,children:S})})]})})})}}]),n}(v.a.Component);He.contextType=T.ThemeContext;var Ae=Object(Ee.a)()(He),Re=n(107),qe=void 0;function We(){var e=Object(a.a)(["\n  font-weight: 500;\n  font-size: .875rem;\n  color: ",";\n  \n  &.font-size-base {\n    font-size: 1rem;\n  }\n  \n  @media (max-width: 991px) {\n    font-weight: 700;\n    \n    &.label {\n    font-weight: 500;\n    }\n  }\n"]);return We=function(){return e},e}function _e(){var e=Object(a.a)(["\n  font-weight: 400;\n  color: ",";\n  font-size: 0.875rem;\n  \n  @media (max-width: 991px) {\n    font-size: 0.875rem;\n    font-weight: 400;\n  }\n"]);return _e=function(){return e},e}function Pe(){var e=Object(a.a)(["\n  color: ",";\n  font-size: 1rem;\n  margin-right: 10px;\n  font-weight: 700;\n"]);return Pe=function(){return e},e}function Ie(){var e=Object(a.a)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 32px;\n  background-color: ",";  \n  \n  @media (max-width: 991px) {\n    width: 24px;\n    height: 24px;\n    border-radius: 24px;\n  }\n"]);return Ie=function(){return e},e}var Ue=T.default.div(Ie(),(function(e){return e.theme.text1})),Ge=T.default.span(Pe(),(function(e){return e.theme.text1})),Ve=T.default.span(_e(),(function(e){return e.theme.text1})),$e=T.default.span(We(),(function(e){return e.theme.text1})),Ke=Object(P.a)((function(e){var t=Object(x.useState)(!1),n=Object(W.a)(t,2),a=n[0],c=n[1],o=Object(x.useState)(!1),i=Object(W.a)(o,2),s=i[0],l=(i[1],Object(x.useState)(!1)),u=Object(W.a)(l,2),b=u[0],O=(u[1],Object(x.useState)(!1)),v=Object(W.a)(O,2),w=v[0],g=v[1],k=Object(x.useState)(!1),T=Object(W.a)(k,2),S=T[0],N=T[1],D=Object(x.useState)(),F=Object(W.a)(D,2),M=F[0],L=F[1],z=Object(x.useState)(!0),C=Object(W.a)(z,2),H=C[0],A=C[1],P=Object(x.useState)(),K=Object(W.a)(P,2),J=K[0],Q=K[1],Y=Object(x.useState)({field:!1,order:"desc"}),X=Object(W.a)(Y,2),Z=X[0],ee=X[1],te=Object(E.a)().t,ne=Object(h.a)().account,re=Object(m.d)(),ae=Object(m.e)(p.a),ce=Object(m.e)(p.I),oe=e.tokensBalance,ie=e.ethBalance,se=e.totalEthBalance,le=e.wethBalance,ue=(Object(m.e)(p.c),Object(m.e)(p.b)),be=Object(x.useMemo)((function(){var e=ae.map((function(e){var t=e.token,n=e.balance,r=t.symbol,a=Object(I.d)(t),c=oe.find((function(e){return e.token.symbol===r}));if(s){if(a&&se.isEqualTo(0)&&n&&n.isEqualTo(0))return null;if(c&&c.balance.isEqualTo(0)&&n&&n.isEqualTo(0))return null}if(b&&!t.isStableCoin)return null;var o,i,l=a?se||new f.BigNumber(0):c&&c.balance||new f.BigNumber(0);if(ne&&n){var u=Object(U.c)(n,t.decimals,t.displayDecimals),d=Object(U.c)(l,t.decimals,t.displayDecimals),j=ce&&ce.find((function(e){return e.c_id===t.c_id}));"NATIVE"===ue?(o="".concat(d," ").concat(Object(U.a)(r)),i="".concat(u," ").concat(Object(U.a)(r))):(o=j?"".concat(j.price_usd.multipliedBy(new f.BigNumber(d)).toFixed(3),"$"):"-",i=j?"".concat(j.price_usd.multipliedBy(new f.BigNumber(u)).toFixed(3),"$"):"-")}else o="-",i="-";var m="".concat(e.liquidityRate.dividedBy("1e27").multipliedBy(100).toFixed(5)," %"),h=a?"Ethereum":t.name,p=a?"ETH":t.symbol.toUpperCase();return{token:t,symbol:r,tokenSymbol:p,tokenName:h,displayBalance:o,displayDepositBalance:i,apy:m,balance:n,tokB:l,isEthToken:a,tokenD:e}}));return Object(Re.d)(e,Z)}),[ae,Z]),de=function(){g(!1)},je=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,a,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(!0),e.prev=1,!c){e.next=7;break}return e.next=5,re(Object(G.o)(t,n,r,a,R.c.Aave,ie,le,se));case 5:e.next=9;break;case 7:return e.next=9,re(Object(G.r)(t,n,r,a));case 9:return e.prev=9,N(!1),de(),e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[1,,9,13]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),fe=Object(I.a)().getWethToken(),me=le?le.balance.plus(ie):new f.BigNumber(0),he=[{dataField:"tokenName",text:te("token"),formatter:function(e,t,n){var a=new _.k(1,t.token.address,t.token.decimals,t.token.symbol,t.token.name);return Object(r.jsxs)("div",{className:"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4",children:[Object(r.jsx)(Ue,{children:Object(r.jsx)(V.a,{currency:a})}),Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0",children:[Object(r.jsx)(Ge,{children:t.tokenSymbol}),Object(r.jsx)(Ve,{children:t.tokenName})]})]},n)},sort:!0},{dataField:"displayBalance",text:te("borrow.balance"),formatter:function(e,t,n){return Object(r.jsx)($e,{children:t.displayBalance})},sort:!0},{dataField:"displayDepositBalance",text:te("borrow.depositBalance"),formatter:function(e,t,n){return Object(r.jsx)($e,{children:t.displayDepositBalance})},sort:!0},{dataField:"apy",text:"APY",formatter:function(e,t,n){return Object(r.jsx)($e,{children:t.apy})},sort:!0},{dataField:"actions",text:te("table.actions"),formatter:function(e,t,n,a){var c=a.openLendingModal,o=a.openUnLendingModal,i=t.balance,s=t.tokB,l=t.tokenD,u=t.isEthToken,b=t.token;return Object(r.jsxs)("div",{className:"d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100",children:[Object(r.jsx)($.StyledLink,{children:Object(r.jsx)($.TradeButton,{onClick:c.bind(qe,l,u,s,b),disabled:s.isEqualTo(0),children:te("deposit")})}),Object(r.jsx)($.StyledLink,{children:Object(r.jsx)($.TradeButton,{variant:"warning",onClick:o.bind(qe,l,u,s,b),disabled:i&&i.isEqualTo(0),children:te("withdraw")})})]})},isAction:!0,formatExtraData:{openLendingModal:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];L(r),g(!0),a?(c(!0),Q(Object(q.a)(Object(q.a)({},le),{},{balance:o}))):(c(!1),Q(oe.find((function(e){return e.token===i})))),A(!0)},openUnLendingModal:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];L(r),a?(c(!0),Q(Object(q.a)(Object(q.a)({},le),{},{balance:o}))):(c(!1),Q(oe.find((function(e){return e.token===i})))),g(!0),A(!1)}}}];return Object(r.jsxs)("div",{className:"d-flex flex-column",children:[Object(r.jsx)(y.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table",bootstrap4:!0,remote:!0,keyField:"id",data:be,columns:he,onTableChange:function(e,t){"sort"===e&&ee({field:t.sortField,order:t.sortOrder})}}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:he,data:be,direction:"rtl"}),w&&M&&Object(r.jsx)(Ae,{show:w,tokenBalance:J,isSubmitting:S,onSubmit:je,aToken:M,closeModal:de,ethBalance:me,isEth:a,wethToken:fe,isLending:H})]})})),Je=n(2860);function Qe(){var e=Object(a.a)(["\n  height: 56px;\n  min-height: 56px;\n  min-width: 250px;\n"]);return Qe=function(){return e},e}function Ye(){var e=Object(a.a)(["\n  font-size: 0.75rem;\n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n"]);return Ye=function(){return e},e}function Xe(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 0;\n  border-bottom: 1px solid ",";\n  font-size: 1rem;\n  font-weight: 500;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(a.a)(["\n  font-size: 1.25rem;\n  font-weight: 500;\n  margin-top: 0;\n  margin-bottom: 2.25rem;\n"]);return Ze=function(){return e},e}var et=T.default.h4(Ze()),tt=T.default.div(Xe(),(function(e){return e.theme.text3})),nt=Object(T.default)(Be.h.black)(Ye()),rt=T.default.button(Qe()),at=function(e){var t=e.tokenBalance,n=e.closeModal,a=e.ethBalance,i=e.isEth,s=e.wethToken,l=e.aToken,u=e.availableForBorrow,b=e.show,d=(Object(K.a)(e,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","availableForBorrow","show"]),Object(x.useState)({btnMsg:null,cardMsg:null})),j=Object(W.a)(d,2),m=j[0],h=j[1],p=Object(x.useState)(new f.BigNumber(0)),O=Object(W.a)(p,2),v=O[0],w=O[1],g=Object(E.a)().t,k=Object(Je.a)();Object(x.useEffect)((function(){a.isLessThan(ee.jb.gasTransferToken)&&(Te.c.error(g("errors.notEnoughGas")),h({btnMsg:"Error",cardMsg:g("errors.notEnoughGas")}))}),[a]);var y,B,T,S=l.variableBorrowRate,N=t.token,D=u;if(i)T=s.displayDecimals,B=18,y=Object(U.e)("ETH");else{if(!t)return null;T=N.displayDecimals,B=N.decimals,D=u,y=Object(U.e)(N.symbol)}var F=Object(U.c)(D,B,T),M=m&&m.btnMsg?"Error":"Borrow "+y,L=null===v||v&&v.isGreaterThan(D);return Object(r.jsx)(Z.a,{show:b,onHide:n,centered:!0,children:Object(r.jsx)(Z.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(et,{children:[g("borrow.title")," ",y]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(ke,{decimals:B,min:0,max:D,onUserInput:function(e){w(e)},value:v,token:N,selected:y,showBalance:!1,label:g("wantToBorrow"),placeholder:new f.BigNumber(1).div(new f.BigNumber(10).pow(T)).toString(),valueFixedDecimals:T})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(ye.a,{children:[Object(r.jsxs)(tt,{children:[Object(r.jsx)(te.c,{children:Object(r.jsx)(nt,{fontWeight:500,color:k.text1,children:g("borrow.borrowRate")})}),Object(r.jsx)(te.c,{children:Object(r.jsxs)(nt,{color:k.text1,fontWeight:500,children:[S.div("1e27").multipliedBy(100).toFixed(5)," ","%"]})})]}),Object(r.jsxs)(tt,{children:[Object(r.jsx)(te.c,{children:Object(r.jsx)(nt,{fontWeight:500,color:k.text1,children:g("borrow.available")})}),Object(r.jsx)(te.c,{children:Object(r.jsx)(nt,{color:k.text1,fontWeight:500,children:F})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(rt,{className:"btn btn-".concat(m&&m.btnMsg?"danger":"primary"),disabled:L,onClick:function(){var n;if(i)n=Object(q.a)(Object(q.a)({},s),{},{symbol:"ETH"});else{if(!t)return null;n=t.token}e.onSubmit(v,n,l,i)},children:M})})]})})})};function ct(){var e=Object(a.a)(["\n  height: 56px;\n  min-height: 56px;\n  min-width: 250px;\n"]);return ct=function(){return e},e}function ot(){var e=Object(a.a)(["\n  font-size: 0.75rem;\n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n"]);return ot=function(){return e},e}function it(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 0;\n  border-bottom: 1px solid ",";\n  font-size: 1rem;\n  font-weight: 500;\n"]);return it=function(){return e},e}function st(){var e=Object(a.a)(["\n  font-size: 1.25rem;\n  font-weight: 500;\n  margin-top: 0;\n  margin-bottom: 2.25rem;\n"]);return st=function(){return e},e}var lt=T.default.h4(st()),ut=T.default.div(it(),(function(e){return e.theme.text3})),bt=Object(T.default)(Be.h.black)(ot()),dt=T.default.button(ct()),jt=function(e){var t,n=e.tokenBalance,a=e.closeModal,i=e.ethBalance,s=e.isEth,l=e.wethToken,u=e.aToken,b=e.borrowedBalance,d=e.show,j=(Object(K.a)(e,["tokenBalance","closeModal","ethBalance","isEth","wethToken","aToken","borrowedBalance","show"]),Object(x.useState)({btnMsg:null,cardMsg:null})),h=Object(W.a)(j,2),p=h[0],O=h[1],v=Object(x.useState)(null),w=Object(W.a)(v,2),g=w[0],k=w[1],y=Object(x.useState)(!1),B=Object(W.a)(y,2),T=(B[0],B[1]),S=(Object(m.d)(),Object(E.a)().t),N=Object(Je.a)();Object(x.useEffect)((function(){i.isLessThan(ee.jb.gasTransferToken)&&(Te.c.error(S("errors.notEnoughGas")),O({btnMsg:"Error",cardMsg:S("errors.notEnoughGas")})),T(s?i.isLessThanOrEqualTo(b):n.balance.isLessThanOrEqualTo(b))}),[i,n]);var D,F,M,L=new f.BigNumber(0),z=new f.BigNumber(0),C=n.token;if(s)F=l.displayDecimals,D=18,L=b||new f.BigNumber(0),t=Object(U.e)("ETH"),z=i,M=L.minus(i);else{if(!n)return null;F=C.displayDecimals,D=C.decimals,L=b||new f.BigNumber(0),t=Object(U.e)(C.symbol),M=L.minus(n.balance),z=n.balance}var H=Object(U.c)(L,D,F),A=Object(U.c)(z,D,F),R=(Object(U.c)(M,D,F+1),p&&p.btnMsg?"Error":"Repay "+t),_=null===g||g&&g.isGreaterThan(L)||g&&g.isEqualTo(0);return Object(r.jsx)(Z.a,{show:d,onHide:a,centered:!0,children:Object(r.jsx)(Z.a.Body,{style:{padding:30},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(lt,{children:[S("repay")," ",t]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(ke,{decimals:D,min:0,max:L,onUserInput:function(e){k(e)},value:g,token:C,selected:t,showBalance:!1,label:S("wantToRepay"),placeholder:new f.BigNumber(1).div(new f.BigNumber(10).pow(F)).toString(),valueFixedDecimals:F})}),Object(r.jsx)(o.a,{xs:12,style:{marginBottom:56},children:Object(r.jsxs)(ye.a,{children:[Object(r.jsxs)(ut,{children:[Object(r.jsx)(te.c,{children:Object(r.jsx)(bt,{fontWeight:500,color:N.text1,children:S("borrow.amountBorrowed")})}),Object(r.jsx)(te.c,{children:Object(r.jsx)(bt,{color:N.text1,fontWeight:500,children:H})})]}),Object(r.jsxs)(ut,{children:[Object(r.jsx)(te.c,{children:Object(r.jsx)(bt,{fontWeight:500,color:N.text1,children:S("borrow.amountAvailable")})}),Object(r.jsx)(te.c,{children:Object(r.jsx)(bt,{color:N.text1,fontWeight:500,children:A})})]})]})}),Object(r.jsx)(o.a,{xs:12,className:"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column",children:Object(r.jsx)(dt,{className:"btn btn-".concat(p&&p.btnMsg?"danger":"primary"),disabled:_,onClick:function(){var t;if(s)t=Object(q.a)(Object(q.a)({},l),{},{symbol:"ETH"});else{if(!n)return null;t=n.token}var r=g||new f.BigNumber(0);e.onSubmit(r,t,u,s)},children:R})})]})})})},ft=void 0;function mt(){var e=Object(a.a)(["\n  font-weight: 500;\n  font-size: .875rem;\n  color: ",";\n  \n  &.font-size-base {\n    font-size: 1rem;\n  }\n  \n  @media (max-width: 991px) {\n    font-weight: 700;\n    \n    &.label {\n    font-weight: 500;\n    }\n  }\n"]);return mt=function(){return e},e}function ht(){var e=Object(a.a)(["\n  font-weight: 400;\n  font-size: 0.875rem;\n  color: ",";\n  \n  @media (max-width: 991px) {\n    font-size: 0.875rem;\n    font-weight: 400;\n  }\n"]);return ht=function(){return e},e}function pt(){var e=Object(a.a)(["\n  color: ",";\n  font-size: 1rem;\n  margin-right: 10px;\n  font-weight: 500;\n"]);return pt=function(){return e},e}function Ot(){var e=Object(a.a)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 32px;\n  background-color: ",";\n  \n  @media (max-width: 991px) {\n    width: 24px;\n    height: 24px;\n    border-radius: 24px;\n  }\n"]);return Ot=function(){return e},e}var xt=T.default.div(Ot(),(function(e){return e.theme.text1})),vt=T.default.span(pt(),(function(e){return e.theme.text1})),wt=T.default.span(ht(),(function(e){return e.theme.text1})),gt=T.default.span(mt(),(function(e){return e.theme.text1})),kt=Object(P.a)((function(e){var t=Object(x.useState)(!1),n=Object(W.a)(t,2),a=n[0],c=n[1],o=Object(x.useState)(!1),i=Object(W.a)(o,2),s=i[0],l=(i[1],Object(x.useState)(!1)),u=Object(W.a)(l,2),b=u[0],O=(u[1],Object(E.a)().t),v=Object(x.useState)(!1),w=Object(W.a)(v,2),g=w[0],k=w[1],T=Object(x.useState)(!1),S=Object(W.a)(T,2),N=S[0],D=S[1],F=Object(x.useState)(!1),M=Object(W.a)(F,2),L=M[0],z=M[1],C=Object(x.useState)(),H=Object(W.a)(C,2),A=H[0],P=H[1],K=Object(x.useState)(!0),J=Object(W.a)(K,2),Q=J[0],Y=J[1],X=Object(x.useState)(),Z=Object(W.a)(X,2),ee=Z[0],te=Z[1],ne=Object(x.useState)(new f.BigNumber(0)),re=Object(W.a)(ne,2),ae=re[0],ce=re[1],oe=Object(x.useState)(new f.BigNumber(0)),ie=Object(W.a)(oe,2),se=ie[0],le=ie[1],ue=Object(x.useState)({field:!1,order:"desc"}),be=Object(W.a)(ue,2),de=be[0],je=be[1],fe=Object(h.a)().account,me=Object(m.e)(p.d),he=Object(m.e)(p.e),pe=Object(m.d)(),Oe=Object(m.e)(p.a),xe=Object(m.e)(p.I),ve=e.tokensBalance,we=e.ethBalance,ge=e.totalEthBalance,ke=e.wethBalance,ye=(Object(m.e)(p.c),Object(m.e)(p.b)),Be=Object(x.useMemo)((function(){var e=Oe.map((function(e){var t=e.token,n=e.balance,r=e.borrowBalance,a=t.symbol,c=me.find((function(t){return t.aToken.id===e.address})),o=Object(I.d)(t),i=ve.find((function(e){return e.token.symbol===a}));if(s&&r&&r.isEqualTo(0))return null;if(b&&!t.isStableCoin)return null;var l,u,d=o?ge||new f.BigNumber(0):i&&i.balance||new f.BigNumber(0),j=new f.BigNumber(0),m=new f.BigNumber(0);if(fe&&r&&c&&he){var h=c.price.priceInEth,p=he.availableBorrowsETH;j=he.availableBorrowsETH,m=p.dividedBy(new f.BigNumber(h).div(new f.BigNumber(10).pow(t.decimals))).integerValue(f.BigNumber.ROUND_DOWN);var O=Object(U.c)(r,t.decimals,t.displayDecimals),x=Object(U.c)(m,t.decimals,t.displayDecimals),v=xe&&xe.find((function(e){return e.c_id===t.c_id}));"NATIVE"===ye?(l="".concat(x," ").concat(Object(U.a)(a)),u="".concat(O," ").concat(Object(U.a)(a))):(l=v?"".concat(v.price_usd.multipliedBy(new f.BigNumber(x)).toFixed(3),"$"):"-",u=v?"".concat(v.price_usd.multipliedBy(new f.BigNumber(O)).toFixed(3),"$"):"-")}else l="-",u="-";var w="".concat(e.variableBorrowRate.dividedBy("1e27").multipliedBy(100).toFixed(5)," %"),g=o?"Ethereum":t.name,k=o?"ETH":t.symbol.toUpperCase();return{token:t,symbol:a,tokenSymbol:k,tokenName:g,displayAvailableForBorrowBalance:l,availableBalanceForBorrowToken:m,displayBorrowedBalance:u,availableForBorrow:j,borrowBalance:r,apy:w,balance:n,tokB:d,isEthToken:o,tokenD:e}}));return Object(Re.d)(e,de)}),[Oe,de]),Te=function(){k(!1)},Ee=function(){D(!1)},Se=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),e.prev=1,!Q){e.next=7;break}return e.next=5,pe(Object(G.k)(t,n,r,a,R.c.Aave,we,ke,ge));case 5:e.next=9;break;case 7:return e.next=9,pe(Object(G.q)(t,n,r,a,R.c.Aave,we,ke,ge));case 9:return e.prev=9,z(!1),Q?Te():Ee(),e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[1,,9,13]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ne=Object(I.a)().getWethToken(),De=ke?ke.balance.plus(we):new f.BigNumber(0),Fe=[{dataField:"tokenName",text:O("token"),formatter:function(e,t,n){var a=new _.k(1,t.token.address,t.token.decimals,t.token.symbol,t.token.name);return Object(r.jsxs)("div",{className:"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4",children:[Object(r.jsx)(xt,{children:Object(r.jsx)(V.a,{currency:a})}),Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0",children:[Object(r.jsx)(vt,{className:"font-weight-bold",children:t.tokenSymbol}),Object(r.jsx)(wt,{className:"font-weight-bold",children:t.tokenName})]})]},n)},sort:!0},{dataField:"displayAvailableForBorrowBalance",text:O("borrow.available"),formatter:function(e,t,n){return Object(r.jsx)(gt,{children:t.displayAvailableForBorrowBalance})},sort:!0},{dataField:"displayBorrowedBalance",text:O("borrow.borrowBalance"),formatter:function(e,t,n){return Object(r.jsx)(gt,{children:t.displayBorrowedBalance})},sort:!0},{dataField:"apy",text:O("borrow.borrowRate"),formatter:function(e,t,n){return Object(r.jsx)(gt,{children:t.apy})},sort:!0},{dataField:"actions",text:O("table.actions"),formatter:function(e,t,n,a){var c=a.openBorrowModal,o=a.openRepayModal,i=t.tokB,s=t.tokenD,l=t.isEthToken,u=t.token,b=t.borrowBalance,d=t.availableBalanceForBorrowToken,j=t.availableForBorrow;return Object(r.jsxs)("div",{className:"d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100",children:[Object(r.jsx)($.StyledLink,{children:Object(r.jsx)($.TradeButton,{onClick:c.bind(ft,s,l,i,u,d),disabled:j.isEqualTo(0)||!fe,children:O("borrow.title")})}),Object(r.jsx)($.StyledLink,{children:Object(r.jsx)($.TradeButton,{variant:"warning",onClick:o.bind(ft,s,l,i,u,b),disabled:b&&b.isEqualTo(0)||!fe,children:O("repay")})})]})},isAction:!0,formatExtraData:{openBorrowModal:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4];P(r),k(!0),a?(c(!0),te(Object(q.a)(Object(q.a)({},ke),{},{balance:o}))):(c(!1),te(ve.find((function(e){return e.token===i})))),ce(s),Y(!0)},openRepayModal:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4];P(r),a?(c(!0),te(Object(q.a)(Object(q.a)({},ke),{},{balance:o}))):(c(!1),te(ve.find((function(e){return e.token===i})))),le(s||new f.BigNumber(0)),D(!0),Y(!1)}}}],Me=Object(r.jsxs)(r.Fragment,{children:[g&&A&&Object(r.jsx)(at,{show:g,tokenBalance:ee,isSubmitting:L,availableForBorrow:ae,onSubmit:Se,aToken:A,closeModal:Te,ethBalance:De,isEth:a,wethToken:Ne}),N&&A&&Object(r.jsx)(jt,{show:N,tokenBalance:ee,isSubmitting:L,onSubmit:Se,borrowedBalance:se,aToken:A,closeModal:Ee,ethBalance:De,isEth:a,wethToken:Ne})]});return Object(r.jsxs)("div",{className:"d-flex flex-column",children:[Object(r.jsx)(y.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table",bootstrap4:!0,remote:!0,keyField:"id",data:Be,columns:Fe,onTableChange:function(e,t){"sort"===e&&je({field:t.sortField,order:t.sortOrder})}}),Object(r.jsx)(B.a,{breakpoint:"lg",columns:Fe,data:Be,direction:"rtl"}),Me]})}));function yt(){var e=Object(a.a)(["\n  border-radius: 18px !important;\n  color: ",";\n  background-color: rgba(135, 220, 225, 0.15);\n  white-space: nowrap;\n  padding: 14px 24px;\n  min-height: 56px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  \n    @media (max-width: 767px) {\n      padding: 6px 15px;\n      font-size: 1rem;\n      min-height: 32px;\n      border-radius: 12px !important;\n    }\n  \n  &:hover {\n    color: ",";\n  }\n  \n  &.active {\n    color: ",";\n    background-color: ",";\n  }\n"]);return yt=function(){return e},e}function Bt(){var e=Object(a.a)(["\n  flex-grow: initial !important;\n  \n  padding: 0 10px 10px;\n  \n  \n    @media (max-width: 767px) {\n      padding: 0 5px 10px;\n    }\n  \n  &:first-child {\n    @media (max-width: 767px) {\n      padding-left: 30px;\n    }\n  }\n  &:last-child {\n    @media (max-width: 767px) {\n      padding-right: 30px;\n    }\n  }\n"]);return Bt=function(){return e},e}function Tt(){var e=Object(a.a)(["\n  margin-left: -30px !important;\n  margin-right: -30px !important;\n  overflow: auto;\n  \n  @media (min-width: 768px) {\n    margin-left: -10px !important;\n    margin-right: -10px !important;\n  }\n"]);return Tt=function(){return e},e}function Et(){var e=Object(a.a)(["\n  margin: -10px 0 20px;\n  \n  @media (min-width: 768px) {\n    margin-bottom: 25px;\n  }\n"]);return Et=function(){return e},e}var St,Nt,Dt=Object(T.default)(o.a)(Et()),Ft=Object(T.default)(L.a)(Tt()),Mt=Object(T.default)(L.a.Item)(Bt()),Lt=Object(T.default)(L.a.Link)(yt(),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.text1}),(function(e){return e.theme.primary})),zt=function(e){var t=Object(h.a)().account,n=Object(i.useQuery)(A,{client:Object(s.b)(),pollInterval:1e3}),a=n.loading,l=n.error,u=n.data,b=Object(m.d)(),f=Object(m.e)(p.c),v=Object(E.a)().t;return Object(x.useEffect)((function(){a||l||!u||(b(Object(O.k)(u.reserves)),f===R.b.NotLoaded?b(Object(O.c)(t)):b(Object(O.b)(t)))}),[a,u,t]),Object(w.a)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&u&&!a&&!l&&b(Object(O.b)(t));case 1:case"end":return e.stop()}}),e)}))),6e4),Object(r.jsx)(g.a,{children:Object(r.jsx)(z.a.Container,{defaultActiveKey:"deposit",children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(Dt,{xs:12,className:"d-flex flex-column-reverse flex-lg-row align-items-stretch align-items-lg-start justify-content-start justify-content-lg-between",children:Object(r.jsxs)(Ft,{fill:!0,variant:"pills",className:"d-flex flex-row align-items-center flex-nowrap",children:[Object(r.jsx)(Mt,{children:Object(r.jsx)(Lt,{eventKey:"deposit",children:v("deposit")})}),Object(r.jsx)(Mt,{children:Object(r.jsx)(Lt,{eventKey:"borrow",children:v("borrow.title")})})]})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsxs)(z.a.Content,{className:"bg-transparent",children:[Object(r.jsx)(z.a.Pane,{eventKey:"deposit",children:Object(r.jsx)(Ke,{})}),Object(r.jsx)(z.a.Pane,{eventKey:"borrow",children:Object(r.jsx)(kt,{})})]})})]})})})},Ct=(n(3862),n(98)),Ht=n.n(Ct),At=n(92),Rt=n(3082),qt=n(2870),Wt=(n(152),n(375),n(362),n(1127),Object(P.a)((function(e){var t=Object(x.useState)(!1),n=Object(W.a)(t,2),a=n[0],c=n[1],o=Object(h.a)().account,i=Object(m.e)(p.H),s=e.wethBalance,l=i.currentWethBalance,u=i.newWethBalance,b=e.web3,f=Object(m.d)(),O=u.minus(l).isGreaterThan(0)?"ETH":"wETH",v=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(Object(G.t)(s,u,o,b.getProvider()));case 3:return n=t.sent,c(!0),t.next=7,b.awaitTransactionSuccessAsync(n);case 7:t.sent&&(c(!1),f(Object(G.s)())),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),c(!1),e.onDismiss();case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){v()}),[i]),Object(r.jsx)(qt.b,{onDismiss:a?function(){return null}:e.onDismiss,pendingText:a?"Wrapping...":"Convert ".concat(O)})}))),_t=Object(m.b)((function(e){return{step:Object(p.H)(e),gasInfo:Object(p.q)(e)}}),(function(e){return{onSubmitLendingToken:function(t,n,r,a,c){return e(function(e,t,n,r,a){return function(){var c=Object(j.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(p.m)(s),c.t0=l,c.next=c.t0===R.c.Aave?5:7;break;case 5:return u=o(Object(O.e)(e,t,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()}(t,n,r,a,c))},onSubmitUnLendingToken:function(t,n,r,a,c){return e(function(e,t,n,r,a){return function(){var c=Object(j.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(p.m)(s),c.t0=l,c.next=c.t0===R.c.Aave?5:7;break;case 5:return u=o(Object(O.m)(e,t,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()}(t,n,r,a,c))}}}))((function(e){var t=Object(x.useState)(!1),n=Object(W.a)(t,2),a=n[0],c=n[1],o=Object(h.a)().account,i=e.step,s=e.onSubmitLendingToken,l=e.onSubmitUnLendingToken,u=i.amount,b=i.token,f=i.isEth,m=i.defiToken,p=i.isLending,O=f?Object(U.e)("ETH"):Object(U.e)(b.symbol),v=f?18:i.token.decimals,w="".concat(Object(U.c)(i.amount,v,i.token.displayDecimals).toString()," ").concat(O),g=e.web3,k=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!p){t.next=7;break}return t.next=4,s(b,m,u,f,o);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,l(b,m,u,f,o);case 9:t.t0=t.sent;case 10:return n=t.t0,c(!0),t.next=14,g.awaitTransactionSuccessAsync(n);case 14:t.sent&&(c(!1),e.onDone(n)),t.next=22;break;case 18:t.prev=18,t.t1=t.catch(0),c(!1),e.onDismiss();case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){k()}),[i]),Object(r.jsx)(qt.b,{onDismiss:a?function(){return null}:e.onDismiss,pendingText:a?"Pending Transaction...":"Confirm on ".concat(o," to ").concat(p?"deposit":"withdraw"," ").concat(w,".")})})),Pt=Object(m.b)((function(e){return{step:Object(p.H)(e),gasInfo:Object(p.q)(e)}}),(function(e){return{onSubmitBorrowToken:function(t,n,r,a,c){return e(function(e,t,n,r,a){return function(){var c=Object(j.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(p.m)(s),c.t0=l,c.next=c.t0===R.c.Aave?5:7;break;case 5:return u=o(Object(O.a)(e,t,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()}(t,n,r,a,c))},onSubmitRepayToken:function(t,n,r,a,c){return e(function(e,t,n,r,a){return function(){var c=Object(j.a)(d.a.mark((function c(o,i){var s,l,u;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s=i(),l=Object(p.m)(s),c.t0=l,c.next=c.t0===R.c.Aave?5:7;break;case 5:return u=o(Object(O.f)(e,t,n,r,a)),c.abrupt("return",u);case 7:return c.abrupt("break",8);case 8:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()}(t,n,r,a,c))}}}))((function(e){var t=Object(x.useState)(!1),n=Object(W.a)(t,2),a=n[0],c=n[1],o=Object(h.a)().account,i=e.step,s=e.onSubmitBorrowToken,l=e.onSubmitRepayToken,u=i.amount,b=i.token,f=i.isEth,m=i.defiToken,p=i.isBorrow,O=f?Object(U.e)("ETH"):Object(U.e)(b.symbol),v=f?18:i.token.decimals,w="".concat(Object(U.c)(i.amount,v,i.token.displayDecimals).toString()," ").concat(O),g=e.web3,k=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!p){t.next=7;break}return t.next=4,s(b,m,u,f,o);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,l(b,m,u,f,o);case 9:t.t0=t.sent;case 10:return n=t.t0,c(!0),t.next=14,g.awaitTransactionSuccessAsync(n);case 14:t.sent&&(c(!1),e.onDone(n)),t.next=22;break;case 18:t.prev=18,t.t1=t.catch(0),c(!1),e.onDismiss();case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){k()}),[i]),Object(r.jsx)(qt.b,{onDismiss:a?function(){return null}:e.onDismiss,pendingText:a?"Pending Transaction...":"Confirm on ".concat(o," to ").concat(p?"Borrow":"Repay"," ").concat(w,".")})})),It=function(e){var t=Object(x.useState)(!1),n=Object(W.a)(t,2),a=n[0],c=n[1],o=Object(x.useState)(null),i=Object(W.a)(o,2),s=i[0],l=i[1],u=Object(m.e)(p.H),b=Object(m.d)(),d=null!==u;Object(x.useEffect)((function(){(St=new Ht.a(Ht.a.givenProvider||Ht.a.providers.HttpProvider("https://mainnet.infura.io/v3/18f4df06d1f24e8c84a361712757187d"))).currentProvider&&(Nt=new At.Web3Wrapper(St.currentProvider))}),[]);var j=function(){c(!1),l(null),b(Object(G.h)(null))},f=function(e){c(!0),l(e)};return Object(r.jsxs)(r.Fragment,{children:[e.children,Object(r.jsx)(Z.a,{show:d,centered:!0,onHide:j,children:Object(r.jsx)(Z.a.Body,{className:"px-0 py-0",children:a?Object(r.jsx)(qt.d,{chainId:ee.m,hash:s,onDismiss:j}):Object(r.jsxs)(r.Fragment,{children:[u&&u.kind===ee.hb.ToggleTokenLock&&Object(r.jsx)(Rt.a,{onDismiss:j,web3:Nt}),u&&u.kind===ee.hb.WrapEth&&Object(r.jsx)(Wt,{onDismiss:j,web3:Nt}),u&&u.kind===ee.hb.LendingToken&&Object(r.jsx)(_t,{onDismiss:j,onDone:f,web3:Nt}),u&&u.kind===ee.hb.UnLendingToken&&Object(r.jsx)(_t,{onDismiss:j,onDone:f,web3:Nt}),u&&u.kind===ee.hb.RepayToken&&Object(r.jsx)(Pt,{onDismiss:j,onDone:f,web3:Nt}),u&&u.kind===ee.hb.BorrowToken&&Object(r.jsx)(Pt,{onDismiss:j,onDone:f,web3:Nt})]})})})]})};function Ut(){var e=Object(a.a)(["\n  margin-top: 40px;\n  \n  @media (max-width: 767px) {\n    margin-top: 20px;\n  }\n"]);return Ut=function(){return e},e}var Gt=Object(T.default)(c.a)(Ut());t.default=function(e){return Object(r.jsx)(u.a,{children:Object(r.jsxs)(l,{children:[Object(r.jsx)(It,{}),Object(r.jsxs)(Gt,{children:[Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(M,{})}),Object(r.jsx)(o.a,{xs:12,children:Object(r.jsx)(zt,{})})]})]})})}}}]);
//# sourceMappingURL=26.0fa32c72.chunk.js.map