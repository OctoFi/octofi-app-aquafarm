(this["webpackJsonpoctofi-app-aquafarm"]=this["webpackJsonpoctofi-app-aquafarm"]||[]).push([[39],{3162:function(t){t.exports=JSON.parse('{"a":[{"constant":true,"inputs":[{"components":[{"name":"target","type":"address"},{"name":"callData","type":"bytes"}],"name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"name":"blockNumber","type":"uint256"},{"name":"returnData","type":"bytes[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]}')},3240:function(t,e,n){"use strict";n.d(e,"a",(function(){return pt})),n.d(e,"b",(function(){return lt})),n.d(e,"g",(function(){return ft})),n.d(e,"h",(function(){return bt})),n.d(e,"f",(function(){return ht})),n.d(e,"c",(function(){return gt})),n.d(e,"d",(function(){return jt})),n.d(e,"e",(function(){return xt}));var r=n(40),a=n(1),s=n.n(a),c=n(63),i=n(30),u=n(749),o=(n(297),n(3697)),p=n.n(o),l=n(3698),f=n(3162),d=n(78),b={1:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-beta",42:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-kovan"};function m(){return(m=Object(i.a)(s.a.mark((function t(e,n,a,c,i,u){var o,p,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={poolShares:{__args:{where:{userAddress_in:c.map((function(t){return t.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==u&&(o.poolShares.__args.block={number:u}),t.next=4,bt(b[n],o);case 4:return p=t.sent,l={},p&&p.poolShares&&p.poolShares.forEach((function(t){return t.poolId.tokens.map((function(e){var n=e.id.split("-");if(Object(r.a)(n,2)[1]===i.address.toLowerCase()){var a=Object(d.a)(t.userAddress.id);l[a]||(l[a]=0),l[a]=l[a]+e.balance/t.poolId.totalShares*t.balance}}))})),t.abrupt("return",l||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h=n(753);function y(t,e){return(t.args||["%{address}"]).map((function(t){return"string"===typeof t?t.replace(/%{address}/g,e):t}))}function g(){return(g=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,ft(n,r,[c.methodABI],a.map((function(t){return[c.address,c.methodABI.name,y(c,t)]})),{blockTag:u});case 3:return o=t.sent,t.abrupt("return",Object.fromEntries(o.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),c.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function x(t,e,n,r,a,s){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,ft(n,r,j,a.map((function(t){return[c.address,"balanceOf",[t]]})),{blockTag:u});case 3:return o=t.sent,t.abrupt("return",Object.fromEntries(o.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),c.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e,n,r,a,c,i);case 2:return u=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(u).map((function(t){return[t[0],t[1]*c.coeff]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e,n,r,a,c,i);case 2:return u=t.sent,o=Object.values(u).reduce((function(t,e){return t+e}),0),t.abrupt("return",Object.fromEntries(Object.entries(u).map((function(t){return[t[0],c.total*t[1]/o]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e,n,r,a,c,i);case 2:return u=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(u).map((function(t){return[t[0],Math.sqrt(t[1])]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e,n,r,a,c,i);case 2:return u=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(u).map((function(t){return[t[0],t[1]>(c.minBalance||0)?1:0]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e,n,r,a,s){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(s.a.mark((function t(e,n,a,c,i,u){var o,p,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={delegations:{__args:{where:{delegate_in:c.map((function(t){return t.toLowerCase()})),delegator_not_in:c.map((function(t){return t.toLowerCase()})),space_in:["",e]},first:1e3},delegator:!0,space:!0,delegate:!0}},"latest"!==u&&(o.delegations.__args.block={number:u}),t.next=4,bt(lt[n],o);case 4:if((p=t.sent)&&p.delegations){t.next=7;break}return t.abrupt("return",{});case 7:return l={},p.delegations.forEach((function(t){return l[t.delegator]=t.delegate})),p.delegations.filter((function(t){return""!==t.space})).forEach((function(t){return l[t.delegator]=t.delegate})),t.abrupt("return",Object.fromEntries(c.map((function(t){return[t,Object.entries(l).filter((function(e){var n=Object(r.a)(e,2)[1];return t.toLowerCase()===n})).map((function(t){return Object(r.a)(t,1)[0]}))]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e,n,r,a,c,i);case 2:if(u=t.sent,0!==Object.keys(u).length){t.next=5;break}return t.abrupt("return",{});case 5:return console.debug("Delegations",u),t.next=8,x(e,n,r,Object.values(u).reduce((function(t,e){return t.concat(e)})),c,i);case 8:return o=t.sent,console.debug("Delegators score",o),t.abrupt("return",Object.fromEntries(a.map((function(t){return[t,u[t]?u[t].reduce((function(t,e){return t+o[e]}),0):0]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){return(F=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,ft(n,r,f.a,a.map((function(t){return[pt[n],"getEthBalance",[t]]})),{blockTag:u});case 3:return o=t.sent,t.abrupt("return",Object.fromEntries(o.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),18))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C={1:"0x9ef05f7f6deb616fd37ac3c959a2ddd25a54e4f5"},M=[{constant:!0,inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function A(){return(A=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,ft(n,r,M,a.map((function(t){return[C[n],"deposits",[t]]})),{blockTag:u});case 3:return o=t.sent,t.abrupt("return",Object.fromEntries(o.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),c.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var D={1:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"},N=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"getCurrentVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"}];function B(){return(B=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,ft(n,r,N,a.map((function(t){return[D[n],"getCurrentVotes",[t.toLowerCase()],{blockTag:u}]})));case 3:return o=t.sent,t.abrupt("return",Object.fromEntries(o.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),c.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P=[{constant:!0,inputs:[],name:"getPricePerFullShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function I(){return(I=Object(i.a)(s.a.mark((function t(e,n,a,c,i,u){var o,p,l,f,d,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof u?u:"latest",t.next=3,Promise.all([x(e,n,a,c,i,u),ft(n,a,P,[[i.address,"getPricePerFullShare",[]]],{blockTag:o})]);case 3:return p=t.sent,l=Object(r.a)(p,2),f=l[0],d=Object(r.a)(l[1],1),b=d[0],b=parseFloat(Object(h.a)(b.toString(),18)),t.abrupt("return",Object.fromEntries(Object.entries(f).map((function(t){return[t[0],t[1]*b]}))));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var q=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"memberAddressByDelegateKey",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"members",outputs:[{internalType:"address",name:"delegateKey",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"loot",type:"uint256"},{internalType:"bool",name:"exists",type:"bool"},{internalType:"uint256",name:"highestIndexYesVote",type:"uint256"},{internalType:"uint256",name:"jailed",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function L(){return(L=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,ft(n,r,q,a.map((function(t){return[c.address,"memberAddressByDelegateKey",[t]]})),{blockTag:u});case 3:return o=t.sent,t.next=6,ft(n,r,q,o.filter((function(t){return"0x0000000000000000000000000000000000000000"!==t.toString()})).map((function(t){return[c.address,"members",[t.toString()]]})),{blockTag:u});case 6:return p=t.sent,t.abrupt("return",Object.fromEntries(p.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.shares.toString(),c.decimals))]}))));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Y={1:"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2"};function J(){return(J=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o,p,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={users:{__args:{where:{id_in:a.map((function(t){return t.toLowerCase()}))},first:1e3},id:!0,liquidityPositions:{__args:{where:{liquidityTokenBalance_gt:0}},liquidityTokenBalance:!0,pair:{id:!0,token0:{id:!0},reserve0:!0,token1:{id:!0},reserve1:!0,totalSupply:!0}}}},"latest"!==i&&(u.users.liquidityPositions.__args.block={number:i}),o=c.address.toLowerCase(),t.next=5,bt(Y[n],u);case 5:return p=t.sent,l={},p&&p.users&&p.users.forEach((function(t){t.liquidityPositions.filter((function(t){return t.pair.token0.id==o||t.pair.token1.id==o})).forEach((function(e){var n=e.pair.reserve0/e.pair.totalSupply,r=e.pair.reserve1/e.pair.totalSupply,a=e.pair.token0.id==o?n*e.liquidityTokenBalance:r*e.liquidityTokenBalance,s=Object(d.a)(t.id);l[s]||(l[s]=0),l[s]=l[s]+a}))})),t.abrupt("return",l||{});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var z=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"}],H=[{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"}],K="0x73feaa1eE314F8c655E354234017bE2193C9E24E";function V(){return(V=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o,p,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,x(e,n,r,a,c,i);case 3:return o=t.sent,t.next=6,ft(n,r,H,a.map((function(t){return[K,"userInfo",["0",t]]})),{blockTag:u});case 6:return p=t.sent,t.next=9,Promise.all(c.chefAddresses.map((function(t){return ft(n,r,z,a.map((function(e){return[t.address,"userInfo",[e],{blockTag:u}]})),{blockTag:u})})));case 9:return l=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t,e){return[t[0],t[1]+p.reduce((function(t,e,n){return t+parseFloat(Object(h.a)(e.amount.toString(),18))}),0)+l.reduce((function(t,n,r){return t+parseFloat(Object(h.a)(n[e].amount.toString(),c.chefAddresses[r].decimals))}),0)]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Q=[{constant:!0,inputs:[{name:"",type:"address"}],name:"issuanceData",outputs:[{name:"initialDebtOwnership",type:"uint256"},{name:"debtEntryIndex",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],R="0x4b9Ca5607f1fF8019c1C6A3c2f0CC8de622D5B82";function G(){return(G=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,ft(n,r,Q,a.map((function(t){return[R,"issuanceData",[t]]})),{blockTag:u});case 3:return o=t.sent,p=function(t){var e=1e5*t;return Math.sqrt(e)},t.abrupt("return",Object.fromEntries(o.map((function(t,e){return[a[e],p(parseFloat(Object(h.a)(t.initialDebtOwnership.toString(),27)))]}))));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var U=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"borrowBalanceStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function W(){return(W=Object(i.a)(s.a.mark((function t(e,n,a,c,i,u){var o,p,l,f,d,b,m,y,g,j,x,v,O,w,k,T;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="number"===typeof u?u:"latest","number"!==typeof u){t.next=5;break}t.t0=u-i.offsetCheck,t.next=10;break;case 5:return t.next=7,a.getBlockNumber();case 7:t.t1=t.sent,t.t2=i.offsetCheck,t.t0=t.t1-t.t2;case 10:return p=t.t0,l=c.map((function(t){return[i.address,"balanceOf",[t]]})),f=c.map((function(t){return[i.address,"borrowBalanceStored",[t]]})),d=l.concat(f),t.next=16,Promise.all([ft(n,a,U,d,{blockTag:o}),ft(n,a,U,c.map((function(t){return[i.address,"balanceOf",[t]]})),{blockTag:p})]);case 16:for(b=t.sent,m=Object(r.a)(b,2),y=m[0],g=m[1],j=y.slice(0,c.length),x=y.slice(c.length),v={},O=0;O<j.length;O++)w=1,i.borrowingRestricted&&(w=0==x[O].toString().localeCompare("0")?1:0),k=parseFloat(Object(h.a)(j[O].toString(),i.decimals)),T=parseFloat(Object(h.a)(g[O].toString(),i.decimals)),v[c[O]]=Math.min(k,T)*w;return t.abrupt("return",v);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var X={1:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-v2",3:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-dev"},Z=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function $(){return($=Object(i.a)(s.a.mark((function t(e,n,a,c,i,u){var o,p,l,f,d,b,m,h,y,g;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.address,t.next=3,Promise.all([tt(n,c,o,u),nt(n,a,c,i,u)]);case 3:for(p=t.sent,l=Object(r.a)(p,2),f=l[0],d=l[1],b=0,m=Object.entries(d);b<m.length;b++)h=Object(r.a)(m[b],2),y=h[0],g=h[1],f[y]||(f[y]=0),f[y]=f[y]+g;return t.abrupt("return",f||{});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t,e,n,r){return et.apply(this,arguments)}function et(){return(et=Object(i.a)(s.a.mark((function t(e,n,a,c){var i,u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={poolShares:{__args:{where:{userAddress_in:n.map((function(t){return t.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==c&&(i.poolShares.__args.block={number:c}),t.next=4,bt(X[e],i);case 4:return u=t.sent,o={},u&&u.poolShares&&u.poolShares.forEach((function(t){return t.poolId.tokens.map((function(e){var n=e.id.split("-"),s=Object(r.a)(n,2)[1];if("string"===typeof a&&s===a.toLowerCase()){var c=Object(d.a)(t.userAddress.id);o[c]||(o[c]=0),o[c]=o[c]+e.balance/t.poolId.totalShares*t.balance}}))})),t.abrupt("return",o||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(t,e,n,r,a){return rt.apply(this,arguments)}function rt(){return(rt=Object(i.a)(s.a.mark((function t(e,n,r,a,i){var u,o,p,l,f,d,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(u="number"===typeof i?i:"latest",o=a.pools.length,p=r.length,l=[],f=function(t){l.push.apply(l,Object(c.a)(r.map((function(e){return[a.pools[t].address,"balanceOf",[e]]}))))},d=0;d<o;d++)f(d);return t.next=8,ft(e,n,Z,l,{blockTag:u});case 8:return b=t.sent,t.abrupt("return",Object.fromEntries(r.map((function(t,e){for(var n=0,r=0;r<o;r++)n+=parseFloat(Object(h.a)(b[e+r*p].toString(),18));return[t,n]}))));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var at=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOfBonded",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function st(){return(st=Object(i.a)(s.a.mark((function t(e,n,r,a,i,u){var o,p,l,f,d,b,m,y;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof u?u:"latest",p=a.map((function(t){return[i.dao,"balanceOfBonded",[t]]})),l=a.map((function(t){return[i.rewards,"balanceOfBonded",[t]]})),t.next=5,ft(n,r,at,[[i.token,"balanceOf",[i.uniswap]],[i.uniswap,"totalSupply"]].concat(Object(c.a)(p),Object(c.a)(l)),{blockTag:o});case 5:return f=t.sent,d=f[0],b=f[1],m=f.slice(2,a.length+2),y=f.slice(a.length+2,2*a.length+2),t.abrupt("return",Object.fromEntries(Array(a.length).fill("x").map((function(t,e){return[a[e],parseFloat(Object(h.a)(d[0].div(b[0]).mul(y[e][0]).add(m[e][0]).toString(),i.decimals))]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ct=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function it(){return(it=Object(i.a)(s.a.mark((function t(e,n,r,a,c,i){var u,o,p,l,f,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof i?i:"latest",t.next=3,ft(n,r,ct,[[c.uniswapAddress,"totalSupply",[]],[c.tokenAddress,"balanceOf",[c.uniswapAddress]]].concat(a.map((function(t){return[c.stakingAddress,"balanceOf",[t]]}))),{blockTag:u});case 3:return o=t.sent,p=o[0],l=o[1],f=l/Math.pow(10,c.decimals)/(p/1e18),d=o.slice(2),t.abrupt("return",Object.fromEntries(d.map((function(t,e){return[a[e],t/Math.pow(10,c.decimals)*f]}))));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ut={balancer:function(t,e,n,r,a,s){return m.apply(this,arguments)},"contract-call":function(t,e,n,r,a,s){return g.apply(this,arguments)},"erc20-balance-of":x,"erc20-balance-of-fixed-total":function(t,e,n,r,a,s){return w.apply(this,arguments)},"erc20-balance-of-cv":function(t,e,n,r,a,s){return k.apply(this,arguments)},"erc20-balance-of-coeff":function(t,e,n,r,a,s){return O.apply(this,arguments)},"erc20-with-balance":function(t,e,n,r,a,s){return T.apply(this,arguments)},"erc20-balance-of-delegation":function(t,e,n,r,a,s){return _.apply(this,arguments)},"eth-balance":function(t,e,n,r,a,s){return F.apply(this,arguments)},"maker-ds-chief":function(t,e,n,r,a,s){return A.apply(this,arguments)},uni:function(t,e,n,r,a,s){return B.apply(this,arguments)},"yearn-vault":function(t,e,n,r,a,s){return I.apply(this,arguments)},moloch:function(t,e,n,r,a,s){return L.apply(this,arguments)},uniswap:function(t,e,n,r,a,s){return J.apply(this,arguments)},pancake:function(t,e,n,r,a,s){return V.apply(this,arguments)},synthetix:function(t,e,n,r,a,s){return G.apply(this,arguments)},ctoken:function(t,e,n,r,a,s){return W.apply(this,arguments)},cream:function(t,e,n,r,a,s){return $.apply(this,arguments)},"staked-uniswap":function(t,e,n,r,a,s){return it.apply(this,arguments)},esd:function(t,e,n,r,a,s){return st.apply(this,arguments)}},ot=n(67),pt={1:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",4:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",5:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",6:"0x53c43764255c17bd724f74c4ef150724ac50a3ed",42:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",56:"0x1ee38d535d541c55c9dae27b12edf090c608e6fb",82:"0x579De77CAEd0614e3b158cb738fcD5131B9719Ae",97:"0x8b54247c6BAe96A6ccAFa468ebae96c4D7445e46",100:"0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a",wanchain:"0xba5934ab3056fca1fa458d30fbb3810c3eb5145f"},lt={1:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot",4:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-rinkeby",42:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-kovan"};function ft(t,e,n,r,a){return dt.apply(this,arguments)}function dt(){return(dt=Object(i.a)(s.a.mark((function t(e,n,a,c,i){var o,p,l,d,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new u.b(a),p=Object(ot.e)(pt[e],f.a,n),t.prev=2,t.prev=3,t.next=6,p.aggregate(c.map((function(t){return[t[0].toLowerCase(),o.encodeFunctionData(t[1],t[2])]})),i||{});case 6:return l=t.sent,d=Object(r.a)(l,2),b=d[1],t.abrupt("return",b.map((function(t,e){return o.decodeFunctionResult(c[e][1],t)})));case 12:return t.prev=12,t.t0=t.catch(3),t.abrupt("return",[]);case 15:t.next=20;break;case 17:return t.prev=17,t.t1=t.catch(2),t.abrupt("return",Promise.reject(t.t1));case 20:case"end":return t.stop()}}),t,null,[[2,17],[3,12]])})))).apply(this,arguments)}function bt(t,e){return mt.apply(this,arguments)}function mt(){return(mt=Object(i.a)(s.a.mark((function t(e,n){var r,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:Object(l.jsonToGraphQLQuery)({query:n})})});case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,c=a.data,t.abrupt("return",c||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ht(t,e,n,r,a){return yt.apply(this,arguments)}function yt(){return(yt=Object(i.a)(s.a.mark((function t(e,n,r,a,c){var i,u=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>5&&void 0!==u[5]?u[5]:"latest",t.next=3,Promise.all(n.map((function(t){return ut[t.name](e,r,a,c,t.params,i)})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"(0.[00]a)";return p()(t).format(e)}function jt(t){var e=JSON.parse(JSON.stringify(t));return e.msg=function(t,e){if("string"!==typeof t)return e||{};try{return JSON.parse(t)}catch(n){return e||{}}}(e.msg,e.msg),"0.1.0"===e.msg.version&&(e.msg.payload.start=1595088e3,e.msg.payload.end=1595174400,e.msg.payload.snapshot=10484400,e.bpt_voting_disabled="1"),"0.1.0"!==e.msg.version&&"0.1.1"!==e.msg.version||(e.msg.payload.metadata={}),e}function xt(t){return Object.fromEntries(Object.entries(t).map((function(t){return[t[0],jt(t[1])]})))}},4136:function(t,e,n){},4566:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n(1),s=n.n(a),c=n(30),i=n(40),u=n(22),o=n(0),p=n(3003),l=n(1248),f=n(50),d=n(759),b=n.n(d),m=n(3049),h=n.n(m),y=n(21),g=n(752),j=n(470),x=n(772),v=n(84),O=n(3240),w=n(46),k=n(457),T=n(456),S=(n(4136),n(1282),n(760)),E=n(2977);function _(){var t=Object(u.a)(["\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n"]);return _=function(){return t},t}function F(){var t=Object(u.a)(["\n\theight: 56px;\n\tpadding: 6px 20px;\n\tborder-radius: 18px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-bottom: 20px;\n\n\t:hover,\n\t:focus,\n\t:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t}\n"]);return F=function(){return t},t}function C(){var t=Object(u.a)(["\n\tbackground-color: ",";\n\theight: 56px;\n\tpadding: 6px 20px;\n\tborder-radius: 18px;\n\tcolor: ",";\n\tdisplay: flex;\n\talign-items: center;\n\ttransition: 0.3s ease all;\n\tjustify-content: center;\n\n\t:hover,\n\t:focus,\n\t:active {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t}\n"]);return C=function(){return t},t}function M(){var t=Object(u.a)(["\n\tfont-weight: 700;\n\tfont-size: 0.875rem;\n\tcolor: ",";\n\twhite-space: nowrap;\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 400;\n\t}\n"]);return M=function(){return t},t}function A(){var t=Object(u.a)(["\n\tfont-size: 1rem;\n\tfont-weight: 400;\n\tline-height: 19px;\n\tcolor: ",";\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n"]);return A=function(){return t},t}function D(){var t=Object(u.a)(["\n\ttext-decoration: none;\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n"]);return D=function(){return t},t}function N(){var t=Object(u.a)(["\n\tcolor: ",";\n\twidth: 100%;\n\n\t&:hover {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t}\n"]);return N=function(){return t},t}function B(){var t=Object(u.a)(["\n\tborder-radius: 12px;\n\tbackground-color: ",";\n\tpadding: 6px 20px;\n\tmax-height: 40px;\n\tmin-height: 40px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twhite-space: nowrap;\n\tfont-size: 1rem;\n\tfont-family: inherit;\n\tfont-weight: 500;\n\tborder: none;\n\toutline: none;\n\ttext-decoration: none;\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n"]);return B=function(){return t},t}function P(){var t=Object(u.a)(["\n\tfont-size: 1.25rem;\n\tfont-weight: 700;\n\tcolor: ",";\n\tmargin: 0;\n\n\t@media (max-width: 767px) {\n\t\tmargin-bottom: 30px;\n\t}\n"]);return P=function(){return t},t}function I(){var t=Object(u.a)(["\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 20px;\n\tborder: none;\n\tbackground-color: transparent;\n\n\t@media (max-width: 767px) {\n\t\tflex-direction: column;\n\t\talign-items: stretch;\n\t}\n"]);return I=function(){return t},t}var q=y.default.div(I()),L=y.default.h2(P(),(function(t){return t.theme.text1})),Y=y.default.button(B(),(function(t){return t.theme.bg2})),J=Object(y.default)(Y)(N(),(function(t){return t.theme.primary}),(function(t){return t.theme.bg2}),(function(t){return t.theme.primary})),z=Object(y.default)(v.b)(D()),H=y.default.span(A(),(function(t){return t.theme.text1})),K=y.default.span(M(),(function(t){return t.theme.text1})),V=Object(y.default)(v.b)(C(),(function(t){return t.theme.primaryLight}),(function(t){return t.theme.primary}),(function(t){return t.theme.primary}),(function(t){return t.theme.text1})),Q=Object(y.default)(v.b)(F()),R=y.default.span(_());e.default=function(t){var e=Object(w.a)().library,n=Object(o.useState)({}),a=Object(i.a)(n,2),u=a[0],d=a[1],m=Object(f.d)(),y=Object(E.a)().t,v=Object(f.e)((function(t){return t.governance})),_=v.spaces,F=v.loading,C=v.proposals,M=t.match.params.space,A=_[M];Object(o.useEffect)((function(){0===Object.keys(_).length?m(Object(j.b)()):_.hasOwnProperty(M)?m(Object(j.a)(M)):t.history.push("/tools/governance")}),[_,M,t.history,m]);var D=function(){var t=Object(c.a)(s.a.mark((function t(n,r){var a,c,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.hasOwnProperty(r)){t.next=12;break}return a={},c=n[r],t.next=5,Object(O.f)(r,A.strategies,A.network,e,Object.values(c).map((function(t){return t.address})));case 5:i=t.sent,a=Object.fromEntries(Object.entries(c).map((function(t){var e=[t[0],Object.assign({},t[1])];return e[1].score=i.reduce((function(t,n){return t+(n[e[1].address]||0)}),0),[e[0],e[1]]}))),a=Object(O.e)(a),u=Object.fromEntries(Object.entries(a).sort((function(t,e){return e[1].msg.payload.end-t[1].msg.payload.end}),0)),d(u),t.next=13;break;case 12:d({});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){D(C,M)}),[C,M]);var N={onClick:function(e,n){t.history.push("/tools/governance/".concat(M,"/proposal/").concat(n[0]))}},B=[{dataField:"asset",text:y("description"),formatter:function(t,e,n){return Object(r.jsx)(H,{children:Object(x.b)(e[1].msg.payload.name,"name")})}},{dataField:"status",text:y("status"),formatter:function(t,e){var n=(Date.now()/1e3).toFixed(),a=e[1].msg.payload,s=a.start,c=n>a.end?{title:"Closed",className:"label-light-danger",responsiveClassName:"text-danger"}:n>s?{title:"Active",className:"label-light-success",responsiveClassName:"text-success"}:{title:"Pending",className:"label-light-info",responsiveClassName:"text-info"};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"label ".concat(c.className," label-lg d-none d-lg-flex w-100 label-inline py-3"),children:c.title}),Object(r.jsx)(R,{className:"d-flex d-lg-none ".concat(c.responsiveClassName),children:c.title})]})}},{dataField:"start",text:y("startDate"),formatter:function(t,e){return Object(r.jsx)(K,{children:h()(1e3*e[1].msg.payload.start).format("YYYY/MM/DD HH:mm")})}},{dataField:"end",text:y("endDate"),formatter:function(t,e){return Object(r.jsx)(K,{children:h()(1e3*e[1].msg.payload.end).format("YYYY/MM/DD HH:mm")})}},{dataField:"author",text:y("author"),formatter:function(t,e){return Object(r.jsxs)(K,{children:[e[1].address.slice(0,6),"...",e[1].address.slice(-4)]})}}],P={dataField:"actions",text:y("table.actions"),formatter:function(t,e){return Object(r.jsx)("div",{className:"d-flex flex-column align-items-stretch align-items-lg-center justify-content-center w-100",children:Object(r.jsx)(z,{to:"/tools/governance/".concat(M,"/proposal/").concat(e[0]),children:Object(r.jsx)(J,{children:y("viewMore")})})})},isAction:!0};return Object(r.jsx)(T.a,{title:y("governance.title"),morePadding:!0,children:Object(r.jsx)(p.a,{children:Object(r.jsx)(l.a,{xs:12,children:Object(r.jsxs)(g.a,{marginTop:-30,marginBottom:0,children:[Object(r.jsxs)(q,{children:[Object(r.jsx)(L,{className:"card-title",children:y("governance.proposals")}),Object(r.jsx)(V,{to:"".concat(t.match.url,"/create"),className:"bg-light-primary d-none d-md-flex",children:y("createNew")}),Object(r.jsx)(Q,{to:"".concat(t.match.url,"/create"),className:" btn btn-primary btn-gradient-primary d-flex d-md-none",children:y("createNew")})]}),Object(r.jsx)("div",{children:F?Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center py-5 w-100",children:Object(r.jsx)(k.a,{color:"primary",width:40,height:40,active:!0,id:"proposals"})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden table-hover proposals__table",bootstrap4:!0,remote:!0,keyField:"id",columns:B,data:Object.entries(u),rowEvents:N}),Object(r.jsx)(S.a,{breakpoint:"lg",direction:"rtl",columns:B.concat(P),data:Object.entries(u),headerIndex:0})]})})]})})})})}}}]);
//# sourceMappingURL=39.cc42a76c.chunk.js.map