{"version":3,"sources":["../node_modules/uuid/dist/esm-browser/parse.js","../node_modules/uuid/dist/esm-browser/v35.js","../node_modules/uuid/dist/esm-browser/md5.js","../node_modules/uuid/dist/esm-browser/v3.js","../node_modules/uuid/dist/esm-browser/v4.js","../node_modules/uuid/dist/esm-browser/sha1.js","../node_modules/uuid/dist/esm-browser/v5.js","../node_modules/uuid/dist/esm-browser/nil.js","../node_modules/uuid/dist/esm-browser/version.js","../node_modules/bs58check/index.js","../node_modules/escape-string-regexp/index.js","../node_modules/scryptsy/lib/index.js","../node_modules/scryptsy/lib/utils.js","../node_modules/hdkey/lib/hdkey.js","../node_modules/u2f-api/dist/index.js","../node_modules/u2f-api/dist/lib/u2f-api.js","../node_modules/scryptsy/lib/scryptSync.js","../node_modules/scryptsy/lib/scrypt.js","../node_modules/bs58check/base.js","../node_modules/bs58/index.js","../node_modules/u2f-api/dist/lib/generated-google-u2f-api.js","../node_modules/u2f-api/dist/lib/types.js"],"names":["parse","uuid","validate","TypeError","v","arr","Uint8Array","parseInt","slice","name","version","hashfunc","generateUUID","value","namespace","buf","offset","str","unescape","encodeURIComponent","bytes","i","length","push","charCodeAt","stringToBytes","set","stringify","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","a","b","s","t","num","cnt","md5ff","c","d","md5gg","md5hh","md5ii","md5","v3","v35","msg","input","output","length32","hexTab","hex","charAt","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","v4","options","rnds","random","rng","f","z","ROTL","n","sha1","v5","K","H","Array","isArray","prototype","call","l","N","Math","ceil","M","_i","j","pow","floor","_i2","W","_t","e","_t2","T","substr","createHash","require","bs58checkBase","module","exports","buffer","tmp","update","digest","escapeStringRegexp","string","replace","scrypt","async","crypto","MAX_VALUE","B","Bi","r","V","XY","_X","B32","tickCallback","promiseInterval","Xi","Yi","copy","Promise","resolve","setImmediate","blockmix_salsa8","readUInt32LE","blockxor","BY","arraycopy","salsa20_8","R","bi","S","Si","D","Di","src","srcPos","dest","destPos","Buffer","isBuffer","checkAndInit","key","salt","p","dkLen","progressCallback","Error","alloc","Int32Array","pbkdf2Sync","totalOps","currentOp","current","total","percent","smix","smixSync","assert","bs58check","secp256k1","MASTER_SECRET","from","HARDENED_OFFSET","BITCOIN_VERSIONS","private","public","HDKey","versions","this","depth","index","_privateKey","_publicKey","chainCode","_fingerprint","parentFingerprint","serialize","hdkey","allocUnsafe","writeUInt32BE","writeUInt8","fingerprint","hash160","sha","Object","defineProperty","get","_identifier","identifier","equal","privateKeyVerify","publicKeyCreate","publicKey","readUInt32BE","publicKeyVerify","publicKeyConvert","encode","concat","privateKey","derive","path","entries","split","forEach","hardened","childIndex","deriveChild","test","data","isHardened","indexBuffer","pk","zb","I","createHmac","IL","IR","hd","privateKeyTweakAdd","publicKeyTweakAdd","sign","hash","ecdsaSign","signature","verify","ecdsaVerify","wipePrivateData","randomBytes","toJSON","xpriv","privateExtendedKey","xpub","publicExtendedKey","fromMasterSeed","seedBuffer","fromExtendedKey","base58key","keyBuffer","decode","readUInt8","fromJSON","obj","__createBinding","create","o","m","k","k2","undefined","enumerable","__exportStar","hasOwnProperty","u2fApi","default","register","ensureSupport","isSupported","ErrorNames","ErrorCodes","generated_google_u2f_api_1","types_1","isBrowser","navigator","userAgent","isSafari","match","isSupportedSafari","isEDGE","isIE","_backend","getBackend","supportChecker","reject","notSupported","u2f","window","location","protocol","MessageChannel","chromeApi","ok","then","response","_ensureSupport","backend","arrayify","registerRequests","signRequests","timeout","_registerRequests","_signRequests","appId","errorCode","makeError","challenge","registeredKeys","map","keyHandle","base58","checksumFn","decodeRaw","payload","checksum","newChecksum","decodeUnsafe","basex","js_api_version","EXTENSION_ID","MessageTypes","U2fRequest","U2fResponse","Transport","Transports","SignRequest","SignResponse","RegisterRequest","RegisterResponse","RegisteredKey","GetJsApiVersionResponse","getMessagePort","callback","chrome","runtime","type","U2F_SIGN_REQUEST","sendMessage","lastError","getIframePort_","getChromeRuntimePort_","isAndroidChrome_","getAuthenticatorPort_","isIosChrome_","getIosPort_","indexOf","platform","port","connect","setTimeout","WrappedChromeRuntimePort_","WrappedAuthenticatorPort_","WrappedIosPort_","port_","formatSignRequest_","timeoutSeconds","reqId","requestId","formatRegisterRequest_","U2F_REGISTER_REQUEST","postMessage","message","addEventListener","eventName","handler","toLowerCase","onMessage","addListener","console","error","requestId_","requestObject_","intentUrl","INTENT_URL_BASE_","JSON","document","getPortType","onRequestUpdate_","bind","messageObject","responseObject","url","encodeURI","iframeOrigin","iframe","createElement","setAttribute","body","appendChild","channel","port1","ready","removeEventListener","start","contentWindow","port2","EXTENSION_TIMEOUT_SEC","waitingForPort_","reqCounter_","callbackMap_","getPortSingleton_","responseHandler_","shift","cb","hasCalledBack","reply","getApiVersion","opt_timeoutSeconds","log","sendSignRequest","req","sendRegisterRequest","apiVersion","U2F_GET_API_VERSION_REQUEST","OK","OTHER_ERROR","BAD_REQUEST","CONFIGURATION_UNSUPPORTED","DEVICE_INELIGIBLE","TIMEOUT","code","metaData"],"mappings":"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","file":"static/js/6.e463dfe7.chunk.js","sourcesContent":["import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","'use strict'\n\nvar createHash = require('create-hash')\nvar bs58checkBase = require('./base')\n\n// SHA256(SHA256(buffer))\nfunction sha256x2 (buffer) {\n  var tmp = createHash('sha256').update(buffer).digest()\n  return createHash('sha256').update(tmp).digest()\n}\n\nmodule.exports = bs58checkBase(sha256x2)\n","export default function escapeStringRegexp(string) {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when its always valid, and a `\\xnn` escape when the simpler form would be disallowed by Unicode patterns stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n}\n","const scrypt = require('./scryptSync')\nscrypt.async = require('./scrypt')\nmodule.exports = scrypt\n","const crypto = require('crypto')\nconst MAX_VALUE = 0x7fffffff\nconst DEFAULT_PROMISE_INTERVAL = 5000\n/* eslint-disable camelcase */\n\nfunction checkAndInit (key, salt, N, r, p, dkLen, progressCallback) {\n  if (N === 0 || (N & (N - 1)) !== 0) throw Error('N must be > 0 and a power of 2')\n\n  if (N > MAX_VALUE / 128 / r) throw Error('Parameter N is too large')\n  if (r > MAX_VALUE / 128 / p) throw Error('Parameter r is too large')\n\n  let XY = Buffer.alloc(256 * r)\n  let V = Buffer.alloc(128 * r * N)\n\n  // pseudo global\n  let B32 = new Int32Array(16) // salsa20_8\n  let x = new Int32Array(16) // salsa20_8\n  let _X = Buffer.alloc(64) // blockmix_salsa8\n\n  // pseudo global\n  let B = crypto.pbkdf2Sync(key, salt, 1, p * 128 * r, 'sha256')\n\n  let tickCallback\n  if (progressCallback) {\n    let totalOps = p * N * 2\n    let currentOp = 0\n\n    tickCallback = function () {\n      ++currentOp\n\n      // send progress notifications once every 1,000 ops\n      if (currentOp % 1000 === 0) {\n        progressCallback({\n          current: currentOp,\n          total: totalOps,\n          percent: (currentOp / totalOps) * 100.0\n        })\n      }\n    }\n  }\n  return {\n    XY,\n    V,\n    B32,\n    x,\n    _X,\n    B,\n    tickCallback\n  }\n}\n\nasync function smix (B, Bi, r, N, V, XY, _X, B32, x, tickCallback, promiseInterval) {\n  promiseInterval = promiseInterval || DEFAULT_PROMISE_INTERVAL\n  let Xi = 0\n  let Yi = 128 * r\n  let i\n\n  B.copy(XY, Xi, Bi, Bi + Yi)\n\n  for (i = 0; i < N; i++) {\n    XY.copy(V, i * Yi, Xi, Xi + Yi)\n    if (i % promiseInterval === 0) {\n      await new Promise(resolve => setImmediate(resolve))\n    }\n    blockmix_salsa8(XY, Xi, Yi, r, _X, B32, x)\n\n    if (tickCallback) tickCallback()\n  }\n\n  for (i = 0; i < N; i++) {\n    let offset = Xi + (2 * r - 1) * 64\n    let j = XY.readUInt32LE(offset) & (N - 1)\n    blockxor(V, j * Yi, XY, Xi, Yi)\n    if (i % promiseInterval === 0) {\n      await new Promise(resolve => setImmediate(resolve))\n    }\n    blockmix_salsa8(XY, Xi, Yi, r, _X, B32, x)\n\n    if (tickCallback) tickCallback()\n  }\n\n  XY.copy(B, Bi, Xi, Xi + Yi)\n}\n\nfunction smixSync (B, Bi, r, N, V, XY, _X, B32, x, tickCallback) {\n  let Xi = 0\n  let Yi = 128 * r\n  let i\n\n  B.copy(XY, Xi, Bi, Bi + Yi)\n\n  for (i = 0; i < N; i++) {\n    XY.copy(V, i * Yi, Xi, Xi + Yi)\n    blockmix_salsa8(XY, Xi, Yi, r, _X, B32, x)\n\n    if (tickCallback) tickCallback()\n  }\n\n  for (i = 0; i < N; i++) {\n    let offset = Xi + (2 * r - 1) * 64\n    let j = XY.readUInt32LE(offset) & (N - 1)\n    blockxor(V, j * Yi, XY, Xi, Yi)\n    blockmix_salsa8(XY, Xi, Yi, r, _X, B32, x)\n\n    if (tickCallback) tickCallback()\n  }\n\n  XY.copy(B, Bi, Xi, Xi + Yi)\n}\n\nfunction blockmix_salsa8 (BY, Bi, Yi, r, _X, B32, x) {\n  let i\n\n  arraycopy(BY, Bi + (2 * r - 1) * 64, _X, 0, 64)\n\n  for (i = 0; i < 2 * r; i++) {\n    blockxor(BY, i * 64, _X, 0, 64)\n    salsa20_8(_X, B32, x)\n    arraycopy(_X, 0, BY, Yi + (i * 64), 64)\n  }\n\n  for (i = 0; i < r; i++) {\n    arraycopy(BY, Yi + (i * 2) * 64, BY, Bi + (i * 64), 64)\n  }\n\n  for (i = 0; i < r; i++) {\n    arraycopy(BY, Yi + (i * 2 + 1) * 64, BY, Bi + (i + r) * 64, 64)\n  }\n}\n\nfunction R (a, b) {\n  return (a << b) | (a >>> (32 - b))\n}\n\nfunction salsa20_8 (B, B32, x) {\n  let i\n\n  for (i = 0; i < 16; i++) {\n    B32[i] = (B[i * 4 + 0] & 0xff) << 0\n    B32[i] |= (B[i * 4 + 1] & 0xff) << 8\n    B32[i] |= (B[i * 4 + 2] & 0xff) << 16\n    B32[i] |= (B[i * 4 + 3] & 0xff) << 24\n    // B32[i] = B.readUInt32LE(i*4)   <--- this is signficantly slower even in Node.js\n  }\n\n  arraycopy(B32, 0, x, 0, 16)\n\n  for (i = 8; i > 0; i -= 2) {\n    x[4] ^= R(x[0] + x[12], 7)\n    x[8] ^= R(x[4] + x[0], 9)\n    x[12] ^= R(x[8] + x[4], 13)\n    x[0] ^= R(x[12] + x[8], 18)\n    x[9] ^= R(x[5] + x[1], 7)\n    x[13] ^= R(x[9] + x[5], 9)\n    x[1] ^= R(x[13] + x[9], 13)\n    x[5] ^= R(x[1] + x[13], 18)\n    x[14] ^= R(x[10] + x[6], 7)\n    x[2] ^= R(x[14] + x[10], 9)\n    x[6] ^= R(x[2] + x[14], 13)\n    x[10] ^= R(x[6] + x[2], 18)\n    x[3] ^= R(x[15] + x[11], 7)\n    x[7] ^= R(x[3] + x[15], 9)\n    x[11] ^= R(x[7] + x[3], 13)\n    x[15] ^= R(x[11] + x[7], 18)\n    x[1] ^= R(x[0] + x[3], 7)\n    x[2] ^= R(x[1] + x[0], 9)\n    x[3] ^= R(x[2] + x[1], 13)\n    x[0] ^= R(x[3] + x[2], 18)\n    x[6] ^= R(x[5] + x[4], 7)\n    x[7] ^= R(x[6] + x[5], 9)\n    x[4] ^= R(x[7] + x[6], 13)\n    x[5] ^= R(x[4] + x[7], 18)\n    x[11] ^= R(x[10] + x[9], 7)\n    x[8] ^= R(x[11] + x[10], 9)\n    x[9] ^= R(x[8] + x[11], 13)\n    x[10] ^= R(x[9] + x[8], 18)\n    x[12] ^= R(x[15] + x[14], 7)\n    x[13] ^= R(x[12] + x[15], 9)\n    x[14] ^= R(x[13] + x[12], 13)\n    x[15] ^= R(x[14] + x[13], 18)\n  }\n\n  for (i = 0; i < 16; ++i) B32[i] = x[i] + B32[i]\n\n  for (i = 0; i < 16; i++) {\n    let bi = i * 4\n    B[bi + 0] = (B32[i] >> 0 & 0xff)\n    B[bi + 1] = (B32[i] >> 8 & 0xff)\n    B[bi + 2] = (B32[i] >> 16 & 0xff)\n    B[bi + 3] = (B32[i] >> 24 & 0xff)\n    // B.writeInt32LE(B32[i], i*4)  //<--- this is signficantly slower even in Node.js\n  }\n}\n\n// naive approach... going back to loop unrolling may yield additional performance\nfunction blockxor (S, Si, D, Di, len) {\n  for (let i = 0; i < len; i++) {\n    D[Di + i] ^= S[Si + i]\n  }\n}\n\nfunction arraycopy (src, srcPos, dest, destPos, length) {\n  if (Buffer.isBuffer(src) && Buffer.isBuffer(dest)) {\n    src.copy(dest, destPos, srcPos, srcPos + length)\n  } else {\n    while (length--) {\n      dest[destPos++] = src[srcPos++]\n    }\n  }\n}\n\nmodule.exports = {\n  checkAndInit,\n  smix,\n  smixSync\n}\n","var assert = require('assert')\nvar Buffer = require('safe-buffer').Buffer\nvar crypto = require('crypto')\nvar bs58check = require('bs58check')\nvar secp256k1 = require('secp256k1')\n\nvar MASTER_SECRET = Buffer.from('Bitcoin seed', 'utf8')\nvar HARDENED_OFFSET = 0x80000000\nvar LEN = 78\n\n// Bitcoin hardcoded by default, can use package `coininfo` for others\nvar BITCOIN_VERSIONS = {private: 0x0488ADE4, public: 0x0488B21E}\n\nfunction HDKey (versions) {\n  this.versions = versions || BITCOIN_VERSIONS\n  this.depth = 0\n  this.index = 0\n  this._privateKey = null\n  this._publicKey = null\n  this.chainCode = null\n  this._fingerprint = 0\n  this.parentFingerprint = 0\n}\n\nObject.defineProperty(HDKey.prototype, 'fingerprint', { get: function () { return this._fingerprint } })\nObject.defineProperty(HDKey.prototype, 'identifier', { get: function () { return this._identifier } })\nObject.defineProperty(HDKey.prototype, 'pubKeyHash', { get: function () { return this.identifier } })\n\nObject.defineProperty(HDKey.prototype, 'privateKey', {\n  get: function () {\n    return this._privateKey\n  },\n  set: function (value) {\n    assert.equal(value.length, 32, 'Private key must be 32 bytes.')\n    assert(secp256k1.privateKeyVerify(value) === true, 'Invalid private key')\n\n    this._privateKey = value\n    this._publicKey = Buffer.from(secp256k1.publicKeyCreate(value, true))\n    this._identifier = hash160(this.publicKey)\n    this._fingerprint = this._identifier.slice(0, 4).readUInt32BE(0)\n  }\n})\n\nObject.defineProperty(HDKey.prototype, 'publicKey', {\n  get: function () {\n    return this._publicKey\n  },\n  set: function (value) {\n    assert(value.length === 33 || value.length === 65, 'Public key must be 33 or 65 bytes.')\n    assert(secp256k1.publicKeyVerify(value) === true, 'Invalid public key')\n\n    this._publicKey = Buffer.from(secp256k1.publicKeyConvert(value, true)) // force compressed point\n    this._identifier = hash160(this.publicKey)\n    this._fingerprint = this._identifier.slice(0, 4).readUInt32BE(0)\n    this._privateKey = null\n  }\n})\n\nObject.defineProperty(HDKey.prototype, 'privateExtendedKey', {\n  get: function () {\n    if (this._privateKey) return bs58check.encode(serialize(this, this.versions.private, Buffer.concat([Buffer.alloc(1, 0), this.privateKey])))\n    else return null\n  }\n})\n\nObject.defineProperty(HDKey.prototype, 'publicExtendedKey', {\n  get: function () {\n    return bs58check.encode(serialize(this, this.versions.public, this.publicKey))\n  }\n})\n\nHDKey.prototype.derive = function (path) {\n  if (path === 'm' || path === 'M' || path === \"m'\" || path === \"M'\") {\n    return this\n  }\n\n  var entries = path.split('/')\n  var hdkey = this\n  entries.forEach(function (c, i) {\n    if (i === 0) {\n      assert(/^[mM]{1}/.test(c), 'Path must start with \"m\" or \"M\"')\n      return\n    }\n\n    var hardened = (c.length > 1) && (c[c.length - 1] === \"'\")\n    var childIndex = parseInt(c, 10) // & (HARDENED_OFFSET - 1)\n    assert(childIndex < HARDENED_OFFSET, 'Invalid index')\n    if (hardened) childIndex += HARDENED_OFFSET\n\n    hdkey = hdkey.deriveChild(childIndex)\n  })\n\n  return hdkey\n}\n\nHDKey.prototype.deriveChild = function (index) {\n  var isHardened = index >= HARDENED_OFFSET\n  var indexBuffer = Buffer.allocUnsafe(4)\n  indexBuffer.writeUInt32BE(index, 0)\n\n  var data\n\n  if (isHardened) { // Hardened child\n    assert(this.privateKey, 'Could not derive hardened child key')\n\n    var pk = this.privateKey\n    var zb = Buffer.alloc(1, 0)\n    pk = Buffer.concat([zb, pk])\n\n    // data = 0x00 || ser256(kpar) || ser32(index)\n    data = Buffer.concat([pk, indexBuffer])\n  } else { // Normal child\n    // data = serP(point(kpar)) || ser32(index)\n    //      = serP(Kpar) || ser32(index)\n    data = Buffer.concat([this.publicKey, indexBuffer])\n  }\n\n  var I = crypto.createHmac('sha512', this.chainCode).update(data).digest()\n  var IL = I.slice(0, 32)\n  var IR = I.slice(32)\n\n  var hd = new HDKey(this.versions)\n\n  // Private parent key -> private child key\n  if (this.privateKey) {\n    // ki = parse256(IL) + kpar (mod n)\n    try {\n      hd.privateKey = Buffer.from(secp256k1.privateKeyTweakAdd(Buffer.from(this.privateKey), IL))\n      // throw if IL >= n || (privateKey + IL) === 0\n    } catch (err) {\n      // In case parse256(IL) >= n or ki == 0, one should proceed with the next value for i\n      return this.deriveChild(index + 1)\n    }\n  // Public parent key -> public child key\n  } else {\n    // Ki = point(parse256(IL)) + Kpar\n    //    = G*IL + Kpar\n    try {\n      hd.publicKey = Buffer.from(secp256k1.publicKeyTweakAdd(Buffer.from(this.publicKey), IL, true))\n      // throw if IL >= n || (g**IL + publicKey) is infinity\n    } catch (err) {\n      // In case parse256(IL) >= n or Ki is the point at infinity, one should proceed with the next value for i\n      return this.deriveChild(index + 1)\n    }\n  }\n\n  hd.chainCode = IR\n  hd.depth = this.depth + 1\n  hd.parentFingerprint = this.fingerprint// .readUInt32BE(0)\n  hd.index = index\n\n  return hd\n}\n\nHDKey.prototype.sign = function (hash) {\n  return Buffer.from(secp256k1.ecdsaSign(hash, this.privateKey).signature)\n}\n\nHDKey.prototype.verify = function (hash, signature) {\n  return secp256k1.ecdsaVerify(\n    Uint8Array.from(signature),\n    Uint8Array.from(hash),\n    Uint8Array.from(this.publicKey)\n  )\n}\n\nHDKey.prototype.wipePrivateData = function () {\n  if (this._privateKey) crypto.randomBytes(this._privateKey.length).copy(this._privateKey)\n  this._privateKey = null\n  return this\n}\n\nHDKey.prototype.toJSON = function () {\n  return {\n    xpriv: this.privateExtendedKey,\n    xpub: this.publicExtendedKey\n  }\n}\n\nHDKey.fromMasterSeed = function (seedBuffer, versions) {\n  var I = crypto.createHmac('sha512', MASTER_SECRET).update(seedBuffer).digest()\n  var IL = I.slice(0, 32)\n  var IR = I.slice(32)\n\n  var hdkey = new HDKey(versions)\n  hdkey.chainCode = IR\n  hdkey.privateKey = IL\n\n  return hdkey\n}\n\nHDKey.fromExtendedKey = function (base58key, versions) {\n  // => version(4) || depth(1) || fingerprint(4) || index(4) || chain(32) || key(33)\n  versions = versions || BITCOIN_VERSIONS\n  var hdkey = new HDKey(versions)\n\n  var keyBuffer = bs58check.decode(base58key)\n\n  var version = keyBuffer.readUInt32BE(0)\n  assert(version === versions.private || version === versions.public, 'Version mismatch: does not match private or public')\n\n  hdkey.depth = keyBuffer.readUInt8(4)\n  hdkey.parentFingerprint = keyBuffer.readUInt32BE(5)\n  hdkey.index = keyBuffer.readUInt32BE(9)\n  hdkey.chainCode = keyBuffer.slice(13, 45)\n\n  var key = keyBuffer.slice(45)\n  if (key.readUInt8(0) === 0) { // private\n    assert(version === versions.private, 'Version mismatch: version does not match private')\n    hdkey.privateKey = key.slice(1) // cut off first 0x0 byte\n  } else {\n    assert(version === versions.public, 'Version mismatch: version does not match public')\n    hdkey.publicKey = key\n  }\n\n  return hdkey\n}\n\nHDKey.fromJSON = function (obj) {\n  return HDKey.fromExtendedKey(obj.xpriv)\n}\n\nfunction serialize (hdkey, version, key) {\n  // => version(4) || depth(1) || fingerprint(4) || index(4) || chain(32) || key(33)\n  var buffer = Buffer.allocUnsafe(LEN)\n\n  buffer.writeUInt32BE(version, 0)\n  buffer.writeUInt8(hdkey.depth, 4)\n\n  var fingerprint = hdkey.depth ? hdkey.parentFingerprint : 0x00000000\n  buffer.writeUInt32BE(fingerprint, 5)\n  buffer.writeUInt32BE(hdkey.index, 9)\n\n  hdkey.chainCode.copy(buffer, 13)\n  key.copy(buffer, 45)\n\n  return buffer\n}\n\nfunction hash160 (buf) {\n  var sha = crypto.createHash('sha256').update(buf).digest()\n  return crypto.createHash('ripemd160').update(sha).digest()\n}\n\nHDKey.HARDENED_OFFSET = HARDENED_OFFSET\nmodule.exports = HDKey\n","'use strict';\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst u2fApi = require(\"./lib/u2f-api\");\n__exportStar(require(\"./lib/u2f-api\"), exports);\nexports.default = u2fApi;\n","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sign = exports.register = exports.ensureSupport = exports.isSupported = exports.ErrorNames = exports.ErrorCodes = void 0;\n// @ts-ignore\nconst generated_google_u2f_api_1 = require(\"./generated-google-u2f-api\");\nconst types_1 = require(\"./types\");\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return types_1.ErrorCodes; } });\nObject.defineProperty(exports, \"ErrorNames\", { enumerable: true, get: function () { return types_1.ErrorNames; } });\n// Feature detection (yes really)\n// For IE and Edge detection, see https://stackoverflow.com/questions/31757852#31757969\n// and https://stackoverflow.com/questions/56360225#56361977\nconst isBrowser = (typeof navigator !== 'undefined') && !!navigator.userAgent;\nconst isSafari = isBrowser\n    && navigator.userAgent.match(/Safari\\//)\n    && !navigator.userAgent.match(/Chrome\\//);\nconst isSupportedSafari = isBrowser\n    && navigator.userAgent.match(/Safari\\/(1[3456789])/)\n    && !navigator.userAgent.match(/Chrome\\//);\nconst isEDGE = isBrowser && /(Edge\\/)|(edg\\/)/i.test(navigator.userAgent);\nconst isIE = isBrowser && /(MSIE 9|MSIE 10|rv:11.0)/i.test(navigator.userAgent);\nvar _backend = null;\nfunction getBackend() {\n    if (_backend)\n        return _backend;\n    const supportChecker = new Promise(function (resolve, reject) {\n        function notSupported() {\n            resolve({ u2f: null });\n        }\n        if (!isBrowser)\n            return notSupported();\n        if (isSafari && !isSupportedSafari)\n            // Safari doesn't support U2F, and the Safari-FIDO-U2F\n            // extension lacks full support (Multi-facet apps), so we\n            // block it until proper support.\n            return notSupported();\n        const hasNativeSupport = (typeof window.u2f !== 'undefined') &&\n            (typeof window.u2f.sign === 'function');\n        if (hasNativeSupport)\n            return resolve({ u2f: window.u2f });\n        if (isEDGE || isIE)\n            // We don't want to check for Google's extension hack on EDGE & IE\n            // as it'll cause trouble (popups, etc)\n            return notSupported();\n        if (location.protocol === 'http:')\n            // U2F isn't supported over http, only https\n            return notSupported();\n        if (typeof MessageChannel === 'undefined')\n            // Unsupported browser, the chrome hack would throw\n            return notSupported();\n        // Test for google extension support\n        generated_google_u2f_api_1.chromeApi.isSupported(function (ok) {\n            if (ok)\n                resolve({ u2f: generated_google_u2f_api_1.chromeApi });\n            else\n                notSupported();\n        });\n    })\n        .then(function (response) {\n        _backend = response.u2f ? supportChecker : null;\n        return response;\n    });\n    return supportChecker;\n}\nfunction isSupported() {\n    return getBackend()\n        .then(backend => !!backend.u2f);\n}\nexports.isSupported = isSupported;\nfunction _ensureSupport(backend) {\n    if (!backend.u2f) {\n        if (location.protocol === 'http:')\n            throw new Error(\"U2F isn't supported over http, only https\");\n        throw new Error(\"U2F not supported\");\n    }\n}\nfunction ensureSupport() {\n    return getBackend()\n        .then(_ensureSupport);\n}\nexports.ensureSupport = ensureSupport;\nfunction arrayify(value) {\n    if (value != null && Array.isArray(value))\n        return value;\n    return value == null\n        ? []\n        : Array.isArray(value)\n            ? [...value]\n            : [value];\n}\nfunction register(registerRequests, signRequests, timeout) {\n    const _registerRequests = arrayify(registerRequests);\n    if (typeof signRequests === 'number' && typeof timeout === 'undefined') {\n        timeout = signRequests;\n        signRequests = [];\n    }\n    const _signRequests = arrayify(signRequests);\n    return getBackend()\n        .then(function (backend) {\n        _ensureSupport(backend);\n        const { u2f } = backend;\n        return new Promise(function (resolve, reject) {\n            function callback(response) {\n                if (response.errorCode)\n                    reject(types_1.makeError(\"Registration failed\", response));\n                else {\n                    delete response.errorCode;\n                    resolve(response);\n                }\n            }\n            const appId = _registerRequests[0].appId;\n            u2f.register(appId, _registerRequests, _signRequests, callback, timeout);\n        });\n    });\n}\nexports.register = register;\nfunction sign(signRequests, timeout) {\n    const _signRequests = arrayify(signRequests);\n    return getBackend()\n        .then(function (backend) {\n        _ensureSupport(backend);\n        const { u2f } = backend;\n        return new Promise(function (resolve, reject) {\n            function callback(response) {\n                if (response.errorCode)\n                    reject(types_1.makeError(\"Sign failed\", response));\n                else {\n                    delete response.errorCode;\n                    resolve(response);\n                }\n            }\n            const appId = _signRequests[0].appId;\n            const challenge = _signRequests[0].challenge;\n            const registeredKeys = [].concat(..._signRequests\n                .map(({ version, keyHandle, appId }) => arrayify(keyHandle)\n                .map(keyHandle => ({ version, keyHandle, appId }))));\n            u2f.sign(appId, challenge, registeredKeys, callback, timeout);\n        });\n    });\n}\nexports.sign = sign;\n","const crypto = require('crypto')\nconst {\n  checkAndInit,\n  smixSync\n} = require('./utils')\n\n// N = Cpu cost, r = Memory cost, p = parallelization cost\nfunction scrypt (key, salt, N, r, p, dkLen, progressCallback) {\n  const {\n    XY,\n    V,\n    B32,\n    x,\n    _X,\n    B,\n    tickCallback\n  } = checkAndInit(key, salt, N, r, p, dkLen, progressCallback)\n\n  for (var i = 0; i < p; i++) {\n    smixSync(B, i * 128 * r, r, N, V, XY, _X, B32, x, tickCallback)\n  }\n\n  return crypto.pbkdf2Sync(key, B, 1, dkLen, 'sha256')\n}\n\nmodule.exports = scrypt\n","const crypto = require('crypto')\nconst {\n  checkAndInit,\n  smix\n} = require('./utils')\n\n// N = Cpu cost, r = Memory cost, p = parallelization cost\nasync function scrypt (key, salt, N, r, p, dkLen, progressCallback, promiseInterval) {\n  const {\n    XY,\n    V,\n    B32,\n    x,\n    _X,\n    B,\n    tickCallback\n  } = checkAndInit(key, salt, N, r, p, dkLen, progressCallback)\n\n  for (var i = 0; i < p; i++) {\n    await smix(B, i * 128 * r, r, N, V, XY, _X, B32, x, tickCallback, promiseInterval)\n  }\n\n  return crypto.pbkdf2Sync(key, B, 1, dkLen, 'sha256')\n}\n\nmodule.exports = scrypt\n","'use strict'\n\nvar base58 = require('bs58')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function (checksumFn) {\n  // Encode a buffer as a base58-check encoded string\n  function encode (payload) {\n    var checksum = checksumFn(payload)\n\n    return base58.encode(Buffer.concat([\n      payload,\n      checksum\n    ], payload.length + 4))\n  }\n\n  function decodeRaw (buffer) {\n    var payload = buffer.slice(0, -4)\n    var checksum = buffer.slice(-4)\n    var newChecksum = checksumFn(payload)\n\n    if (checksum[0] ^ newChecksum[0] |\n        checksum[1] ^ newChecksum[1] |\n        checksum[2] ^ newChecksum[2] |\n        checksum[3] ^ newChecksum[3]) return\n\n    return payload\n  }\n\n  // Decode a base58-check encoded string to a buffer, no result if checksum is wrong\n  function decodeUnsafe (string) {\n    var buffer = base58.decodeUnsafe(string)\n    if (!buffer) return\n\n    return decodeRaw(buffer)\n  }\n\n  function decode (string) {\n    var buffer = base58.decode(string)\n    var payload = decodeRaw(buffer, checksumFn)\n    if (!payload) throw new Error('Invalid checksum')\n    return payload\n  }\n\n  return {\n    encode: encode,\n    decode: decode,\n    decodeUnsafe: decodeUnsafe\n  }\n}\n","var basex = require('base-x')\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n","//Copyright 2014-2015 Google Inc. All rights reserved.\n\n//Use of this source code is governed by a BSD-style\n//license that can be found in the LICENSE file or at\n//https://developers.google.com/open-source/licenses/bsd\n\n/**\n * @fileoverview The U2F api.\n */\n// 'use strict';\n\n\n/**\n * Namespace for the U2F api.\n * @type {Object}\n */\nvar u2f = u2f || {};\n\nmodule.exports.chromeApi = u2f; // Adaptation for u2f-api package\n\n/**\n * FIDO U2F Javascript API Version\n * @number\n */\nvar js_api_version;\n\n/**\n * The U2F extension id\n * @const {string}\n */\n// The Chrome packaged app extension ID.\n// Uncomment this if you want to deploy a server instance that uses\n// the package Chrome app and does not require installing the U2F Chrome extension.\n u2f.EXTENSION_ID = 'kmendfapggjehodndflmmgagdbamhnfd';\n// The U2F Chrome extension ID.\n// Uncomment this if you want to deploy a server instance that uses\n// the U2F Chrome extension to authenticate.\n// u2f.EXTENSION_ID = 'pfboblefjcgdjicmnffhdgionmgcdmne';\n\n\n/**\n * Message types for messsages to/from the extension\n * @const\n * @enum {string}\n */\nu2f.MessageTypes = {\n    'U2F_REGISTER_REQUEST': 'u2f_register_request',\n    'U2F_REGISTER_RESPONSE': 'u2f_register_response',\n    'U2F_SIGN_REQUEST': 'u2f_sign_request',\n    'U2F_SIGN_RESPONSE': 'u2f_sign_response',\n    'U2F_GET_API_VERSION_REQUEST': 'u2f_get_api_version_request',\n    'U2F_GET_API_VERSION_RESPONSE': 'u2f_get_api_version_response'\n};\n\n\n/**\n * Response status codes\n * @const\n * @enum {number}\n */\nu2f.ErrorCodes = {\n    'OK': 0,\n    'OTHER_ERROR': 1,\n    'BAD_REQUEST': 2,\n    'CONFIGURATION_UNSUPPORTED': 3,\n    'DEVICE_INELIGIBLE': 4,\n    'TIMEOUT': 5\n};\n\n\n/**\n * A message for registration requests\n * @typedef {{\n *   type: u2f.MessageTypes,\n *   appId: ?string,\n *   timeoutSeconds: ?number,\n *   requestId: ?number\n * }}\n */\nu2f.U2fRequest;\n\n\n/**\n * A message for registration responses\n * @typedef {{\n *   type: u2f.MessageTypes,\n *   responseData: (u2f.Error | u2f.RegisterResponse | u2f.SignResponse),\n *   requestId: ?number\n * }}\n */\nu2f.U2fResponse;\n\n\n/**\n * An error object for responses\n * @typedef {{\n *   errorCode: u2f.ErrorCodes,\n *   errorMessage: ?string\n * }}\n */\nu2f.Error;\n\n/**\n * Data object for a single sign request.\n * @typedef {enum {BLUETOOTH_RADIO, BLUETOOTH_LOW_ENERGY, USB, NFC, USB_INTERNAL}}\n */\nu2f.Transport;\n\n\n/**\n * Data object for a single sign request.\n * @typedef {Array<u2f.Transport>}\n */\nu2f.Transports;\n\n/**\n * Data object for a single sign request.\n * @typedef {{\n *   version: string,\n *   challenge: string,\n *   keyHandle: string,\n *   appId: string\n * }}\n */\nu2f.SignRequest;\n\n\n/**\n * Data object for a sign response.\n * @typedef {{\n *   keyHandle: string,\n *   signatureData: string,\n *   clientData: string\n * }}\n */\nu2f.SignResponse;\n\n\n/**\n * Data object for a registration request.\n * @typedef {{\n *   version: string,\n *   challenge: string\n * }}\n */\nu2f.RegisterRequest;\n\n\n/**\n * Data object for a registration response.\n * @typedef {{\n *   version: string,\n *   keyHandle: string,\n *   transports: Transports,\n *   appId: string\n * }}\n */\nu2f.RegisterResponse;\n\n\n/**\n * Data object for a registered key.\n * @typedef {{\n *   version: string,\n *   keyHandle: string,\n *   transports: ?Transports,\n *   appId: ?string\n * }}\n */\nu2f.RegisteredKey;\n\n\n/**\n * Data object for a get API register response.\n * @typedef {{\n *   js_api_version: number\n * }}\n */\nu2f.GetJsApiVersionResponse;\n\n\n//Low level MessagePort API support\n\n/**\n * Sets up a MessagePort to the U2F extension using the\n * available mechanisms.\n * @param {function((MessagePort|u2f.WrappedChromeRuntimePort_))} callback\n */\nu2f.getMessagePort = function(callback) {\n  if (typeof chrome != 'undefined' && chrome.runtime) {\n    // The actual message here does not matter, but we need to get a reply\n    // for the callback to run. Thus, send an empty signature request\n    // in order to get a failure response.\n    var msg = {\n        type: u2f.MessageTypes.U2F_SIGN_REQUEST,\n        signRequests: []\n    };\n    chrome.runtime.sendMessage(u2f.EXTENSION_ID, msg, function() {\n      if (!chrome.runtime.lastError) {\n        // We are on a whitelisted origin and can talk directly\n        // with the extension.\n        u2f.getChromeRuntimePort_(callback);\n      } else {\n        // chrome.runtime was available, but we couldn't message\n        // the extension directly, use iframe\n        u2f.getIframePort_(callback);\n      }\n    });\n  } else if (u2f.isAndroidChrome_()) {\n    u2f.getAuthenticatorPort_(callback);\n  } else if (u2f.isIosChrome_()) {\n    u2f.getIosPort_(callback);\n  } else {\n    // chrome.runtime was not available at all, which is normal\n    // when this origin doesn't have access to any extensions.\n    u2f.getIframePort_(callback);\n  }\n};\n\n/**\n * Detect chrome running on android based on the browser's useragent.\n * @private\n */\nu2f.isAndroidChrome_ = function() {\n  var userAgent = navigator.userAgent;\n  return userAgent.indexOf('Chrome') != -1 &&\n  userAgent.indexOf('Android') != -1;\n};\n\n/**\n * Detect chrome running on iOS based on the browser's platform.\n * @private\n */\nu2f.isIosChrome_ = function() {\n  return [\"iPhone\", \"iPad\", \"iPod\"].indexOf(navigator.platform) > -1;\n};\n\n/**\n * Connects directly to the extension via chrome.runtime.connect.\n * @param {function(u2f.WrappedChromeRuntimePort_)} callback\n * @private\n */\nu2f.getChromeRuntimePort_ = function(callback) {\n  var port = chrome.runtime.connect(u2f.EXTENSION_ID,\n      {'includeTlsChannelId': true});\n  setTimeout(function() {\n    callback(new u2f.WrappedChromeRuntimePort_(port));\n  }, 0);\n};\n\n/**\n * Return a 'port' abstraction to the Authenticator app.\n * @param {function(u2f.WrappedAuthenticatorPort_)} callback\n * @private\n */\nu2f.getAuthenticatorPort_ = function(callback) {\n  setTimeout(function() {\n    callback(new u2f.WrappedAuthenticatorPort_());\n  }, 0);\n};\n\n/**\n * Return a 'port' abstraction to the iOS client app.\n * @param {function(u2f.WrappedIosPort_)} callback\n * @private\n */\nu2f.getIosPort_ = function(callback) {\n  setTimeout(function() {\n    callback(new u2f.WrappedIosPort_());\n  }, 0);\n};\n\n/**\n * A wrapper for chrome.runtime.Port that is compatible with MessagePort.\n * @param {Port} port\n * @constructor\n * @private\n */\nu2f.WrappedChromeRuntimePort_ = function(port) {\n  this.port_ = port;\n};\n\n/**\n * Format and return a sign request compliant with the JS API version supported by the extension.\n * @param {Array<u2f.SignRequest>} signRequests\n * @param {number} timeoutSeconds\n * @param {number} reqId\n * @return {Object}\n */\nu2f.formatSignRequest_ =\n  function(appId, challenge, registeredKeys, timeoutSeconds, reqId) {\n  if (js_api_version === undefined || js_api_version < 1.1) {\n    // Adapt request to the 1.0 JS API\n    var signRequests = [];\n    for (var i = 0; i < registeredKeys.length; i++) {\n      signRequests[i] = {\n          version: registeredKeys[i].version,\n          challenge: challenge,\n          keyHandle: registeredKeys[i].keyHandle,\n          appId: appId\n      };\n    }\n    return {\n      type: u2f.MessageTypes.U2F_SIGN_REQUEST,\n      signRequests: signRequests,\n      timeoutSeconds: timeoutSeconds,\n      requestId: reqId\n    };\n  }\n  // JS 1.1 API\n  return {\n    type: u2f.MessageTypes.U2F_SIGN_REQUEST,\n    appId: appId,\n    challenge: challenge,\n    registeredKeys: registeredKeys,\n    timeoutSeconds: timeoutSeconds,\n    requestId: reqId\n  };\n};\n\n/**\n * Format and return a register request compliant with the JS API version supported by the extension..\n * @param {Array<u2f.SignRequest>} signRequests\n * @param {Array<u2f.RegisterRequest>} signRequests\n * @param {number} timeoutSeconds\n * @param {number} reqId\n * @return {Object}\n */\nu2f.formatRegisterRequest_ =\n  function(appId, registeredKeys, registerRequests, timeoutSeconds, reqId) {\n  if (js_api_version === undefined || js_api_version < 1.1) {\n    // Adapt request to the 1.0 JS API\n    for (var i = 0; i < registerRequests.length; i++) {\n      registerRequests[i].appId = appId;\n    }\n    var signRequests = [];\n    for (var i = 0; i < registeredKeys.length; i++) {\n      signRequests[i] = {\n          version: registeredKeys[i].version,\n          challenge: registerRequests[0],\n          keyHandle: registeredKeys[i].keyHandle,\n          appId: appId\n      };\n    }\n    return {\n      type: u2f.MessageTypes.U2F_REGISTER_REQUEST,\n      signRequests: signRequests,\n      registerRequests: registerRequests,\n      timeoutSeconds: timeoutSeconds,\n      requestId: reqId\n    };\n  }\n  // JS 1.1 API\n  return {\n    type: u2f.MessageTypes.U2F_REGISTER_REQUEST,\n    appId: appId,\n    registerRequests: registerRequests,\n    registeredKeys: registeredKeys,\n    timeoutSeconds: timeoutSeconds,\n    requestId: reqId\n  };\n};\n\n\n/**\n * Posts a message on the underlying channel.\n * @param {Object} message\n */\nu2f.WrappedChromeRuntimePort_.prototype.postMessage = function(message) {\n  this.port_.postMessage(message);\n};\n\n\n/**\n * Emulates the HTML 5 addEventListener interface. Works only for the\n * onmessage event, which is hooked up to the chrome.runtime.Port.onMessage.\n * @param {string} eventName\n * @param {function({data: Object})} handler\n */\nu2f.WrappedChromeRuntimePort_.prototype.addEventListener =\n    function(eventName, handler) {\n  var name = eventName.toLowerCase();\n  if (name == 'message' || name == 'onmessage') {\n    this.port_.onMessage.addListener(function(message) {\n      // Emulate a minimal MessageEvent object\n      handler({'data': message});\n    });\n  } else {\n    console.error('WrappedChromeRuntimePort only supports onMessage');\n  }\n};\n\n/**\n * Wrap the Authenticator app with a MessagePort interface.\n * @constructor\n * @private\n */\nu2f.WrappedAuthenticatorPort_ = function() {\n  this.requestId_ = -1;\n  this.requestObject_ = null;\n}\n\n/**\n * Launch the Authenticator intent.\n * @param {Object} message\n */\nu2f.WrappedAuthenticatorPort_.prototype.postMessage = function(message) {\n  var intentUrl =\n    u2f.WrappedAuthenticatorPort_.INTENT_URL_BASE_ +\n    ';S.request=' + encodeURIComponent(JSON.stringify(message)) +\n    ';end';\n  document.location = intentUrl;\n};\n\n/**\n * Tells what type of port this is.\n * @return {String} port type\n */\nu2f.WrappedAuthenticatorPort_.prototype.getPortType = function() {\n  return \"WrappedAuthenticatorPort_\";\n};\n\n\n/**\n * Emulates the HTML 5 addEventListener interface.\n * @param {string} eventName\n * @param {function({data: Object})} handler\n */\nu2f.WrappedAuthenticatorPort_.prototype.addEventListener = function(eventName, handler) {\n  var name = eventName.toLowerCase();\n  if (name == 'message') {\n    var self = this;\n    /* Register a callback to that executes when\n     * chrome injects the response. */\n    window.addEventListener(\n        'message', self.onRequestUpdate_.bind(self, handler), false);\n  } else {\n    console.error('WrappedAuthenticatorPort only supports message');\n  }\n};\n\n/**\n * Callback invoked  when a response is received from the Authenticator.\n * @param function({data: Object}) callback\n * @param {Object} message message Object\n */\nu2f.WrappedAuthenticatorPort_.prototype.onRequestUpdate_ =\n    function(callback, message) {\n  var messageObject = JSON.parse(message.data);\n  var intentUrl = messageObject['intentURL'];\n\n  var errorCode = messageObject['errorCode'];\n  var responseObject = null;\n  if (messageObject.hasOwnProperty('data')) {\n    responseObject = /** @type {Object} */ (\n        JSON.parse(messageObject['data']));\n  }\n\n  callback({'data': responseObject});\n};\n\n/**\n * Base URL for intents to Authenticator.\n * @const\n * @private\n */\nu2f.WrappedAuthenticatorPort_.INTENT_URL_BASE_ =\n  'intent:#Intent;action=com.google.android.apps.authenticator.AUTHENTICATE';\n\n/**\n * Wrap the iOS client app with a MessagePort interface.\n * @constructor\n * @private\n */\nu2f.WrappedIosPort_ = function() {};\n\n/**\n * Launch the iOS client app request\n * @param {Object} message\n */\nu2f.WrappedIosPort_.prototype.postMessage = function(message) {\n  var str = JSON.stringify(message);\n  var url = \"u2f://auth?\" + encodeURI(str);\n  location.replace(url);\n};\n\n/**\n * Tells what type of port this is.\n * @return {String} port type\n */\nu2f.WrappedIosPort_.prototype.getPortType = function() {\n  return \"WrappedIosPort_\";\n};\n\n/**\n * Emulates the HTML 5 addEventListener interface.\n * @param {string} eventName\n * @param {function({data: Object})} handler\n */\nu2f.WrappedIosPort_.prototype.addEventListener = function(eventName, handler) {\n  var name = eventName.toLowerCase();\n  if (name !== 'message') {\n    console.error('WrappedIosPort only supports message');\n  }\n};\n\n/**\n * Sets up an embedded trampoline iframe, sourced from the extension.\n * @param {function(MessagePort)} callback\n * @private\n */\nu2f.getIframePort_ = function(callback) {\n  // Create the iframe\n  var iframeOrigin = 'chrome-extension://' + u2f.EXTENSION_ID;\n  var iframe = document.createElement('iframe');\n  iframe.src = iframeOrigin + '/u2f-comms.html';\n  iframe.setAttribute('style', 'display:none');\n  document.body.appendChild(iframe);\n\n  var channel = new MessageChannel();\n  var ready = function(message) {\n    if (message.data == 'ready') {\n      channel.port1.removeEventListener('message', ready);\n      callback(channel.port1);\n    } else {\n      console.error('First event on iframe port was not \"ready\"');\n    }\n  };\n  channel.port1.addEventListener('message', ready);\n  channel.port1.start();\n\n  iframe.addEventListener('load', function() {\n    // Deliver the port to the iframe and initialize\n    iframe.contentWindow.postMessage('init', iframeOrigin, [channel.port2]);\n  });\n};\n\n\n//High-level JS API\n\n/**\n * Default extension response timeout in seconds.\n * @const\n */\nu2f.EXTENSION_TIMEOUT_SEC = 30;\n\n/**\n * A singleton instance for a MessagePort to the extension.\n * @type {MessagePort|u2f.WrappedChromeRuntimePort_}\n * @private\n */\nu2f.port_ = null;\n\n/**\n * Callbacks waiting for a port\n * @type {Array<function((MessagePort|u2f.WrappedChromeRuntimePort_))>}\n * @private\n */\nu2f.waitingForPort_ = [];\n\n/**\n * A counter for requestIds.\n * @type {number}\n * @private\n */\nu2f.reqCounter_ = 0;\n\n/**\n * A map from requestIds to client callbacks\n * @type {Object.<number,(function((u2f.Error|u2f.RegisterResponse))\n *                       |function((u2f.Error|u2f.SignResponse)))>}\n * @private\n */\nu2f.callbackMap_ = {};\n\n/**\n * Creates or retrieves the MessagePort singleton to use.\n * @param {function((MessagePort|u2f.WrappedChromeRuntimePort_))} callback\n * @private\n */\nu2f.getPortSingleton_ = function(callback) {\n  if (u2f.port_) {\n    callback(u2f.port_);\n  } else {\n    if (u2f.waitingForPort_.length == 0) {\n      u2f.getMessagePort(function(port) {\n        u2f.port_ = port;\n        u2f.port_.addEventListener('message',\n            /** @type {function(Event)} */ (u2f.responseHandler_));\n\n        // Careful, here be async callbacks. Maybe.\n        while (u2f.waitingForPort_.length)\n          u2f.waitingForPort_.shift()(u2f.port_);\n      });\n    }\n    u2f.waitingForPort_.push(callback);\n  }\n};\n\n/**\n * Handles response messages from the extension.\n * @param {MessageEvent.<u2f.Response>} message\n * @private\n */\nu2f.responseHandler_ = function(message) {\n  var response = message.data;\n  var reqId = response['requestId'];\n  if (!reqId || !u2f.callbackMap_[reqId]) {\n    console.error('Unknown or missing requestId in response.');\n    return;\n  }\n  var cb = u2f.callbackMap_[reqId];\n  delete u2f.callbackMap_[reqId];\n  cb(response['responseData']);\n};\n\n/**\n * Calls the callback with true or false as first and only argument\n * @param {Function} callback\n */\nu2f.isSupported = function(callback) {\n  var hasCalledBack = false;\n  function reply(value) {\n    if (hasCalledBack)\n      return;\n    hasCalledBack = true;\n    callback(value);\n  }\n  u2f.getApiVersion(\n    function (response) {\n      js_api_version = response['js_api_version'] === undefined ? 0 : response['js_api_version'];\n      reply(true);\n    }\n  );\n  // No response from extension within 1500ms -> no support\n  setTimeout(reply.bind(null, false), 1500);\n};\n\n/**\n * Dispatches an array of sign requests to available U2F tokens.\n * If the JS API version supported by the extension is unknown, it first sends a\n * message to the extension to find out the supported API version and then it sends\n * the sign request.\n * @param {string=} appId\n * @param {string=} challenge\n * @param {Array<u2f.RegisteredKey>} registeredKeys\n * @param {function((u2f.Error|u2f.SignResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.sign = function(appId, challenge, registeredKeys, callback, opt_timeoutSeconds) {\n  if (js_api_version === undefined) {\n    // Send a message to get the extension to JS API version, then send the actual sign request.\n    u2f.getApiVersion(\n        function (response) {\n          js_api_version = response['js_api_version'] === undefined ? 0 : response['js_api_version'];\n          console.log(\"Extension JS API Version: \", js_api_version);\n          u2f.sendSignRequest(appId, challenge, registeredKeys, callback, opt_timeoutSeconds);\n        });\n  } else {\n    // We know the JS API version. Send the actual sign request in the supported API version.\n    u2f.sendSignRequest(appId, challenge, registeredKeys, callback, opt_timeoutSeconds);\n  }\n};\n\n/**\n * Dispatches an array of sign requests to available U2F tokens.\n * @param {string=} appId\n * @param {string=} challenge\n * @param {Array<u2f.RegisteredKey>} registeredKeys\n * @param {function((u2f.Error|u2f.SignResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.sendSignRequest = function(appId, challenge, registeredKeys, callback, opt_timeoutSeconds) {\n  u2f.getPortSingleton_(function(port) {\n    var reqId = ++u2f.reqCounter_;\n    u2f.callbackMap_[reqId] = callback;\n    var timeoutSeconds = (typeof opt_timeoutSeconds !== 'undefined' ?\n        opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC);\n    var req = u2f.formatSignRequest_(appId, challenge, registeredKeys, timeoutSeconds, reqId);\n    port.postMessage(req);\n  });\n};\n\n/**\n * Dispatches register requests to available U2F tokens. An array of sign\n * requests identifies already registered tokens.\n * If the JS API version supported by the extension is unknown, it first sends a\n * message to the extension to find out the supported API version and then it sends\n * the register request.\n * @param {string=} appId\n * @param {Array<u2f.RegisterRequest>} registerRequests\n * @param {Array<u2f.RegisteredKey>} registeredKeys\n * @param {function((u2f.Error|u2f.RegisterResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.register = function(appId, registerRequests, registeredKeys, callback, opt_timeoutSeconds) {\n  if (js_api_version === undefined) {\n    // Send a message to get the extension to JS API version, then send the actual register request.\n    u2f.getApiVersion(\n        function (response) {\n          js_api_version = response['js_api_version'] === undefined ? 0: response['js_api_version'];\n          console.log(\"Extension JS API Version: \", js_api_version);\n          u2f.sendRegisterRequest(appId, registerRequests, registeredKeys,\n              callback, opt_timeoutSeconds);\n        });\n  } else {\n    // We know the JS API version. Send the actual register request in the supported API version.\n    u2f.sendRegisterRequest(appId, registerRequests, registeredKeys,\n        callback, opt_timeoutSeconds);\n  }\n};\n\n/**\n * Dispatches register requests to available U2F tokens. An array of sign\n * requests identifies already registered tokens.\n * @param {string=} appId\n * @param {Array<u2f.RegisterRequest>} registerRequests\n * @param {Array<u2f.RegisteredKey>} registeredKeys\n * @param {function((u2f.Error|u2f.RegisterResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.sendRegisterRequest = function(appId, registerRequests, registeredKeys, callback, opt_timeoutSeconds) {\n  u2f.getPortSingleton_(function(port) {\n    var reqId = ++u2f.reqCounter_;\n    u2f.callbackMap_[reqId] = callback;\n    var timeoutSeconds = (typeof opt_timeoutSeconds !== 'undefined' ?\n        opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC);\n    var req = u2f.formatRegisterRequest_(\n        appId, registeredKeys, registerRequests, timeoutSeconds, reqId);\n    port.postMessage(req);\n  });\n};\n\n\n/**\n * Dispatches a message to the extension to find out the supported\n * JS API version.\n * If the user is on a mobile phone and is thus using Google Authenticator instead\n * of the Chrome extension, don't send the request and simply return 0.\n * @param {function((u2f.Error|u2f.GetJsApiVersionResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.getApiVersion = function(callback, opt_timeoutSeconds) {\n u2f.getPortSingleton_(function(port) {\n   // If we are using Android Google Authenticator or iOS client app,\n   // do not fire an intent to ask which JS API version to use.\n   if (port.getPortType) {\n     var apiVersion;\n     switch (port.getPortType()) {\n       case 'WrappedIosPort_':\n       case 'WrappedAuthenticatorPort_':\n         apiVersion = 1.1;\n         break;\n\n       default:\n         apiVersion = 0;\n         break;\n     }\n     callback({ 'js_api_version': apiVersion });\n     return;\n   }\n    var reqId = ++u2f.reqCounter_;\n    u2f.callbackMap_[reqId] = callback;\n    var req = {\n      type: u2f.MessageTypes.U2F_GET_API_VERSION_REQUEST,\n      timeoutSeconds: (typeof opt_timeoutSeconds !== 'undefined' ?\n          opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC),\n      requestId: reqId\n    };\n    port.postMessage(req);\n  });\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.makeError = exports.ErrorNames = exports.ErrorCodes = void 0;\nexports.ErrorCodes = {\n    OK: 0,\n    OTHER_ERROR: 1,\n    BAD_REQUEST: 2,\n    CONFIGURATION_UNSUPPORTED: 3,\n    DEVICE_INELIGIBLE: 4,\n    TIMEOUT: 5\n};\nexports.ErrorNames = {\n    \"0\": \"OK\",\n    \"1\": \"OTHER_ERROR\",\n    \"2\": \"BAD_REQUEST\",\n    \"3\": \"CONFIGURATION_UNSUPPORTED\",\n    \"4\": \"DEVICE_INELIGIBLE\",\n    \"5\": \"TIMEOUT\"\n};\nfunction makeError(msg, err) {\n    const code = err != null ? err.errorCode : 1; // Default to OTHER_ERROR\n    const type = exports.ErrorNames[('' + code)];\n    const error = new Error(msg);\n    error.metaData = { type, code };\n    return error;\n}\nexports.makeError = makeError;\n"],"sourceRoot":""}