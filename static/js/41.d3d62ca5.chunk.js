(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[41],{4445:function(e,n,t){},4448:function(e,n){},4592:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(63),o=t(2),i=t(30),l=t(72),s=t(4),u=t(40),m=t(22),d=t(21),b=t(2972),h=t(3e3),f=t(1245),x=t(81),p=t(0),j=t(85),g=t(2974),v=t(3078),y=t(392),O=t(454),w=t(751),k=t(394),B=t(761),T=t(753),N=t(757),S=t.n(N),_=(t(4445),t(758));function z(e){var n=e.entities,t=e.columns;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,{wrapperClasses:"d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden cross-balance__table",bootstrap4:!0,keyField:"id",remote:!0,data:null===n?[]:n,columns:t}),Object(o.jsx)(_.a,{breakpoint:"lg",columns:t,data:n,direction:"rtl"})]})}var A=t(391),C=t(46),D=t(3086),E=t(3053),H=t(3060),M=t(53),F=t.n(M),U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";try{return e||n}catch(t){return n}},L=t(4555),J=t(10),q=Object(y.a)(),P={rpcUrl:q.nodeRpc,multicallAddress:q.queryToken};function R(e,n,t,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{if(e&&(n||0===n)&&t&&(a||0===a)){var c=new F.a(10).pow(new F.a(18)),o=new F.a(e.toString()),i=new F.a(t.toString());if(r){var l=o.times(c).times(new F.a(10).pow(new F.a(a))).dividedBy(new F.a(10).pow(new F.a(n))).dividedBy(i);return console.log(l),l}var s=i.times(c).times(new F.a(10).pow(new F.a(n))).dividedBy(new F.a(10).pow(new F.a(a))).dividedBy(o);return console.log(s),s}}catch(u){console.log(u)}}function Y(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return R(e,18,n,t,a)}function G(e,n){return new Promise((function(t){var a,r=[],c=Object(l.a)(e);try{var o=function(){var e=a.value;if(!e.exchangeAddress||0!==e.exchangeAddress.indexOf("0x"))return"continue";r.push.apply(r,[{target:e.exchangeAddress,call:["totalSupply()(uint256)"],returns:[["TS_"+e.symbol,function(e){return e/Math.pow(10,18)}]]},{target:e.token,call:["balanceOf(address)(uint256)",e.exchangeAddress],returns:[["exchangeTokenBalancem_"+e.symbol,function(n){return n/Math.pow(10,Number(e.decimals))}]]},{call:["getEthBalance(address)(uint256)",e.exchangeAddress],returns:[["exchangeETHBalance_"+e.symbol,function(n){return n/Math.pow(10,Number(e.decimals))}]]}]),n&&r.push({target:e.exchangeAddress,call:["balanceOf(address)(uint256)",n],returns:[["poolTokenBalance_"+e.symbol,function(n){return n/Math.pow(10,Number(e.decimals))}]]})};for(c.s();!(a=c.n()).done;)o()}catch(i){c.e(i)}finally{c.f()}L.a([].concat(r),P).then((function(n){if(n.results)for(var a=n.results.original,r=0,c=e.length;r<c;r++){var o=e[r],i=J.zb,l=J.zb,s=0,u=J.zb;Number(a["TS_"+o.symbol])&&Number(a["poolTokenBalance_"+o.symbol])&&(i=a["poolTokenBalance_"+o.symbol].mul(new F.a(10).pow(new F.a(18))).div(a["TS_"+o.symbol]),Number(a["exchangeTokenBalancem_"+o.symbol])&&(l=a["exchangeTokenBalancem_"+o.symbol].mul(i).div(new F.a(10).pow(new F.a(18)))),Number(a["exchangeETHBalance_"+o.symbol])&&(s=a["exchangeETHBalance_"+o.symbol].mul(i).div(new F.a(10).pow(new F.a(18))))),Number(a["exchangeETHBalance_"+o.symbol])&&Number(a["exchangeTokenBalancem_"+o.symbol])&&(u=Y(a["exchangeETHBalance_"+o.symbol],a["exchangeTokenBalancem_"+o.symbol],o.decimals)),e[r].supply=a["TS_"+o.symbol]?a["TS_"+o.symbol]:J.zb,e[r].exchangeTokenBalancem=a["exchangeTokenBalancem_"+o.symbol]?a["exchangeTokenBalancem_"+o.symbol]:J.zb,e[r].exchangeETHBalance=a["exchangeETHBalance_"+o.symbol]?a["exchangeETHBalance_"+o.symbol]:J.zb,e[r].poolTokenBalance=a["poolTokenBalance_"+o.symbol]?a["poolTokenBalance_"+o.symbol]:J.zb,e[r].pecent=i,e[r].balance=l,e[r].Basebalance=s,e[r].market=u}t(e)})).catch((function(e){console.log(e)}))}))}function I(){var e=Object(m.a)(["\n  background-color: transparent;\n  padding: 8px 0;\n  border: none;\n  border-bottom: 2px solid ",";\n  font-size: 1rem;\n  font-weight: 500;\n  line-height: 1.25rem;\n  color: ",";\n  display: inline-block;\n  margin-top: 2rem;\n  \n  &:hover,\n  &:focus,\n  &:active {\n    outline: none;\n    text-decoration: none;\n    box-shadow: none;\n  }\n  \n  &:hover {\n    color: ",";\n    border-bottom-color: ",";\n  }\n"]);return I=function(){return e},e}function K(){var e=Object(m.a)(["\n  margin-left: 45px;\n  \n  @media (max-width: 1199px) {\n    margin-left: 24px;\n  }\n  \n  @media (max-width: 991px) {\n    margin-left: 0;\n    margin-right: 24px;\n  }\n  \n  @media (max-width: 991px) {\n    margin-right: 16px;\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(m.a)(["\n  font-size: .875rem;\n  font-weight: 400;\n  line-height: 1.125rem;\n  color: ",";\n\n\n  @media (max-width: 991px) {\n    font-size: .75rem;\n  }\n  @media (max-width: 767px) {\n    font-size: .625rem;\n  }\n"]);return Q=function(){return e},e}function V(){var e=Object(m.a)(["\n  margin-bottom: 5px;\n\n\n  @media (max-width: 991px) {\n    margin-bottom: 0;\n  }\n"]);return V=function(){return e},e}function W(){var e=Object(m.a)(["\n  font-size: 1rem;\n  font-weight: 500;\n  color: ",";\n  display: block;\n  line-height: 1.25rem;\n  \n  @media (max-width: 991px) {\n    font-size: .875rem;\n  }\n  @media (max-width: 767px) {\n    font-size: .75rem;\n  }\n"]);return W=function(){return e},e}function X(){var e=Object(m.a)(["\n\t& > .card-body {\n\t\tpadding: 30px 30px 24px;\n\t  \n\t  \t@media (max-width: 576px) {\n\t\t  \tpadding: 16px;\n\t    }\n\t}\n"]);return X=function(){return e},e}function Z(){var e=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 24px;\n\tmargin-top: 40px;\n\t\n\t@media(max-width: 991px) {\n\t\tmargin-top: 10px;\n\t  \tflex-direction: column;\n\t  \talign-items: stretch;\n\t}\n"]);return Z=function(){return e},e}function $(){var e=Object(m.a)(["\n\tmargin: 0;\n\tfont-size: 2.5rem;\n\tfont-weight: 700;\n\tcolor: ",";\n\tline-height: 3rem;\n\n\t\n\t@media (max-width: 1199px) {\n\t\tfont-size: 2.25rem;\n\t}\n\t@media (max-width: 991px) {\n\t\tfont-size: 2rem;\n\t  \tmargin-bottom: 0.5rem;\n\t}\n\t@media (max-width: 767px) {\n\t\tfont-size: 1.5rem;\n\t}\n"]);return $=function(){return e},e}function ee(){var e=Object(m.a)(["\n  min-height: 48px;\n  height: 48px;\n  border-radius: 18px;\n  font-weight: 500;\n  font-size: 1rem;\n  min-width: 105px;\n  \n  @media (max-width: 991px) {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    line-height: 1;\n    font-size: .875rem;\n    min-height: 40px;\n    height: 40px;\n    padding: 0;\n    border-radius: 12px;\n  }\n"]);return ee=function(){return e},e}var ne=Object(y.a)(),te=Object(d.default)(b.a)(ee()),ae=d.default.h1($(),(function(e){return e.theme.text1})),re=d.default.div(Z()),ce=Object(d.default)(w.b)(X()),oe=d.default.span(W(),(function(e){return e.theme.text1})),ie=Object(d.default)(oe)(V()),le=d.default.span(Q(),(function(e){return e.theme.text3})),se=d.default.div(K()),ue=d.default.button(I(),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){var n=e.theme;return Object(A.a)(.1,n.primary)}),(function(e){var n=e.theme;return Object(A.a)(.1,n.primary)}));function me(e){return"aUSDT"===e&&"FSN"===ne.symbol||"anyUSDT"===e&&"FTM"===ne.symbol||"HUSD"===e&&"HT"===ne.symbol||"USDTB"===e&&"BNB"===ne.symbol||"USDC"===e&&"ETH"===ne.symbol||"anyUSDT"===e}n.default=function(e){var n=Object(C.a)().account,t=Object(D.d)(),a=Object(E.c)(),m=Object(g.a)().t,d=Object(p.useState)(""),b=Object(u.a)(d,2),y=b[0],w=b[1],N=Object(p.useState)(!1),S=Object(u.a)(N,2),_=S[0],A=S[1],M=Object(p.useState)([]),L=Object(u.a)(M,2),J=L[0],q=L[1],P=Object(p.useState)({}),R=Object(u.a)(P,2),Y=R[0],I=R[1],K=Object(p.useState)(),Q=Object(u.a)(K,2),V=Q[0],W=Q[1],X=Object(p.useState)(0),Z=Object(u.a)(X,2),$=(Z[0],Z[1],Object(p.useMemo)((function(){var e=[];for(var n in a)e.push(Object(s.a)({token:n,exchangeAddress:a[n].exchangeAddress},a[n]));return e}),[a])),ee=$.length,de={};function be(e){var n,t=[],a=new F.a(0),r=[],c=Object(l.a)(e);try{for(c.s();!(n=c.n()).done;){var o=n.value;console.log(o),o.pecent=Object(H.a)(o.pecent,18,Math.min(ne.keepDec,o.decimals)),o.balance=Object(H.a)(o.balance,o.decimals,Math.min(ne.keepDec,o.decimals)),o.Basebalance&&(a=a.plus(o.Basebalance)),me(o.symbol)&&(console.log(o.market,18,Math.min(ne.keepDec,o.decimals)),W(Number(Object(H.a)(o.market,18,Math.min(ne.keepDec,o.decimals))))),de[o.symbol]=o,t.push(o),o.exchangeETHBalance&&o.exchangeTokenBalancem&&o.market&&r.push({coin:o.symbol,market:o.market?o.market.toString():0,baseAmount:o.exchangeETHBalance?o.exchangeETHBalance.toString():0,tokenAmount:o.exchangeTokenBalancem?o.exchangeTokenBalancem.toString():0})}}catch(i){c.e(i)}finally{c.f()}return t[0].symbol===ne.symbol&&(t[0].Basebalance=a,de[ne.symbol].Basebalance=a),I(de),t}function he(){return(he=Object(i.a)(r.a.mark((function e(n){var t,a,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=0;case 2:if(!(a<=ee)){e.next=12;break}return o=$,e.next=6,G(o,n);case 6:i=e.sent,t.push.apply(t,Object(c.a)(be(i))),q(t);case 9:a++,e.next=2;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){$.length>0&&(J.length<=0&&q($),function(e){he.apply(this,arguments)}(n))}),[$,n]);var fe=Object(p.useMemo)((function(){return[{dataField:"coin",text:m("cross.coin"),formatter:function(e,n,t){var a;return Object(o.jsxs)("div",{className:"d-flex align-items-center flex-row-reverse flex-lg-row",children:[Object(o.jsx)(v.a,{size:"32px",address:null===n||void 0===n?void 0:n.symbol}),Object(o.jsxs)(se,{className:"d-flex flex-column align-items-stretch justify-content-center",children:[Object(o.jsx)(ie,{children:U(null===n||void 0===n||null===(a=n.symbol)||void 0===a?void 0:a.toUpperCase())}),Object(o.jsx)(le,{children:U(null===n||void 0===n?void 0:n.name)})]})]})}},{dataField:"price",text:m("cross.price"),formatter:function(e,n,t){return Object(o.jsx)(oe,{children:Object(o.jsx)(T.a,{children:U(null===n||void 0===n?void 0:n.price)})})}},{dataField:"balance",text:m("cross.balance"),formatter:function(e,t,a){return Object(o.jsx)(oe,{children:n?U(null===t||void 0===t?void 0:t.balance):"-"})}},{dataField:"totalBalance",text:m("cross.totalBalance"),formatter:function(e,t,a){return Object(o.jsx)(oe,{children:n?U(null===t||void 0===t?void 0:t.balance):"-"})}},{dataField:"action",text:m("cross.action"),formatter:function(e,n,t){return Object(o.jsx)(te,{as:j.b,className:"btn btn-light-primary",to:"/cross/anyswap?inputCurrency=".concat(null===n||void 0===n?void 0:n.address),children:"Swap"})},isAction:!0}]}),[]);var xe=function(){if(!n)return{};var e=n?t[n]:"",r=Object.keys(a).map((function(n){var t="-",r="-",c=0;return n===ne.symbol&&e&&e[n]&&e[n].value?t=Object(H.c)(new F.a(e[n].value)):e&&e[n]&&e[n].value&&(t=Object(H.e)(new F.a(e[n].value),a[n].decimals)),Y[a[n].symbol]&&V&&(r=a[n].symbol===ne.symbol?Object(H.d)(V,ne.keepDec):function(e,n){if(me(n))return"1";if(!e)return"-";var t=Number(Object(H.a)(e,18,ne.keepDec));return t?Object(H.d)(V/t,ne.keepDec):"0"}(Y[a[n].symbol].market,a[n].symbol),isNaN(t)||isNaN(r)||(c=Number(t)*Number(r))),{name:a[n].name,symbol:a[n].symbol,address:n,balance:t,isSwitch:a[n].isSwitch,price:r,tvl:c}}));if(r.sort((function(e,n){if(!isNaN(e.tvl)&&!isNaN(n.tvl)&&Number(e.tvl)>Number(n.tvl))return-1})),ne.isChangeDashboard){for(var c={},o=0,i=r.length;o<i;o++)if("ANY"===r[o].symbol){c=r[o],r.splice(o,1);break}r.unshift(c)}return r.length>0?r.filter((function(e){return!y||-1!==e.name.toLowerCase().indexOf(y.toLowerCase())||-1!==e.symbol.toLowerCase().indexOf(y.toLowerCase())||-1!==e.address.toLowerCase().indexOf(y.toLowerCase())})):[]}();return Object(o.jsx)(O.a,{notNetworkSensitive:!0,children:Object(o.jsxs)(h.a,{children:[Object(o.jsx)(f.a,{xs:12,children:Object(o.jsxs)(re,{children:[Object(o.jsx)(ae,{children:"Crosstopus Balances"}),Object(o.jsxs)(k.b,{className:"w-auto",children:[Object(o.jsx)(k.e,{children:Object(o.jsx)(k.f,{children:Object(o.jsx)(x.a,{src:B.a})})}),Object(o.jsx)(k.d,{value:y,id:"CrossBalanceSearch",placeholder:m("search"),onChange:function(e){w(e.target.value)}})]})]})}),Object(o.jsx)(f.a,{xs:12,children:Object(o.jsx)(ce,{children:Object(o.jsxs)("div",{className:"d-flex flex-column align-items-stretch",children:[Object(o.jsx)(z,{columns:fe,entities:Array.isArray(xe)?_?xe:null===xe||void 0===xe?void 0:xe.slice(0,3):[]}),!_&&Object(o.jsx)("div",{className:"align-self-center text-center",children:Object(o.jsx)(ue,{onClick:A.bind(undefined,!0),children:"See More"})})]})})})]})})}}}]);
//# sourceMappingURL=41.d3d62ca5.chunk.js.map