{"version":3,"sources":["components/hoc/withWeb3Account.tsx","components/NumericalInput/index.tsx","hooks/useTokenToBalance.js","components/hoc/withBalance.js","components/BookOption/index.js","components/UI/Dropdown/index.js","assets/images/global/dropdown.svg","utils/spot/numberUtils.js","pages/Borrow/ModalProvider/modals/UnlockToken.js","../node_modules/react-feather/dist/icons/chevron-down.js","../node_modules/react-feather/dist/icons/arrow-up-circle.js","../node_modules/react-feather/dist/icons/alert-triangle.js","pages/Spot/components/MarketStats/index.js","pages/Spot/components/MarketDetails/index.js","pages/Spot/components/Orderbook/index.js","pages/Spot/components/Provider/index.js","pages/Spot/components/MarketFills/index.js","pages/Spot/components/OrderHistory/index.js","components/SpotInputPanel/index.js","components/OrderDetailsContainer/index.js","pages/Spot/components/BuySell/index.js","pages/Spot/components/BuySell/modals/SignOrderStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenMatchingStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenStepContainer.js","pages/Spot/components/BuySell/ModalProvider.js","pages/Spot/index.js"],"names":["withWeb3Account","Component","props","context","useActiveWeb3React","web3","StyledInput","styled","input","error","theme","red1","text1","align","size","reverse","noBorder","modalBG","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","useSpotBalances","account","library","baseToken","useSelector","getBaseToken","quoteToken","getQuoteToken","knownTokens","useMemo","getKnownTokens","tokens","getTokens","wethToken","getWethToken","allBalances","address","useState","balances","setBalances","fetchBalances","a","tokensToTokenBalances","res","useEffect","length","useTokenToBalance","window","ethereum","ethBalance","useETHBalances","wethBalance","find","b","token","symbol","tokensBalance","filter","ethereumBalance","ETH","toExact","bn","BigNumber","currency","undefined","balance","totalEthBalance","total","plus","baseTokenBalance","searchToken","tokenBalances","wethTokenBalance","tokenToFind","quoteTokenBalance","withBalance","Wrapper","div","active","Cell","variant","BookOption","onClick","isSell","isBuy","Button","button","secondary2","primary","darken","ButtonText","span","DropdownList","isOpen","DropdownItem","Dropdown","items","setActive","open","setOpen","toggleModal","useCallback","changeActiveHandler","item","hasOwnProperty","src","require","default","map","i","bind","padRightSplitted","numBg","decimals","UI_DECIMALS_DISPLAYED_ORDER_SIZE","numBgToFixed","toFixed","numBgToString","toString","decimalPlaces","split","diff","num","isZero","UnlockToken","unlocking","setUnlocking","currentStep","getStepsModalCurrentStep","dispatch","useDispatch","unlockToken","getContractWrappers","getProvider","contractWrappers","approveAddress","contractAddresses","erc20Proxy","erc20Token","ERC20TokenContract","amount","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","approve","sendTransactionAsync","from","tx","awaitTransactionSuccessAsync","stepsModalAdvanceStep","onDismiss","pendingText","_extends","Object","assign","arguments","source","key","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ChevronDown","forwardRef","_ref","ref","_ref$color","color","_ref$size","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","propTypes","PropTypes","string","oneOfType","number","displayName","ArrowUpCircle","cx","cy","r","x1","y1","x2","y2","AlertTriangle","d","Card","ResponsiveCard","EmptyText","CustomInputGroup","InputGroup","TokenFiltersTabs","success","danger","TokenFiltersTab","Text","AutoHeight","lighten","withRouter","connect","state","spot","currencyPair","markets","marketsStats","marketsStatsState","relayer","changeMarket","query","setQuery","getMarketFilters","selectedFilter","setSelectedFilter","_setTokensFilterTab","changeQueryHandler","e","columns","dataField","text","formatter","cellContent","row","rowIndex","baseSymbol","formatTokenSymbol","base","toUpperCase","quoteSymbol","quote","_getLastPrice","marketStats","m","pair","marketToString","formatExtraData","market","marketStat","last_price","config","pricePrecision","rowEvents","newSearch","queryString","stringify","history","push","match","path","callback","_setSelectedMarket","ServerState","NotLoaded","className","Prepend","SearchIcon","alt","FormControl","id","index","filteredMarkets","filterMarketsByTokenSymbol","searchedMarkets","filterMarketsByString","bordered","classes","bootstrap4","keyField","remote","data","_getMarkets","Loading","isMobile","StyledCard","Logo","Img","highPrice","getCurrentMarketTodayHighPrice","lowerPrice","getCurrentMarketTodayLowerPrice","volume","getCurrentMarketTodayQuoteVolume","closedOrders","getCurrentMarketTodayClosedOrders","lastPrice","getCurrentMarketLastPrice","isTradingGraphic","toAbsoluteUrl","icon","USE_RELAYER_MARKET_UPDATES","displayDecimals","tokenAmountInUnits","wrapperClasses","ResponsiveTable","breakpoint","direction","withoutBorder","Container","BookOptionType","StyledBookOption","HeaderRow","TitleRow","TableRow","Title","Result","TR","CustomHead","InnerTR","TH","SpreadTitle","SpreadTR","TD","TBody","depthItems","OrderToRow","_setOrderPriceSelected","order","orders","totalSize","ZERO","side","OrderSide","Buy","reduce","sumSize","sizeItem","price","lte","gte","onSetOrderBuyPriceSelected","onSetOrderSellPriceSelected","onSetOrderPriceSelected","onSetMakerAmountSelected","priceColor","mySizeOrders","basePrecision","mySize","mySizeItem","eq","mySizeConverted","isMySizeEmpty","numSplitted","parseFloat","OrderToRowContainer","orderPriceSelected","setOrderPriceSelected","setOrderBuyPriceSelected","setOrderSellPriceSelected","makerAmountSelected","setMakerAmountSelected","Orderbook","depth","defaultDepth","bookOption","_spreadRowScrollable","createRef","_spreadRowFixed","_itemsScroll","content","orderBook","absoluteSpread","percentageSpread","totalQuoteBuyOrders","totalBaseSellOrders","serverState","sellOrders","buyOrders","mySizeSellArray","Sell","mySizeBuyArray","getColor","spreadAbsFixed","spreadPercentFixed","UI_DECIMALS_DISPLAYED_SPREAD_PERCENT","totalBase","totalQuote","bookOptionState","handleBookOption","option","setState","Number","slice","count","userOrders","orderBookState","getOrderBook","getSpread","getSpreadInPercentage","getTotalQuoteBuyOrders","getTotalBaseSellOrders","getOrderbookState","Web3","process","Provider","_deactivatePollingUpdates","_updateStoreInterval","clearInterval","_updatePriceEtherInterval","_updatePriceTokensInterval","_updateERC20MarketsInterval","_activatePollingUpdates","onUpdateERC20Markets","onUpdateMarketPriceTokens","onUpdateMarketPriceEther","onUpdateMarketPriceQuote","onUpdateERC20Store","givenProvider","UI_UPDATE_CHECK_INTERVAL","setInterval","isActiveCheckUpdates","UPDATE_ETHER_PRICE_INTERVAL","UPDATE_TOKENS_PRICE_INTERVAL","UPDATE_ERC20_MARKETS","componentWillUnmount","render","children","updateMarketPriceEther","updateMarketPriceQuote","updateMarketPriceTokens","updateERC20Markets","updateERC20Store","TableContainer","marketFills","spotUI","marketFillsState","marketToStringFromTokens","tokenQuoteSymbol","isWeth","marketFill","amountBase","tokenBase","displayAmountBase","getCurrencyPairByTokensSymbol","tokenQuote","timestamp","toISOString","fillToRow","CardTitle","h4","Content","InnerContent","Close","CloseIcon","onCancelOrder","cancelOrder","ordersToShow","status","OrderStatus","Fillable","tokenBaseSymbol","sideLabel","filled","getCurrencyPairFromTokens","orderToRow","InputRow","flexRowNoWrap","Label","InputContainer","LabelRow","Aligner","InputPanel","flexColumnNoWrap","StyledTokenName","CurrencySelect","bg1","BalanceRow","SpotInputPanel","valueStr","valueFixedDecimals","_updateValue","newValue","unitsInTokenAmount","min","isLessThan","label","disable","selected","hideInput","showBalance","balanceText","style","padding","borderRadius","Boolean","NumericalInput","getDerivedStateFromProps","Row","OrderType","OrderDetails","makerFeeAmount","takerFeeAmount","makerFeeAssetData","NULL_BYTES","takerFeeAssetData","quoteTokenAmount","canOrderBeFilled","componentDidUpdate","prevProps","newProps","tokenPrice","orderType","tokenAmount","orderSide","_updateOrderDetailsState","onFetchTakerAndMakerFee","getTokenBySymbol","priceInQuoteBaseUnits","baseTokenAmountInUnits","toUnitAmount","multipliedBy","makerFee","takerFee","openSellOrders","openBuyOrders","buildMarketOrders","ordersToFill","amountToPayForEachOrder","firstOrderWithFees","o","sum","sumTakerAssetFillableOrders","_getCostStringForRender","costAmount","_getMedianPriceStringForRender","quoteTokenAmountUnits","baseTokenAmountUnits","priceDisplay","toFormat","_getCostLabelStringForRender","qouteInUSD","componentDidMount","cost","costText","priceMedianText","getOpenSellOrders","getOpenBuyOrders","getQuoteInUsd","fetchTakerAndMakerFee","QuoteContainer","TabsContainer","TabWrapper","Tab","DetailsContainer","MarketType","MarketButton","BuySell","makerAmount","tab","btnMsg","cardMsg","changeTab","updateMakerAmount","getAmountAvailableLabel","tokenBalanceAmount","baseBalanceString","quoteBalanceString","updatePrice","submit","minAmount","minAmountUnits","String","orderFeeData","IS_ORDER_LIMIT_MATCHING","onSubmitLimitOrderMatching","onSubmitLimitOrder","onSubmitMarketOrder","message","setTimeout","_reset","_switchToMarket","_switchToLimit","buySellInnerTabs","quoteDecimals","isWethQuote","isWethBase","quoteUnits","tokenAmountInUnitsToBigNumber","baseBalance","makerAmountUnits","isMakerAmountEmpty","isMakerAmountMin","isPriceEmpty","isPriceMin","pow","isOrderTypeLimitIsEmpty","isOrderTypeLimitOverflow","gt","isOrderTypeMarketIsEmpty","btnPrefix","btnText","disabled","OrderDetailsContainer","minWidth","marginTop","fontSize","fontWeight","getCurrencyPair","getOrderPriceSelected","getMakerAmountSelected","startBuySellLimitSteps","startBuySellLimitMatchingSteps","startBuySellMarketSteps","step","submitLimitOrder","signedOrder","createSignedOrder","submitOrder","onDone","onSubmitLimitMatchingOrder","submitLimitMatchingOrder","refreshOrders","getOrderbookAndUserOrders","txHash","amountInReturn","submitMarketOrder","ModalProvider","submitted","setSubmitted","setTxHash","hideModal","setStepsModalCurrentStep","Modal","show","centered","onHide","Body","chainId","CHAIN_ID","hash","kind","StepKind","ToggleTokenLock","BuySellLimit","BuySellLimitMatching","BuySellMarket","BuySellTokenStepContainer","justMobile","justDesktop","Col","ContainerCard","Spot","setPair","toLowerCase","updateGasInfo","Page","morePadding","Themes","DARK","allow_symbol_change"],"mappings":"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","file":"static/js/20.b1c7f5e2.chunk.js","sourcesContent":["import {useActiveWeb3React} from \"../../hooks\";\n\nconst withWeb3Account = (Component: any) => {\n    return (props: any) => {\n        const context = useActiveWeb3React();\n        return <Component\n            web3={context}\n            { ...props }/>\n    }\n}\n\nexport default withWeb3Account;","import React from 'react'\nimport styled from 'styled-components'\nimport { escapeRegExp } from '../../utils'\n\nconst StyledInput = styled.input<{ error?: boolean; fontSize?: string; align?: string, noBorder?: boolean, reverse?: boolean, size?: string }>`\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n  width: 0;\n  position: relative;\n  font-weight: 500;\n  font-family: inherit;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: rgba(33, 36, 41, 0.5);\n  font-size: 1rem;\n  text-align: ${({ align }) => align && align};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: ${({ size}) => size === 'sm' ? '48px' : '56px'};\n  border-bottom-right-radius: ${({ reverse }) => reverse ? '0' :  `1.125rem`};\n  border-top-right-radius: ${({ reverse }) => reverse ? '0' :  `1.125rem`};\n  border-bottom-left-radius: ${({ reverse }) => reverse ? '1.125rem' :  `0`};\n  border-top-left-radius: ${({ reverse }) => reverse ? '1.125rem' :  `0`};\n  padding-right: 0.625rem;\n  padding-left: ${({ noBorder, reverse }) => reverse ? '1.375rem' : noBorder ? '0.625rem' : `1.5rem`};\n  -webkit-appearance: textfield;\n  border-left: ${({ theme, noBorder }) => noBorder ? 'none' :  `3px solid ${theme.modalBG}`};\n  \n  @media (min-width: 768px) {\n    \n    padding-right: 4.5625rem;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: rgba(255, 255, 255, .5);\n  }\n`\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n  value,\n  onUserInput,\n  placeholder,\n  size,\n  ...rest\n}: {\n  value: string | number\n  onUserInput: (input: string) => void\n  error?: boolean\n  fontSize?: string\n  size?: string\n  align?: 'right' | 'left'\n} & Omit<React.HTMLProps<HTMLInputElement>, 'ref' | 'onChange' | 'as'>) {\n  const enforcer = (nextUserInput: string) => {\n    if (nextUserInput === '' || inputRegex.test(escapeRegExp(nextUserInput))) {\n      onUserInput(nextUserInput)\n    }\n  }\n\n  return (\n    <StyledInput\n      {...rest}\n      value={value}\n      onChange={event => {\n        // replace commas with periods, because uniswap exclusively uses period as the decimal separator\n        enforcer(event.target.value.replace(/,/g, '.'))\n      }}\n      // universal input options\n      inputMode=\"decimal\"\n      title=\"Token Amount\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      size={size}\n      // text-specific options\n      type=\"text\"\n      pattern=\"^[0-9]*[.,]?[0-9]*$\"\n      placeholder={placeholder || '0.0'}\n      minLength={1}\n      maxLength={79}\n      spellCheck=\"false\"\n    />\n  )\n})\n\nexport default Input\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","import { useMemo, useState, useEffect } from 'react';\nimport {tokensToTokenBalances} from \"../utils/spot/tokens\";\nimport {useActiveWeb3React} from \"./index\";\nimport {useSelector} from \"react-redux\";\nimport {getBaseToken, getQuoteToken, searchToken} from \"../state/selectors\";\nimport {getKnownTokens} from \"../utils/known_tokens\";\nimport {useETHBalances} from \"../state/wallet/hooks\";\nimport {BigNumber} from \"@0x/utils\";\n\nexport const useTokenToBalance = (tokens, address, library) => {\n    const [balances, setBalances] = useState([]);\n\n    const fetchBalances = async () => {\n        const res = await tokensToTokenBalances(tokens, address, library)\n        setBalances(res);\n    }\n    useEffect(() => {\n        fetchBalances()\n    }, [address, tokens])\n\n    return useMemo(() => {\n        if(balances.length > 0) {\n            return balances;\n        } else {\n            return []\n        }\n    }, [address, balances, tokens])\n}\n\n\nexport const useSpotBalances = () => {\n    const { account, library } = useActiveWeb3React()\n\n    const baseToken = useSelector(getBaseToken);\n    const quoteToken = useSelector(getQuoteToken);\n\n    const knownTokens = useMemo(() => {\n        return getKnownTokens();\n    }, [])\n    const tokens = useMemo(() => {\n        return knownTokens.getTokens()\n    }, [])\n\n    const wethToken = useMemo(() => {\n        return knownTokens.getWethToken()\n    }, []);\n\n    const t = useMemo(() => {\n        return [...tokens, wethToken]\n    }, [wethToken, tokens])\n    const allBalances = useTokenToBalance(t, account, window.ethereum || library);\n\n    const ethBalance = useETHBalances([account])\n\n    const wethBalance = useMemo(() => {\n        return allBalances.find(b => b.token.symbol === wethToken.symbol);\n    }, [allBalances])\n\n    const tokensBalance = useMemo(() => {\n        return allBalances.filter(b => b.token.symbol !== wethToken.symbol);\n    }, [allBalances])\n\n    const ethereumBalance = useMemo(() => {\n        const ETH = ethBalance[account] ? ethBalance[account].toExact() : null\n        const bn = new BigNumber(ETH * (10 ** 18))\n\n        return {\n            token: ethBalance[account] ? ethBalance[account].currency : undefined,\n            balance: bn\n        }\n    }, [ethBalance]);\n\n    const totalEthBalance = useMemo(() => {\n        if(wethBalance && ethereumBalance) {\n            let total = wethBalance.balance;\n            if(ethereumBalance.token !== undefined) {\n                total = ethereumBalance.balance.plus(wethBalance.balance);\n            }\n\n            return total;\n        } else {\n            return undefined;\n        }\n    }, [ethereumBalance, wethBalance])\n\n    const baseTokenBalance = useMemo(() => {\n\n        return searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n    }, [baseToken, tokensBalance, wethBalance])\n\n    const quoteTokenBalance = useMemo(() => {\n\n        return searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: quoteToken });\n    }, [quoteToken, tokensBalance, wethBalance])\n\n    return useMemo(() => {\n        return {\n            quoteTokenBalance,\n            baseTokenBalance,\n            totalEthBalance,\n            ethBalance: ethereumBalance,\n            wethBalance,\n            tokensBalance,\n        }\n    }, [account, baseToken, quoteToken, allBalances, baseTokenBalance, quoteTokenBalance])\n}\n","import {useSpotBalances} from \"../../hooks/useTokenToBalance\";\n\n\nconst withBalance = Component => {\n    return props => {\n        const balances = useSpotBalances();\n\n        return (\n            <Component\n                {...props}\n                {...balances}\n            />\n        )\n    }\n\n}\n\nexport default withBalance;\n","import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  width: 30px;\n  height: 30px;\n  min-width: 30px;\n  min-height: 30px;\n  padding: 10px 6px;\n  background-color: rgba(33, 36, 41, 0.5);\n  border-radius: 30px;\n  opacity: ${({ active }) => active ? '1' : '0.5'};\n  cursor: pointer;\n`\n\nconst Cell = styled.div`\n  height: 2px;\n  border-radius: 9px;\n  width: 13px;\n  background-color: ${({ theme, variant }) => variant ? theme[variant] : '#D3D6E8'};\n  \n  &:not(:last-child) {\n    width: 17px;\n  }\n`\n\nconst BookOption = props => {\n    return (\n        <Wrapper active={props.active} onClick={props.onChange} {...props}>\n            <Cell variant={props.isSell && 'danger'} />\n            <Cell />\n            <Cell variant={props.isBuy && 'success'} />\n        </Wrapper>\n    )\n}\n\nexport default BookOption;\n","import styled from \"styled-components\";\nimport { useState, useCallback } from 'react';\nimport SVG from 'react-inlinesvg';\nimport { darken } from 'polished';\n\nconst Wrapper = styled.div`\n  position: relative;\n  z-index: 2;\n  perspective: 800px;\n`\n\nconst Button = styled.button`\n  height: ${({ size }) => size === 'sm' ? '32px' : '56px'};\n  padding-left: ${({ size }) => size === 'sm' ? '16px' : '20px'};\n  padding-right: ${({ size }) => size === 'sm' ? '22px' : '24px'};\n  border-radius: ${({ size }) => size === 'sm' ? '12px' : '18px'};\n  background-color: ${({variant}) => variant === 'secondary' ? 'rgba(121, 133, 246, 0.15)' : 'rgba(135, 220, 225, 0.15)'};\n  transition: 0.4s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ${({variant, theme}) => variant === 'secondary' ? theme.secondary2 : theme.primary};\n  border: none;\n  \n  &:hover {\n    background-color: ${({variant, theme}) => variant === 'secondary' ? theme.secondary2 : theme.primary};\n    color: white;\n  }\n  \n  &:focus,\n  &:active {\n    outline: none;\n    background-color: ${({variant, theme}) => variant === 'secondary' ? darken(0.1, theme.secondary2) : darken(0.1, theme.primary)};\n    box-shadow: 0 0 0 5px ${({variant}) => variant === 'secondary' ? 'rgba(121, 133, 246, 0.15)' : 'rgba(135, 220, 225, 0.15)'};\n    color: white;\n  }\n  \n  \n  @media (max-width: 991px) {\n    height: 32px;\n    font-size: .875rem;\n    border-radius: 12px;\n    padding-left: 15px;\n    padding-right: 21px;\n  }\n`\n\nconst ButtonText = styled.span`\n  color: currentColor;\n  font-weight: 500;\n  font-size: 1rem;\n  padding-right: 1rem;\n  \n  \n  @media (max-width: 991px) {\n    padding-right: 0.5rem;\n  }\n`\n\nconst DropdownList = styled.div`\n  background-image: linear-gradient(346.84deg, #9AA7D0 1.12%, #B7C2E4 78.56%);\n  box-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n  border-radius: 12px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  right: 0;\n  top: ${({size}) => size === 'sm' ? `42px` : `66px`};\n  min-width: 100%;\n  padding: ${({size}) => size === 'sm' ? `14px` : `20px`};\n  transition: 0.5s ease all;\n  transform-style: preserve-3d;\n  transform-origin: top center;\n  transform: ${({isOpen}) => isOpen ? `translateY(0) scale(1)` : `translateY(20px) scale(0.8)`};\n  opacity: ${({isOpen}) => isOpen ? `1` : `0`};\n  visibility: ${({isOpen}) => isOpen ? `visible` : `hidden`};\n  \n  \n  @media (max-width: 991px) {\n    top: 42px;\n  }\n`\n\nconst DropdownItem = styled.button`\n  border: none;\n  background-color: transparent;\n  font-weight: 500;\n  font-size: 1rem;\n  color: #232429;\n  white-space: nowrap;\n  padding: 0;\n  \n  \n  @media (max-width: 991px) {\n    font-size: 0.875rem;\n  }\n  \n  &:hover,\n  &:focus,\n  &:active {\n    outline: none;\n    text-decoration: none;\n    box-shadow: none;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: ${({size}) => size === 'sm' ? `14px` : `20px`} ;\n  }\n`\n\nconst Dropdown = props => {\n    const [active, setActive] = useState(props.items[props.active] || null);\n    const [open, setOpen] = useState(false);\n\n    const toggleModal = useCallback(() => {\n        setOpen(open => !open);\n    }, [])\n\n    const changeActiveHandler = useCallback((item) => {\n        setActive(item);\n        setOpen(false);\n        if(props.hasOwnProperty('onChange')) {\n            props.onChange(item.value);\n        }\n    }, [props.onChange])\n\n    return (\n        <Wrapper>\n            <Button variant={props.variant} onClick={toggleModal} isOpen={open} size={props.size || 'md'}>\n                <ButtonText>{active ? active.title : props.placeholder || 'Select'}</ButtonText>\n                <SVG src={require('../../../assets/images/global/dropdown.svg').default} />\n            </Button>\n            <DropdownList isOpen={open} size={props.size || 'md'}>\n                {props.items.map((item, i) => {\n                    return (\n                        <DropdownItem size={'sm'} onClick={changeActiveHandler.bind(this, item)} key={`dropdown-${i}`}>{item.title}</DropdownItem>\n                    )\n                })}\n            </DropdownList>\n        </Wrapper>\n    )\n}\n\nexport default Dropdown;\n","export default __webpack_public_path__ + \"static/media/dropdown.4a406929.svg\";","import {UI_DECIMALS_DISPLAYED_ORDER_SIZE} from \"../../constants\";\n\nexport const padRightSplitted = (\n    numBg,\n    decimals = UI_DECIMALS_DISPLAYED_ORDER_SIZE,\n) => {\n    const numBgToFixed = numBg.toFixed(decimals);\n    const numBgToString = numBg.toString();\n\n    const decimalPlaces = (numBgToString.split('.')[1] || []).length;\n\n    let diff = '';\n    let num = numBgToFixed;\n    if (!numBg.isZero() && decimalPlaces < decimals) {\n        diff = numBgToFixed.replace(numBgToString, '');\n        num = numBgToString;\n    }\n\n    return {\n        num,\n        diff,\n    };\n};\n\nexport const truncateAddress = (address) => {\n    return `${address.slice(0, 7)}...${address.slice(address.length - 5)}`;\n};\n","import {ConfirmationPendingContent} from \"../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {UNLIMITED_ALLOWANCE_IN_BASE_UNITS} from \"../../../../constants\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport {getContractWrappers} from \"../../../../utils/spot/contractWrapper\";\nimport {ERC20TokenContract} from \"@0x/contract-wrappers\";\nimport {stepsModalAdvanceStep} from \"../../../../state/spotUI/actions\";\n\nconst UnlockToken = props => {\n    const [unlocking, setUnlocking] = useState(false);\n    const { account, library } = useActiveWeb3React();\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const { address, token } = currentStep;\n    const web3 = props.web3;\n    const dispatch = useDispatch();\n\n    const unlockToken = async () => {\n        try {\n\n            const contractWrappers = await getContractWrappers(web3.getProvider());\n            const approveAddress = address ? address : contractWrappers.contractAddresses.erc20Proxy;\n\n            const erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n            const amount = UNLIMITED_ALLOWANCE_IN_BASE_UNITS;\n\n            const tx = await erc20Token.approve(approveAddress, amount).sendTransactionAsync({\n                from: account,\n            });\n            setUnlocking(true)\n            await web3.awaitTransactionSuccessAsync(tx);\n\n            if(tx) {\n                setUnlocking(false)\n                dispatch(stepsModalAdvanceStep());\n            }\n\n        } catch(e) {\n            setUnlocking(false)\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        unlockToken();\n    }, [currentStep])\n\n    return (\n        <ConfirmationPendingContent onDismiss={unlocking ? () => null : props.onDismiss} pendingText={unlocking ? 'Unlocking' : 'Waiting for confirmation'} />\n    )\n}\n\nexport default UnlockToken;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ChevronDown = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }));\n});\nChevronDown.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronDown.displayName = 'ChevronDown';\nexport default ChevronDown;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ArrowUpCircle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 12 12 8 8 12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"8\"\n  }));\n});\nArrowUpCircle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nArrowUpCircle.displayName = 'ArrowUpCircle';\nexport default ArrowUpCircle;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar AlertTriangle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }));\n});\nAlertTriangle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nAlertTriangle.displayName = 'AlertTriangle';\nexport default AlertTriangle;","import React, {useCallback, useState} from 'react';\nimport { connect } from 'react-redux';\nimport { BigNumber } from \"@0x/utils\";\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\nimport { withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\n\nimport {ServerState, USE_RELAYER_MARKET_UPDATES} from '../../../../constants';\nimport { getMarketFilters } from '../../../../common/markets';\nimport {changeMarket} from \"../../../../state/spot/actions\";\nimport { formatTokenSymbol } from \"../../../../utils/spot/tokens\";\nimport { filterMarketsByString, filterMarketsByTokenSymbol, marketToString } from \"../../../../utils/spot/market\";\n\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport {FormControl, InputGroup} from \"react-bootstrap\";\nimport SearchIcon from \"../../../../assets/images/search.svg\";\nimport './styles.scss';\nimport BootstrapTable from \"react-bootstrap-table-next\";\n\nconst Card = styled(ResponsiveCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 228px;\n    height: 486px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 10px;\n    }\n  }\n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: white;\n  \n`\n\nconst CustomInputGroup = styled(InputGroup)`\n  font-size: .75rem;\n  \n  .input-group-text {\n    padding-left: 1.25rem;\n    padding-right: .625rem;\n  }\n  \n  & input {\n    font-size: .75rem !important;\n    padding-left: 0;\n  }\n  \n  & img {\n    width: 1rem;\n    height: 1rem;\n  }\n`\n\n\nconst PriceChange = styled.span`\n    color: ${props => props.value > 0 ? props.theme.success : props.value < 0 ? props.theme.danger : 'rgba(255, 255, 255, 0.5)'};\n    display: block;\n`;\n\nconst TokenFiltersTabs = styled.div`\n  width: 100%;\n  flex-wrap: nowrap;\n  padding: 15px 0;\n`\n\nconst TokenFiltersTab = styled.button`\n  background-color: transparent;\n  border: none;\n  color: ${({ active, theme }) => active ? theme.primary : theme.text1};\n  font-size: 12px;\n  font-weight: 400;\n  \n  &:active,\n  &:focus {\n    outline: none;\n    box-shadow: none;\n    text-decoration: none;\n  }\n`\n\n\nconst Text = styled.span`\n  color: ${({theme, variant}) => variant ? theme[variant] : theme.text1};\n  font-size: .75rem;\n  font-weight: 400;\n  cursor: pointer;\n`\n\nconst AutoHeight = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 360px;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n  \n`\n\nconst MarketStats = props => {\n    const { account, library } = useActiveWeb3React();\n    const [query, setQuery] = useState('');\n    const [selectedFilter, setSelectedFilter] = useState(getMarketFilters()[0])\n    const { baseToken, quoteToken, markets, marketsStats, marketsStatsState } = props;\n\n    const _getLastPrice = (market, marketStat) => {\n        if (marketStat && marketStat.last_price) {\n            return new BigNumber(marketStat.last_price).toFixed(market.currencyPair.config.pricePrecision);\n        }\n\n        return '-';\n    };\n\n    const _getLastPriceChange = (marketStat) => {\n        if (marketStat && marketStat.last_price_change_24) {\n            return (\n                <PriceChange value={marketStat.last_price_change_24}>{`${new BigNumber(marketStat.last_price_change_24)\n                    .times(100)\n                    .toFixed(2)} %`}</PriceChange>\n            );\n        }\n\n        return <PriceChange value={0}>{`${new BigNumber(0).toFixed(2)} %`}</PriceChange>;\n    };\n\n    const _setTokensFilterTab = (filter) => {\n        setSelectedFilter(filter);\n    };\n\n    const _setSelectedMarket = (currencyPair, account, library) => {\n        const callback = (currencyPair) => {\n            const newSearch = queryString.stringify({\n                base: currencyPair.base,\n                quote: currencyPair.quote,\n            })\n            props.history.push(`${props.match.path}?${newSearch}`)\n        }\n        callback(currencyPair)\n        props.changeMarket(currencyPair, account, library );\n    };\n\n    const changeQueryHandler = useCallback((e) => {\n        setQuery(e.target.value);\n    }, [])\n\n    const columns = [\n        {\n            dataField: \"market\",\n            text: \"Market\",\n            formatter: (cellContent, row, rowIndex) => {\n                const baseSymbol = formatTokenSymbol(row.currencyPair.base).toUpperCase();\n                const quoteSymbol = formatTokenSymbol(row.currencyPair.quote).toUpperCase();\n                return (\n                    <Text>\n                        {baseSymbol} / {quoteSymbol}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"price\",\n            text: \"Last Price\",\n            formatter: (cellContent, row, rowIndex, { _getLastPrice, marketsStats }) => {\n                const marketStats =\n                    marketsStats &&\n                    marketsStats.find(m => m.pair.toUpperCase() === marketToString(row.currencyPair));\n                return (\n                    <Text>\n                        {_getLastPrice(row, marketStats)}\n                    </Text>\n                )\n            },\n            formatExtraData: {\n                _getLastPrice,\n                marketsStats\n            },\n        },\n\n    ]\n\n    const rowEvents = {\n        onClick: (e, row) => {\n            _setSelectedMarket(row.currencyPair, account, library);\n        }\n    }\n\n\n    const _getMarkets = () => {\n        const { baseToken, markets } = props;\n\n        if (!baseToken || !markets) {\n            return null;\n        }\n\n        const filteredMarkets =\n            selectedFilter == null || selectedFilter.value === null\n                ? markets\n                : filterMarketsByTokenSymbol(markets, selectedFilter.value);\n        const searchedMarkets = filterMarketsByString(filteredMarkets, query);\n\n        return (\n            <AutoHeight>\n                <BootstrapTable\n                    bordered={false}\n                    classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-stats__table\"\n                    bootstrap4\n                    keyField={'id'}\n                    remote\n                    rowEvents={rowEvents}\n                    data={searchedMarkets === null ? [] : searchedMarkets}\n                    columns={columns}\n                />\n            </AutoHeight>\n        )\n    }\n\n    if(!baseToken || !quoteToken || marketsStatsState === ServerState.NotLoaded) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    } else if (!baseToken || !quoteToken) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>here are no market details to show</EmptyText>\n                </div>\n            </Card>\n        )\n    } else if (!markets && !marketsStats) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-markets-loading-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    }\n\n    return (\n        <Card>\n            <CustomInputGroup className={'w-auto'}>\n                <InputGroup.Prepend>\n                    <InputGroup.Text>\n                        <img src={SearchIcon} alt=\"search\"/>\n                    </InputGroup.Text>\n                </InputGroup.Prepend>\n                <FormControl id=\"PoolsSearch\" placeholder=\"Search\" onChange={changeQueryHandler}/>\n            </CustomInputGroup>\n\n            <TokenFiltersTabs className={'d-flex align-items-center justify-content-between'}>\n                {getMarketFilters().map((filter, index) => {\n                    return (\n                        <TokenFiltersTab\n                            active={filter === selectedFilter}\n                            key={index}\n                            onClick={_setTokensFilterTab.bind(this, filter)}\n                        >\n                            {filter.text}\n                        </TokenFiltersTab>\n                    );\n                })}\n            </TokenFiltersTabs>\n            {_getMarkets()}\n        </Card>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        markets: state.spot.markets,\n        quoteToken: state.spot.quoteToken,\n        marketsStats: state.spot.marketsStats,\n        marketsStatsState: state.relayer.marketsStatsState,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MarketStats));\n","import { connect } from 'react-redux';\nimport { BigNumber } from '@0x/utils';\nimport styled from \"styled-components\";\n\nimport { USE_RELAYER_MARKET_UPDATES } from '../../../../constants';\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { formatTokenName, formatTokenSymbol, getEtherscanLinkForToken, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport {\n    getCurrentMarketLastPrice,\n    getCurrentMarketTodayClosedOrders,\n    getCurrentMarketTodayHighPrice,\n    getCurrentMarketTodayLowerPrice,\n    getCurrentMarketTodayQuoteVolume\n} from \"../../../../state/selectors\";\nimport StyledCard from \"../../../../components/Card\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Img from \"../../../../components/UI/Img\";\nimport {toAbsoluteUrl} from \"../../../../lib/helper\";\nimport './styles.scss';\nimport ResponsiveTable from \"../../../../components/ResponsiveTable\";\n\n\nconst Card = styled(StyledCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 24px 20px 20px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 570px;\n    height: 103px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 24px;\n    }\n  }\n`\n\nconst Logo = styled(Img)`\n  width: 24px;\n  min-width: 24px;\n  height: 24px;\n  border-radius: 24px;\n  border: 1px solid white;\n  display: block;\n  margin-right: 5px;\n  \n  @media (max-width: 1400px) {\n    margin-right: 10px;\n  }\n`\n\nconst Text = styled.span`\n  color: ${({theme, variant}) => variant ? theme[variant] : theme.text1};\n  font-size: .875rem;\n  font-weight: 500;\n`\n\nconst MarketDetails = props => {\n    const { account } = useActiveWeb3React()\n    const { baseToken, quoteToken, currencyPair, isTradingGraphic = true } = props;\n\n    const { highPrice, lowerPrice, volume, closedOrders, lastPrice } = props;\n\n    const marketStats = {\n        highPrice,\n        lowerPrice,\n        volume,\n        closedOrders,\n        lastPrice,\n    };\n\n\n    const columns = [\n        {\n            dataField: \"project\",\n            text: \"Project\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <div className=\"d-flex align-items-center\">\n                        <Logo src={toAbsoluteUrl(`/${row.baseToken.icon}`)}/>\n                    </div>\n                )\n            },\n        },\n        {\n            dataField: \"last_price\",\n            text: \"Last Price\",\n            formatter: (cellContent, row, rowIndex) => {\n                const lastPrice = row.marketStats.lastPrice\n                    ? new BigNumber(row.marketStats.lastPrice).toFixed(row.currencyPair.config.pricePrecision)\n                    : '-';\n                return (\n                    <Text>{lastPrice}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"max_price\",\n            text: \"Max 24H\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {(row.marketStats.highPrice && row.marketStats.highPrice.toFixed(row.currencyPair.config.pricePrecision)) || '-'}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"min_price\",\n            text: \"Min 24H\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {(row.marketStats.lowerPrice && row.marketStats.lowerPrice.toFixed(4)) || '-'}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"volume\",\n            text: \"Volume 24H\",\n            formatter: (cellContent, row, rowIndex) => {\n\n                let volume;\n                if (USE_RELAYER_MARKET_UPDATES) {\n                    volume =\n                        (row.marketStats.volume &&\n                            `${row.marketStats.volume.toFixed(row.quoteToken.displayDecimals)} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n                        '- ';\n                } else {\n                    volume =\n                        (row.marketStats.volume &&\n                            `${tokenAmountInUnits(\n                                row.marketStats.volume,\n                                row.quoteToken.decimals,\n                                row.quoteToken.displayDecimals,\n                            ).toString()} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n                        '- ';\n                }\n                return (\n                    <Text>\n                        {volume}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"closed_orders\",\n            text: \"Orders Closed\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {row.marketStats.closedOrders || '-'}\n                    </Text>\n                )\n            },\n        },\n    ]\n\n    if(!account || !baseToken || !quoteToken) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-markets-details-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    }\n\n\n    return (\n        <Card>\n            <BootstrapTable\n                wrapperClasses=\"d-none d-lg-block\"\n                bordered={false}\n                classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-details__table\"\n                bootstrap4\n                keyField={'id'}\n                remote\n                data={[{marketStats, baseToken, quoteToken, currencyPair}]}\n                columns={columns}\n            />\n            <ResponsiveTable breakpoint={'lg'} columns={columns} data={[{marketStats, baseToken, quoteToken, currencyPair}]} direction={'rtl'} withoutBorder/>\n        </Card>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        quoteToken: state.spot.quoteToken,\n        highPrice: getCurrentMarketTodayHighPrice(state),\n        lowerPrice: getCurrentMarketTodayLowerPrice(state),\n        volume: getCurrentMarketTodayQuoteVolume(state),\n        closedOrders: getCurrentMarketTodayClosedOrders(state),\n        lastPrice: getCurrentMarketLastPrice(state),\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketDetails);\n","import { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\nimport {BigNumber} from \"@0x/utils\";\n\nimport {\n    getOrderBook, getOrderbookState,\n    getSpread,\n    getSpreadInPercentage,\n    getTotalBaseSellOrders,\n    getTotalQuoteBuyOrders\n} from \"../../../../state/selectors\";\nimport {ZERO, UI_DECIMALS_DISPLAYED_SPREAD_PERCENT, OrderSide, ServerState} from \"../../../../constants\";\nimport { formatTokenSymbol, tokenAmountInUnits } from '../../../../utils/spot/tokens';\nimport {\n    setMakerAmountSelected,\n    setOrderBuyPriceSelected,\n    setOrderPriceSelected,\n    setOrderSellPriceSelected\n} from \"../../../../state/spotUI/actions\";\nimport React, {Component} from \"react\";\nimport Loading from \"../../../../components/Loading\";\nimport BookOption from \"../../../../components/BookOption\";\nimport Dropdown from \"../../../../components/UI/Dropdown\";\nimport {padRightSplitted} from \"../../../../utils/spot/numberUtils\";\n\nconst Container = styled.div`\n  width: 260px;\n  display: flex;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    width: 100%;\n  }\n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: white;\n  \n`\nconst BookOptionType = {\n    BuySellBook: 0,\n    SellBook: 1,\n    BuyBook: 2,\n}\n\nconst StyledBookOption = styled(BookOption)`\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n`\n\nconst HeaderRow = styled.div`\n  margin-bottom: 12px;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 34px;\n  }\n`\nconst TitleRow = styled.div`\n  margin-bottom: 15px;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 10px;\n    align-items: flex-end;\n  }\n`\nconst TableRow = styled.div`\n  display: flex;\n  flex: 1;\n  max-height: 382px;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 0;\n    max-height: initial;\n  }\n`\n\nconst Title = styled.span`\n  color: white;\n  font-weight: bold;\n  font-size: 1rem;\n  line-height: 1;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 10px;\n  }\n  \n`\n\nconst Result = styled.span`\n  color: white;\n  font-weight: 500;\n  font-size: 0.75rem;\n`\n\nconst TR = styled.div`\n  padding: 6px 16px;\n  border-radius: 12px;\n  margin-bottom: 12px;\n  max-height: 32px;\n  height: 32px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n   \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n`\nconst CustomHead = styled(TR)`\n  background-color: rgba(255, 255, 255, 0.1);\n`\n\nconst InnerTR = styled(TR)`\n  background-color: transparent;\n  cursor: pointer;\n  transition: all ease 0.3s;\n  margin-bottom: 2px;\n  max-height: 24px;\n  padding: 4px 16px;\n  \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n  \n  &:hover {\n    background-color: rgba(255, 255, 255, 0.06);\n  }\n`\n\nconst TH = styled.span`\n  color: white;\n  font-size: .75rem;\n  font-weight: 400;\n  white-space: nowrap;\n`\n\nconst SpreadTitle = styled.span`\n  color: white;\n  font-size: .75rem;\n  font-weight: 500;\n  white-space: nowrap;\n`\n\nconst SpreadTR = styled(CustomHead)`\n  margin-bottom: 8px;\n  margin-top: 4px;\n`\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : 'white'};\n  font-size: .75rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 306px;\n  min-height: 306px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst depthItems = [\n    {\n        value: 5,\n        title: '5'\n    },\n    {\n        value: 10,\n        title: '10'\n    },\n    {\n        value: 20,\n        title: '20'\n    },\n    {\n        value: 50,\n        title: '50'\n    },\n]\n\nclass OrderToRow extends Component {\n    render() {\n        const { order, index, baseToken, priceColor, mySizeOrders = [], currencyPair } = this.props;\n        const basePrecision = currencyPair.config.basePrecision;\n        const pricePrecision = currencyPair.config.pricePrecision;\n\n        const size = tokenAmountInUnits(order.size, baseToken.decimals, basePrecision);\n        const price = order.price.toString();\n\n        const mySize = mySizeOrders.reduce((sumSize, mySizeItem) => {\n            if (mySizeItem.price.eq(order.price)) {\n                return sumSize.plus(mySizeItem.size);\n            }\n            return sumSize;\n        }, ZERO);\n\n        const mySizeConverted = tokenAmountInUnits(mySize, baseToken.decimals, basePrecision);\n        const isMySizeEmpty = mySize.eq(new BigNumber(0));\n        const numSplitted = padRightSplitted(new BigNumber(size), basePrecision);\n\n        return (\n            <InnerTR\n                onClick={() => this._setOrderPriceSelected(order.price)}\n            >\n                <TD>{numSplitted.num}</TD>\n                <TD variant={priceColor}>\n                    {parseFloat(price).toFixed(pricePrecision)}\n                </TD>\n                <TD>\n                    {isMySizeEmpty ? '-' : mySizeConverted}\n                </TD>\n            </InnerTR>\n        )\n    }\n\n    _setOrderPriceSelected = async (size) => {\n        const { order, orders } = this.props;\n        let totalSize = ZERO;\n        if (order.side === OrderSide.Buy) {\n            totalSize = orders.reduce((sumSize, sizeItem) => {\n                if (order.price.lte(sizeItem.price)) {\n                    return sumSize.plus(sizeItem.size);\n                }\n                return sumSize;\n            }, ZERO);\n        } else {\n            totalSize = orders.reduce((sumSize, sizeItem) => {\n                if (order.price.gte(sizeItem.price)) {\n                    return sumSize.plus(sizeItem.size);\n                }\n                return sumSize;\n            }, ZERO);\n        }\n        if (order.side === OrderSide.Buy) {\n            await this.props.onSetOrderBuyPriceSelected(size);\n        } else {\n            await this.props.onSetOrderSellPriceSelected(size);\n        }\n\n        await this.props.onSetOrderPriceSelected(size);\n        await this.props.onSetMakerAmountSelected(totalSize);\n    };\n}\n\n\nconst mapOrderToRowDispatchToProps = (dispatch) => {\n    return {\n        onSetOrderPriceSelected: (orderPriceSelected) => dispatch(setOrderPriceSelected(orderPriceSelected)),\n        onSetOrderBuyPriceSelected: (orderPriceSelected) =>\n            dispatch(setOrderBuyPriceSelected(orderPriceSelected)),\n        onSetOrderSellPriceSelected: (orderPriceSelected) =>\n            dispatch(setOrderSellPriceSelected(orderPriceSelected)),\n        onSetMakerAmountSelected: (makerAmountSelected) =>\n            dispatch(setMakerAmountSelected(makerAmountSelected)),\n    };\n};\n\nconst OrderToRowContainer = connect(null, mapOrderToRowDispatchToProps)(OrderToRow);\n\nclass Orderbook extends Component {\n    state = {\n        depth: { value: this.props.defaultDepth || 5 },\n        bookOption: BookOptionType.BuySellBook,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this._spreadRowScrollable = React.createRef();\n        this._spreadRowFixed = React.createRef();\n        this._itemsScroll = React.createRef();\n    }\n\n    render() {\n        const {\n            orderBook,\n            baseToken,\n            quoteToken,\n            absoluteSpread,\n            percentageSpread,\n            currencyPair,\n            totalQuoteBuyOrders,\n            totalBaseSellOrders,\n            serverState\n        } = this.props;\n        const { sellOrders, buyOrders, mySizeOrders } = orderBook;\n\n        const mySizeSellArray = mySizeOrders.filter((order) => {\n            return order.side === OrderSide.Sell;\n        });\n        const mySizeBuyArray = mySizeOrders.filter((order) => {\n            return order.side === OrderSide.Buy;\n        });\n        const getColor = (order) => {\n            return order.side === OrderSide.Buy ? 'success' : 'danger';\n        };\n        let content;\n\n        if((!baseToken || !quoteToken) || serverState === ServerState.NotLoaded){\n            content = (\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`orderbooks-${this.props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            )\n        } else if ((!buyOrders.length && !sellOrders.length) || !baseToken || !quoteToken) {\n            content = (\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>There are no orders to show</EmptyText>\n                </div>\n            )\n        } else {\n            const spreadAbsFixed = absoluteSpread.toFixed(currencyPair.config.pricePrecision);\n            const spreadPercentFixed = percentageSpread.toFixed(UI_DECIMALS_DISPLAYED_SPREAD_PERCENT);\n            const basePrecision = currencyPair.config.basePrecision;\n\n            const totalBase = tokenAmountInUnits(totalBaseSellOrders, baseToken.decimals, basePrecision);\n\n            const totalQuote = tokenAmountInUnits(totalQuoteBuyOrders, quoteToken.decimals, 2);\n\n            const baseSymbol = formatTokenSymbol(baseToken.symbol);\n            const quoteSymbol = formatTokenSymbol(quoteToken.symbol);\n\n            const handleDepth = (value) => {\n                this.setState({ depth: { value: Number(value) } });\n            };\n\n            const bookOptionState = this.state.bookOption;\n            const handleBookOption = (option) => {\n                this.setState({ bookOption: option });\n            };\n\n            content = (\n                <>\n                    <HeaderRow className=\"d-flex align-items-center justify-content-between\">\n                        <div className={'d-flex align-items-center'}>\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.BuySellBook}\n                                onChange={() => handleBookOption(BookOptionType.BuySellBook)}\n                                isSell={true}\n                                isBuy\n                            />\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.BuyBook}\n                                onChange={() => handleBookOption(BookOptionType.BuyBook)}\n                                isBuy\n                            />\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.SellBook}\n                                onChange={() => handleBookOption(BookOptionType.SellBook)}\n                                isSell\n                            />\n                        </div>\n                        <div className=\"d-flex align-items-center\">\n                            <Dropdown size={'sm'} items={depthItems} placeholder={'Depth'} onChange={handleDepth} />\n                        </div>\n                    </HeaderRow>\n                    <TitleRow className=\"d-flex align-items-xl-center justify-content-between\">\n                        <Title>Asks</Title>\n                        <Result>{`Total: ${totalBase} ${baseSymbol}`}</Result>\n                    </TitleRow>\n                    <TableRow>\n                        <CustomHead>\n                            <TH>Trade Size</TH>\n                            <TH>Price ({formatTokenSymbol(quoteToken.symbol)})</TH>\n                            <TH>My Size</TH>\n                        </CustomHead>\n                        <TBody>\n\n                            {((bookOptionState === BookOptionType.BuySellBook ||\n                                bookOptionState === BookOptionType.SellBook)) && sellOrders\n                                .slice(sellOrders.length - this.state.depth.value, sellOrders.length)\n                                .map((order, index) => (\n                                    <OrderToRowContainer\n                                        key={index}\n                                        order={order}\n                                        index={index}\n                                        count={sellOrders.length}\n                                        orders={sellOrders}\n                                        baseToken={baseToken}\n                                        priceColor={getColor(order)}\n                                        mySizeOrders={mySizeSellArray}\n                                        currencyPair={currencyPair}\n                                    />\n                                ))}\n\n                            <SpreadTR>\n                                <SpreadTitle>Spread</SpreadTitle>\n                                <SpreadTitle>{spreadAbsFixed}</SpreadTitle>\n                                <SpreadTitle>{spreadPercentFixed}%</SpreadTitle>\n                            </SpreadTR>\n\n                            {((bookOptionState === BookOptionType.BuyBook ||\n                                bookOptionState === BookOptionType.BuySellBook)) && (\n                                buyOrders.slice(0, this.state.depth.value).map((order, index) => (\n                                    <OrderToRowContainer\n                                        key={index}\n                                        order={order}\n                                        index={index}\n                                        count={buyOrders.length}\n                                        orders={buyOrders}\n                                        baseToken={baseToken}\n                                        priceColor={getColor(order)}\n                                        mySizeOrders={mySizeBuyArray}\n                                        currencyPair={currencyPair}\n                                    />\n                                ))\n                            )}\n                        </TBody>\n\n\n                        <CustomHead>\n                            <SpreadTitle>Bids</SpreadTitle>\n                            <SpreadTitle>{`${totalQuote} ${quoteSymbol}`}</SpreadTitle>\n                            <SpreadTitle> </SpreadTitle>\n                        </CustomHead>\n                    </TableRow>\n                </>\n            )\n        }\n\n        return (\n            <Container>\n                {content}\n            </Container>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        quoteToken: state.spot.quoteToken,\n        userOrders: state.relayer.userOrders,\n        orderBookState: state.relayer.orderBookState,\n        orderBook: getOrderBook(state),\n        absoluteSpread: getSpread(state),\n        percentageSpread: getSpreadInPercentage(state),\n        totalQuoteBuyOrders: getTotalQuoteBuyOrders(state),\n        totalBaseSellOrders: getTotalBaseSellOrders(state),\n        serverState: getOrderbookState(state),\n    }\n}\n\nexport default connect(mapStateToProps)(Orderbook);\n","import { withRouter } from 'react-router-dom';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n    updateERC20Markets,\n    updateERC20Store,\n    updateMarketPriceEther,\n    updateMarketPriceQuote,\n    updateMarketPriceTokens\n} from \"../../../../state/spot/actions\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport {\n    UI_UPDATE_CHECK_INTERVAL, UPDATE_ERC20_MARKETS,\n    UPDATE_ETHER_PRICE_INTERVAL,\n    UPDATE_TOKENS_PRICE_INTERVAL\n} from \"../../../../constants\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(process.env.REACT_APP_WSS_URL);\n\nclass Provider extends Component {\n    _deactivatePollingUpdates = () => {\n        if (this._updateStoreInterval) {\n            clearInterval(this._updateStoreInterval);\n            this._updateStoreInterval = undefined;\n        }\n\n        if (this._updatePriceEtherInterval) {\n            clearInterval(this._updatePriceEtherInterval);\n            this._updatePriceEtherInterval = undefined;\n        }\n        if (this._updatePriceTokensInterval) {\n            clearInterval(this._updatePriceTokensInterval);\n            this._updatePriceTokensInterval = undefined;\n        }\n        if (this._updateERC20MarketsInterval) {\n            clearInterval(this._updateERC20MarketsInterval);\n            this._updateERC20MarketsInterval = undefined;\n        }\n    };\n\n    _activatePollingUpdates = () => {\n        this.props.onUpdateERC20Markets();\n        this.props.onUpdateMarketPriceTokens();\n        this.props.onUpdateMarketPriceEther();\n        this.props.onUpdateMarketPriceQuote();\n        this.props.onUpdateERC20Store(this.props.web3.account, web3.givenProvider || window.ethereum);\n        this.props.onUpdateMarketPriceQuote();\n        // Enables realtime updates of the store using polling\n        if (UI_UPDATE_CHECK_INTERVAL !== 0 && !this._updateStoreInterval) {\n            this._updateStoreInterval = window.setInterval(async () => {\n                this.props.onUpdateERC20Store(this.props.web3.account, web3.givenProvider || window.ethereum);\n                this.props.onUpdateMarketPriceQuote();\n                this.setState({\n                    isActiveCheckUpdates: true,\n                });\n            }, UI_UPDATE_CHECK_INTERVAL);\n        }\n\n        // Enables realtime updates of the price ether and quote token using polling\n        if (!this._updatePriceEtherInterval && UPDATE_ETHER_PRICE_INTERVAL !== 0) {\n            this._updatePriceEtherInterval = window.setInterval(async () => {\n                this.props.onUpdateMarketPriceEther();\n                this.props.onUpdateMarketPriceQuote();\n            }, UPDATE_ETHER_PRICE_INTERVAL);\n        }\n        // Enables realtime updates of token prices\n        if (\n            !this._updatePriceTokensInterval &&\n            UPDATE_TOKENS_PRICE_INTERVAL !== 0\n        ) {\n            this._updatePriceTokensInterval = window.setInterval(async () => {\n                this.props.onUpdateMarketPriceTokens();\n            }, UPDATE_TOKENS_PRICE_INTERVAL);\n        }\n        // Enables realtime updates of the token markets\n        if (!this._updateERC20MarketsInterval && UPDATE_ERC20_MARKETS !== 0) {\n            this._updateERC20MarketsInterval = window.setInterval(async () => {\n                this.props.onUpdateERC20Markets();\n            }, UPDATE_ERC20_MARKETS);\n        }\n    };\n\n    componentDidMount() {\n        if (this.props.web3.account) {\n            this._activatePollingUpdates();\n        }else {\n            // If the user is currently using the dApp with the interval and the metamask status changed, the polling is removed\n            this._deactivatePollingUpdates();\n        }\n    }\n\n    componentWillUnmount = () => {\n        clearInterval(this._updateStoreInterval);\n        clearInterval(this._updatePriceEtherInterval);\n        clearInterval(this._updatePriceTokensInterval);\n        clearInterval(this._updateERC20MarketsInterval);\n    };\n\n\n    render = () => this.props.children;\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onUpdateMarketPriceEther: () => dispatch(updateMarketPriceEther()),\n        onUpdateMarketPriceQuote: () => dispatch(updateMarketPriceQuote()),\n        onUpdateMarketPriceTokens: () => dispatch(updateMarketPriceTokens()),\n        onUpdateERC20Markets: () => dispatch(updateERC20Markets()),\n        onUpdateERC20Store: (account, library) => dispatch(updateERC20Store(account, library))\n    }\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(withWeb3Account(Provider)));\n","import { connect } from 'react-redux';\n\nimport {OrderSide, ServerState, USE_RELAYER_MARKET_UPDATES} from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { getCurrencyPairByTokensSymbol } from \"../../../../utils/spot/knownCurrencyPair\";\nimport { marketToStringFromTokens } from \"../../../../utils/spot/market\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport {lighten} from \"polished\";\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: white;\n  \n`\nconst Container = styled.div`\n  width: 280px;\n  display: flex;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    width: 100%;\n  }\n`\n\n\nconst TR = styled.div`\n  padding: 4px 16px;\n  border-radius: 12px;\n  margin-bottom: 4px;\n  max-height: 24px;\n  height: 24px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n`\nconst CustomHead = styled(TR)`\n  background-color: rgba(255, 255, 255, 0.1);\n  max-height: 32px;\n  height: 32px;\n  margin-bottom: 12px;\n  padding: 8px 16px;\n`\n\nconst TH = styled.span`\n  color: white;\n  font-size: .75rem;\n  font-weight: 400;\n`\n\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : 'white'};\n  font-size: .75rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 338px;\n  min-height: 338px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst TableContainer = styled.div`\n  padding-top: 77px;\n  padding-left: 8px;\n  \n  \n  @media (max-width: 1400px) {\n    padding: 0;\n  }\n`\n\nconst fillToRow = (fill, index) => {\n    let amountBase;\n    USE_RELAYER_MARKET_UPDATES\n        ? (amountBase = fill.amountBase.toFixed(fill.tokenBase.displayDecimals))\n        : (amountBase = tokenAmountInUnits(fill.amountBase, fill.tokenBase.decimals, fill.tokenBase.displayDecimals));\n\n    const displayAmountBase = `${amountBase}`;\n    let currencyPair;\n    try {\n        currencyPair = getCurrencyPairByTokensSymbol(fill.tokenBase.symbol, fill.tokenQuote.symbol);\n    } catch {\n        return null;\n    }\n    const price = parseFloat(fill.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n    return (\n        <TR key={index}>\n            <TD variant={fill.side === OrderSide.Buy ? 'success' : 'danger'}>\n                {price}\n            </TD>\n            <TD>{displayAmountBase}</TD>\n            <TD>\n                {fill.timestamp.toISOString().slice(-13, -5)}\n            </TD>\n        </TR>\n    );\n};\nconst MarketFills = props => {\n    let content;\n    const { marketFills, baseToken, quoteToken, marketFillsState } = props;\n\n    if(!baseToken || !quoteToken || marketFillsState === ServerState.NotLoaded) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                <Loading width={40} height={40} id={`market-fills-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n            </div>\n        )\n    }else if (!Object.keys(marketFills).length || !baseToken || !quoteToken || !marketFills[marketToStringFromTokens(baseToken, quoteToken)]) {\n        content = (\n            <div className={'d-flex flex-column'}>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>There are no trades to show</EmptyText>\n                </div>\n            </div>\n        )\n    } else {\n\n        const market = marketToStringFromTokens(baseToken, quoteToken);\n        const tokenQuoteSymbol = isWeth(quoteToken.symbol) ? 'ETH' : quoteToken.symbol.toUpperCase();\n        const tokenBaseSymbol = isWeth(baseToken.symbol) ? 'ETH' : baseToken.symbol.toUpperCase();\n\n        content = (\n            <TableContainer className=\"d-flex flex-column\">\n                <CustomHead>\n                    <TH >Price ({tokenQuoteSymbol})</TH>\n                    <TH>Amount</TH>\n                    <TH>Time</TH>\n                </CustomHead>\n                <TBody>\n                    {marketFills[market].map((marketFill, index) => fillToRow(marketFill, index))}\n                </TBody>\n            </TableContainer>\n        )\n    }\n\n    return (\n        <Container>\n            {content}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        marketFills: state.spotUI.marketFills,\n        quoteToken: state.spot.quoteToken,\n        marketFillsState:  state.relayer.marketFillsState,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketFills);\n","import { connect } from 'react-redux';\nimport styled from \"styled-components\";\nimport React from \"react\";\nimport {OrderStatus} from \"@0x/types\";\nimport { lighten } from 'polished';\n\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport { OrderSide } from '../../../../constants';\nimport { getCurrencyPairFromTokens } from \"../../../../utils/spot/knownCurrencyPair\";\nimport Loading from \"../../../../components/Loading\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport {cancelOrder} from \"../../../../state/relayer/actions\";\nimport {CloseIcon} from \"../../../../theme\";\nimport {RowBetween} from \"../../../../components/Row\";\n\nconst Card = styled(ResponsiveCard)`\n\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 10px;\n  min-height: 385px;\n  \n    & .card-body {\n      padding: 20px 30px 30px;\n      display: flex;\n      flex-direction: column;\n    }\n  \n  @media (min-width: 1400px) {\n    width: 570px;\n    height: 385px;\n  \n    & .card-body {\n      padding: 15px;\n      display: flex;\n      flex-direction: column;\n    }\n  }\n`\n\nconst CardTitle = styled.h4`\n  margin-top: 5px;\n  padding: 0;\n  margin-bottom: 10px;\n  font-size: .875rem;\n  font-weight: 700;\n  color: white;\n`\n\nconst Content = styled.div`\n  background-color: rgba(33, 36, 41, 0.5);\n  border-radius: 18px;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 323px;\n  overflow: hidden;\n  \n  \n  \n`\n\n\nconst InnerContent = styled.div`\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  flex: 1;\n  padding: 12px;\n  \n  \n  @media (max-width: 1400px) {\n    padding: 20px;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n  \n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: white;\n  \n`\n\nconst TR = styled.div`\n  padding: 4px 16px;\n  border-radius: 12px;\n  margin-bottom: 10px;\n  max-height: 24px;\n  height: 24px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n`\nconst CustomHead = styled(TR)`\n  background-color: rgba(255, 255, 255, 0.1);\n  max-height: 40px;\n  height: 40px;\n  padding: 12px 16px;\n  margin-bottom: 12px;\n`\n\nconst TH = styled.span`\n  color: white;\n  font-size: .75rem;\n  font-weight: 400;\n`\n\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : 'white'};\n  font-size: .875rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst Close = styled(CloseIcon)`\n  width: 16px;\n  height: 16px;\n`\n\nconst orderToRow = (order, index, baseToken, quoteToken, cancelOrder) => {\n    const sideLabel = order.side === OrderSide.Sell ? 'Sell' : 'Buy';\n    const size = tokenAmountInUnits(order.size, baseToken.decimals, baseToken.displayDecimals);\n    let status = '--';\n    let isOrderFillable = false;\n\n    const filled = order.filled\n        ? tokenAmountInUnits(order.filled, baseToken.decimals, baseToken.displayDecimals)\n        : null;\n    if (order.status) {\n        isOrderFillable = order.status === OrderStatus.Fillable;\n        status = isOrderFillable ? 'Open' : 'Filled';\n    }\n    const currencyPair = getCurrencyPairFromTokens(baseToken, quoteToken);\n    const price = parseFloat(order.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n    return (\n        <TR key={index}>\n            <TD variant={order.side === OrderSide.Buy ? 'success' : 'danger'}>{sideLabel}</TD>\n            <TD>{size}</TD>\n            <TD>{filled}</TD>\n            <TD>{price}</TD>\n            <TD>\n                <div className=\"d-flex align-items-center justify-content-between\">\n                    <span>{status}</span>\n\n                    <Close onClick={cancelOrder.bind(this, order)} />\n                </div>\n            </TD>\n        </TR>\n    );\n};\n\n\nconst OrderHistory = props => {\n    const { orders, baseToken, quoteToken } = props;\n    const ordersToShow = orders.filter(order => order.status === OrderStatus.Fillable);\n\n    let content;\n\n    if(!baseToken || !quoteToken) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                <Loading width={40} height={40} id={`order-history-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n            </div>\n        )\n    } else if (!ordersToShow.length || !baseToken || !quoteToken) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-xl-center\">\n                <EmptyText>There are no orders to show</EmptyText>\n            </div>\n        )\n    } else {\n        const tokenQuoteSymbol = isWeth(quoteToken.symbol) ? 'ETH' : quoteToken.symbol.toUpperCase();\n        const tokenBaseSymbol = isWeth(baseToken.symbol) ? 'ETH' : baseToken.symbol.toUpperCase();\n\n        content = (\n            <div className=\"d-flex flex-column\">\n                <CustomHead>\n                    <TH>Side</TH>\n                    <TH>Size ({tokenBaseSymbol})</TH>\n                    <TH>Filled ({tokenBaseSymbol})</TH>\n                    <TH>Price ({tokenQuoteSymbol})</TH>\n                    <TH>Status</TH>\n                </CustomHead>\n                <TBody>\n                    {ordersToShow.map((order, index) => orderToRow(order, index, baseToken, quoteToken, props.onCancelOrder))}\n                </TBody>\n            </div>\n        )\n    }\n\n    return (\n        <Card>\n            <CardTitle>Open Orders</CardTitle>\n            <Content>\n                <InnerContent>\n                    {content}\n                </InnerContent>\n            </Content>\n        </Card>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        orders: state.relayer.userOrders,\n        quoteToken: state.spot.quoteToken,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onCancelOrder: (order) => dispatch(cancelOrder(order))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderHistory);\n","import React, {useEffect, useState} from 'react'\nimport styled from 'styled-components'\n\nimport { RowBetween } from '../Row'\nimport { Input as NumericalInput } from '../NumericalInput'\nimport {tokenAmountInUnits, unitsInTokenAmount} from \"../../utils/spot/tokens\";\nimport {ZERO} from \"../../constants\";\nimport {ETHER, Token} from \"@uniswap/sdk\";\nimport {useCurrencyBalance} from \"../../state/wallet/hooks\";\nimport {useActiveWeb3React} from \"../../hooks\";\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  \n  padding: 0.625rem 0 0;\n  \n  \n  @media (min-width: 768px) {\n    padding-top: 0.75rem;\n  }\n`\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 34px;\n  \n  @media (min-width: 768px) {\n    margin-bottom: 15px;\n  }\n`\n\nconst Label = styled.span`\n  color: white;\n  font-size: .875rem;\n  font-weight: 400;\n  padding: 0 ;\n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  font-weight: 700;\n  }\n`\n\nconst InputContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex: 1;\n  \n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  color: ${({ theme }) => theme.text1};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0;\n`\n\n\nconst Aligner = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  @media (min-width: 768px) {\n  justify-content: space-between;\n  }\n`\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  position: relative;\n  border-radius: 0.42rem;\n`\n\n\nconst StyledTokenName = styled.span`\n  font-size:  0.875rem;\n  font-weight: 500;\n  \n  @media (min-width: 768px) {\n    font-size:  1rem;\n    margin-right: auto;\n  }\n\n`\n\n\nconst CurrencySelect = styled.button`\n  align-items: center;\n  height: 48px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  background-color: rgba(33, 36, 41, 0.5);\n  color: white;\n  border-bottom-left-radius: 18px;\n  border-top-left-radius: 18px;\n  box-shadow: none;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  border: none;\n  padding: 0.875rem 0.625rem;\n  min-width: 116px;\n  width: 116px;\n  text-align: center;\n  \n  \n  @media (min-width: 768px) {\n  min-width: 90px;\n  width: 90px;\n  padding: .625rem 1rem;\n  font-size: 1rem;\n  font-weight: 700;\n  text-align: left;\n  }\n\n  :focus,\n  :hover {\n    background-color: ${({ theme }) => theme.bg1};\n    outline: none;\n  }\n`\n\nlet BalanceRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  margin-top: 10px;\n  color: ${({ theme }) => theme.text1};\n  opacity: 0.5;\n  font-size: 0.75rem;\n  font-weight: 400;\n  line-height: 1rem;\n  padding: 0;\n  \n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  }\n`\n\nexport default class SpotInputPanel extends React.Component {\n    state = {\n        valueStr: this.props.value\n            ? tokenAmountInUnits(this.props.value, this.props.decimals, this.props.valueFixedDecimals)\n            : '',\n    }\n\n\n    _updateValue = value => {\n\n        const newValue = unitsInTokenAmount(value || '0', this.props.decimals);\n        const invalidValue = this.props.min && newValue.isLessThan(this.props.min);\n        if (invalidValue) {\n            return;\n        }\n\n        this.props.onUserInput(newValue);\n        this.setState({\n            valueStr: value,\n        })\n    };\n\n\n    static getDerivedStateFromProps = (props, state) => {\n        const { decimals, value, valueFixedDecimals } = props;\n        const { valueStr } = state;\n\n        if (!value) {\n            return {\n                valueStr: '',\n            };\n        } else if (value && !unitsInTokenAmount(valueStr || '0', decimals).eq(value)) {\n            return {\n                valueStr: tokenAmountInUnits(value, decimals, valueFixedDecimals),\n            };\n        } else {\n            return null;\n        }\n    };\n\n\n    render() {\n        const {\n            label = 'Input',\n            disable = false,\n            selected,\n            hideInput = false,\n            id,\n            showBalance = true,\n            balanceText,\n        } = this.props;\n        const { valueStr } = this.state;\n\n        return (\n            <InputPanel id={id}>\n                <Container>\n                    {!hideInput && (\n                        <LabelRow>\n                            <RowBetween>\n                                <Label>\n                                    {label}\n                                </Label>\n                            </RowBetween>\n                        </LabelRow>\n                    )}\n                    <InputRow style={hideInput ? { padding: '0', borderRadius: '0.42rem' } : {}} selected={disable}>\n\n                        <CurrencySelect\n                            selected={!!selected}\n                            className=\"open-currency-select-button\"\n                        >\n                            <Aligner>\n                                <StyledTokenName className=\"token-symbol-container\" active={Boolean(selected)}>\n                                    {(selected && selected?.length > 20\n                                        ? (selected?.slice(0, 4) +\n                                            '...' +\n                                            selected?.slice(selected?.length - 5, selected?.length)).toUpperCase()\n                                        : selected.toUpperCase()) || `Select`}\n                                </StyledTokenName>\n                            </Aligner>\n                        </CurrencySelect>\n\n                        {!hideInput && (\n                            <InputContainer>\n                                <NumericalInput\n                                    size={'sm'}\n                                    className=\"token-amount-input pl-3 \"\n                                    value={valueStr}\n                                    onUserInput={this._updateValue}\n                                />\n                            </InputContainer>\n                        )}\n                    </InputRow>\n                    {selected && showBalance && (\n                        <BalanceRow>\n                            {balanceText()}\n                        </BalanceRow>\n                    )}\n                </Container>\n            </InputPanel>\n        )\n    }\n\n}\n","import { BigNumber, NULL_BYTES } from '@0x/utils';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\n\nimport {OrderSide, ZERO} from '../../constants';\nimport { fetchTakerAndMakerFee } from \"../../state/relayer/actions\";\nimport { getOpenBuyOrders, getOpenSellOrders, getQuoteInUsd } from \"../../state/selectors\";\nimport {getKnownTokens} from \"../../utils/known_tokens\";\nimport {formatTokenSymbol, tokenAmountInUnits, unitsInTokenAmount} from \"../../utils/spot/tokens\";\nimport {toUnitAmount} from \"../../lib/helper\";\nimport {buildMarketOrders, sumTakerAssetFillableOrders} from \"../../utils/spot/orders\";\nimport withWeb3Account from \"../hoc/withWeb3Account\";\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &:not(:last-child) {\n    margin-bottom: 30px;\n  }\n`\n\nconst Text = styled.span`\n  font-size: .75rem;\n  font-weight: 400;\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    padding-left: 1rem;\n    font-size: .875rem;\n    font-weight: 700;\n  }\n`\n\nconst OrderType = {\n    Limit: 'Limit',\n    Market: 'Market',\n}\n\nclass OrderDetails extends React.Component {\n    state = {\n        makerFeeAmount: ZERO,\n        takerFeeAmount: ZERO,\n        makerFeeAssetData: NULL_BYTES,\n        takerFeeAssetData: NULL_BYTES,\n        quoteTokenAmount: ZERO,\n        canOrderBeFilled: true,\n    };\n\n    componentDidUpdate = async (prevProps) => {\n        const newProps = this.props;\n        if (\n            newProps.tokenPrice !== prevProps.tokenPrice ||\n            newProps.orderType !== prevProps.orderType ||\n            newProps.tokenAmount !== prevProps.tokenAmount ||\n            newProps.currencyPair !== prevProps.currencyPair ||\n            newProps.orderSide !== prevProps.orderSide\n        ) {\n            await this._updateOrderDetailsState();\n        }\n    };\n\n    _updateOrderDetailsState = async () => {\n        const { currencyPair, orderType, orderSide } = this.props;\n        if (!currencyPair) {\n            return;\n        }\n\n        if (orderType === OrderType.Limit) {\n            const { tokenAmount, tokenPrice, onFetchTakerAndMakerFee, web3 } = this.props;\n            const { quote, base } = currencyPair;\n            const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n            const baseToken = getKnownTokens().getTokenBySymbol(base);\n            // TODO: Check if this precision is enough, price was giving error on precision\n            const priceInQuoteBaseUnits = unitsInTokenAmount(tokenPrice.toString(), quoteToken.decimals);\n            const baseTokenAmountInUnits = toUnitAmount(tokenAmount, baseToken.decimals);\n            const quoteTokenAmount = baseTokenAmountInUnits.multipliedBy(priceInQuoteBaseUnits);\n            const { makerFee, makerFeeAssetData, takerFee, takerFeeAssetData } = await onFetchTakerAndMakerFee(\n                tokenAmount,\n                tokenPrice,\n                orderSide,\n                web3.account,\n                window.ethereum || web3.library\n            );\n            this.setState({\n                makerFeeAmount: makerFee,\n                makerFeeAssetData,\n                takerFeeAmount: takerFee,\n                takerFeeAssetData,\n                quoteTokenAmount,\n            });\n        } else {\n            const { tokenAmount, openSellOrders, openBuyOrders } = this.props;\n            const isSell = orderSide === OrderSide.Sell;\n            const [ordersToFill, amountToPayForEachOrder, canOrderBeFilled] = buildMarketOrders(\n                {\n                    amount: tokenAmount,\n                    orders: isSell ? openBuyOrders : openSellOrders,\n                },\n                orderSide,\n            );\n            // HACK(dekz): we assume takerFeeAssetData is either empty or is consistent through all orders\n            const firstOrderWithFees = ordersToFill.find(o => o.takerFeeAssetData !== NULL_BYTES);\n            const takerFeeAssetData = firstOrderWithFees ? firstOrderWithFees.takerFeeAssetData : NULL_BYTES;\n            const takerFeeAmount = ordersToFill.reduce((sum, order) => sum.plus(order.takerFee), ZERO);\n            const quoteTokenAmount = sumTakerAssetFillableOrders(orderSide, ordersToFill, amountToPayForEachOrder);\n\n            this.setState({\n                takerFeeAmount,\n                takerFeeAssetData,\n                quoteTokenAmount,\n                canOrderBeFilled,\n            });\n        }\n    };\n\n    _getCostStringForRender = () => {\n        const { canOrderBeFilled } = this.state;\n        const { orderType } = this.props;\n        if (orderType === OrderType.Market && !canOrderBeFilled) {\n            return `---`;\n        }\n\n        const { quote } = this.props.currencyPair;\n        const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n        const { quoteTokenAmount } = this.state;\n        //  const quoteTokenAmountUnits = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals);\n        const costAmount = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, quoteToken.displayDecimals);\n        return `${costAmount} ${formatTokenSymbol(quote)}`;\n    };\n\n    _getMedianPriceStringForRender = () => {\n        const { canOrderBeFilled } = this.state;\n        const { orderType } = this.props;\n        const { tokenAmount } = this.props;\n        if (orderType === OrderType.Market && !canOrderBeFilled) {\n            return `---`;\n        }\n        if (tokenAmount.eq(0)) {\n            return `---`;\n        }\n        const { quote, base, config } = this.props.currencyPair;\n        const { quoteTokenAmount } = this.state;\n        const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n        const baseToken = getKnownTokens().getTokenBySymbol(base);\n        const quoteTokenAmountUnits = new BigNumber(tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, 18));\n        const baseTokenAmountUnits = new BigNumber(tokenAmountInUnits(tokenAmount, baseToken.decimals, 18));\n        const priceDisplay = quoteTokenAmountUnits.div(baseTokenAmountUnits).toFormat(config.pricePrecision + 1);\n        return `${priceDisplay} ${formatTokenSymbol(quote)}`;\n    };\n\n    _getCostLabelStringForRender = () => {\n        const { qouteInUSD, orderSide } = this.props;\n        if (qouteInUSD) {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        } else {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        }\n    };\n\n    componentDidMount = async () => {\n        await this._updateOrderDetailsState();\n    };\n\n    render = () => {\n        // const fee = this._getFeeStringForRender();\n        const cost = this._getCostStringForRender();\n        const costText = this._getCostLabelStringForRender();\n        const priceMedianText = this._getMedianPriceStringForRender();\n        const { orderType } = this.props;\n\n        return (\n            <>\n                <Row>\n                    <Text>{costText}</Text>\n                    <Text>{cost}</Text>\n                </Row>\n                {orderType === OrderType.Market && (\n                    <Row>\n                        <Text>Median Price:</Text>\n                        <Text>{priceMedianText}</Text>\n                    </Row>\n                )}\n            </>\n        );\n    };\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        openSellOrders: getOpenSellOrders(state),\n        openBuyOrders: getOpenBuyOrders(state),\n        qouteInUSD: getQuoteInUsd(state),\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n            dispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n    };\n};\nexport default withWeb3Account(connect(mapStateToProps, mapDispatchToProps)(OrderDetails));\n","import { connect } from 'react-redux';\nimport {BigNumber} from \"@0x/utils\";\nimport {Component} from \"react\";\nimport { Button } from 'react-bootstrap';\nimport styled from 'styled-components';\n\nimport {ZERO, IS_ORDER_LIMIT_MATCHING, OrderSide} from \"../../../../constants\";\nimport {\n    startBuySellLimitMatchingSteps,\n    startBuySellLimitSteps,\n    startBuySellMarketSteps,\n} from '../../../../state/spotUI/actions';\nimport { fetchTakerAndMakerFee } from \"../../../../state/relayer/actions\";\nimport { isWeth, getKnownTokens } from \"../../../../utils/known_tokens\";\nimport { formatTokenSymbol, tokenAmountInUnits, tokenAmountInUnitsToBigNumber, unitsInTokenAmount } from \"../../../../utils/spot/tokens\";\nimport {\n    getCurrencyPair,\n    getMakerAmountSelected,\n    getOpenBuyOrders,\n    getOpenSellOrders,\n    getOrderPriceSelected\n} from \"../../../../state/selectors\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport SpotInputPanel from \"../../../../components/SpotInputPanel\";\nimport OrderDetailsContainer from '../../../../components/OrderDetailsContainer'\nimport withBalance from \"../../../../components/hoc/withBalance\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\n\nconst Card = styled(ResponsiveCard)`\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;      \n  }\n  \n  @media (min-width: 1400px) {\n    width: 580px;\n    height: 385px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 20px;\n      display: flex;\n      flex-direction: column;\n      \n    }\n  }\n`\n\nconst QuoteContainer = styled.div`\n  display: flex;\n  flex-direction: column;  \n  margin-bottom: -5px;\n  \n  @media (max-width: 1400px) {\n    padding-top: 0;\n    margin-bottom: -24px;\n  }\n`\n\nconst TabsContainer = styled.div`\n  margin-left: -20px;\n  margin-right: -20px;\n  margin-bottom: 10px;\n  \n  @media (max-width: 1400px) {\n    flex-direction: column-reverse;\n    align-items: stretch !important;\n    margin-bottom: 45px;\n  }\n`\n\nconst TabWrapper = styled.div`\n  padding: 0 20px;\n  flex: 1;\n  \n  @media (max-width: 1400px) {\n    &:not(:first-child) {\n      margin-bottom: 10px;\n    }\n  }\n`\n\nconst Tab = styled(Button)`\n  height: 48px;\n  font-size: 1rem;\n  font-weight: 500;\n  width: 100%;\n`\n\nconst Content = styled.div`\n  flex: 1;\n  position: relative;\n`\n\nconst DetailsContainer = styled.div`\n  margin-bottom: auto;\n`\n\nconst MarketType = styled.div`\n  position: absolute;\n  top: -14px;\n  right: 0;\n  z-index: 2;\n`\n\nconst MarketButton = styled.button`\n  :disabled {\n    color: white;\n    opacity: 1;\n  }\n`\n\nconst OrderType = {\n    Limit: 'Limit',\n    Market: 'Market',\n}\n\nconst TIMEOUT_BTN_ERROR = 2000;\nconst TIMEOUT_CARD_ERROR = 4000;\n\nclass BuySell extends Component {\n    state = {\n        makerAmount: null,\n        price: null,\n        orderType: OrderType.Limit,\n        tab: OrderSide.Buy,\n        error: {\n            btnMsg: null,\n            cardMsg: null,\n        },\n    };\n\n    componentDidUpdate = async (prevProps) => {\n        const newProps = this.props;\n        if (newProps.orderPriceSelected !== prevProps.orderPriceSelected && this.state.orderType === OrderType.Limit) {\n            this.setState({\n                price: newProps.orderPriceSelected,\n            });\n        }\n\n        if (\n            newProps.makerAmountSelected !== prevProps.makerAmountSelected &&\n            this.state.orderType === OrderType.Market\n        ) {\n            this.setState({\n                makerAmount: newProps.makerAmountSelected,\n            });\n        }\n    };\n\n\n    changeTab = (tab) => () => this.setState({ tab });\n\n    updateMakerAmount = (newValue) => {\n        this.setState({\n            makerAmount: newValue,\n        });\n    };\n\n\n    getAmountAvailableLabel = () => {\n        const { baseTokenBalance, quoteTokenBalance, totalEthBalance } = this.props;\n        const { tab } = this.state;\n        if (tab === OrderSide.Sell) {\n            if (baseTokenBalance) {\n                const tokenBalanceAmount = isWeth(baseTokenBalance.token.symbol)\n                    ? totalEthBalance\n                    : baseTokenBalance.balance;\n                const baseBalanceString = tokenAmountInUnits(\n                    tokenBalanceAmount,\n                    baseTokenBalance.token.decimals,\n                    baseTokenBalance.token.displayDecimals,\n                );\n                const symbol = formatTokenSymbol(baseTokenBalance.token?.symbol);\n                return `Available: ${baseBalanceString}  ${symbol}`;\n            } else {\n                return null;\n            }\n        } else {\n            if (quoteTokenBalance) {\n                const tokenBalanceAmount = isWeth(quoteTokenBalance.token?.symbol)\n                    ? totalEthBalance\n                    : quoteTokenBalance.balance;\n                const quoteBalanceString = tokenAmountInUnits(\n                    tokenBalanceAmount,\n                    quoteTokenBalance.token?.decimals,\n                    quoteTokenBalance.token?.displayDecimals,\n                );\n                const symbol = formatTokenSymbol(quoteTokenBalance.token?.symbol);\n                return `Available: ${quoteBalanceString}  ${symbol}`;\n            } else {\n                return null;\n            }\n        }\n    };\n\n\n    updatePrice = (price) => {\n        this.setState({ price });\n    };\n\n\n\n    submit = async () => {\n        const { currencyPair, tokensBalance, wethBalance, ethBalance, web3 } = this.props;\n        const minAmount = currencyPair.config.minAmount;\n        const decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n        const minAmountUnits = unitsInTokenAmount(String(minAmount), decimals);\n\n        const orderSide = this.state.tab;\n        const makerAmount = this.state.makerAmount || minAmountUnits;\n        const price = this.state.price || new BigNumber(0);\n\n        const orderFeeData = await this.props.onFetchTakerAndMakerFee(makerAmount, price, this.state.tab, web3.account, window.ethereum || web3.library);\n\n        if (this.state.orderType === OrderType.Limit) {\n            if (IS_ORDER_LIMIT_MATCHING) {\n                const result = await this.props.onSubmitLimitOrderMatching(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance, ethBalance);\n                if (result === 0) {\n                    await this.props.onSubmitLimitOrder(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance);\n                }\n            } else {\n                await this.props.onSubmitLimitOrder(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance);\n            }\n        } else {\n            try {\n                await this.props.onSubmitMarketOrder(makerAmount, orderSide, tokensBalance, wethBalance, ethBalance.balance);\n            } catch (error) {\n                this.setState(\n                    {\n                        error: {\n                            btnMsg: 'Error',\n                            cardMsg: error.message,\n                        },\n                    },\n                    () => {\n                        // After a timeout both error message and button gets cleared\n                        setTimeout(() => {\n                            this.setState({\n                                error: {\n                                    ...this.state.error,\n                                    btnMsg: null,\n                                },\n                            });\n                        }, TIMEOUT_BTN_ERROR);\n                        setTimeout(() => {\n                            this.setState({\n                                error: {\n                                    ...this.state.error,\n                                    cardMsg: null,\n                                },\n                            });\n                        }, TIMEOUT_CARD_ERROR);\n                    },\n                );\n            }\n        }\n        this._reset();\n    };\n\n\n    _reset = () => {\n        this.setState({\n            makerAmount: null,\n        });\n    };\n\n    _switchToMarket = () => {\n        this.setState({\n            orderType: OrderType.Market,\n        });\n    };\n\n    _switchToLimit = () => {\n        this.setState({\n            orderType: OrderType.Limit,\n        });\n    };\n\n\n    _getCostLabelStringForRender = () => {\n        const { qouteInUSD, orderSide } = this.props;\n        if (qouteInUSD) {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        } else {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        }\n    };\n\n    render() {\n        const { currencyPair, quoteTokenBalance, baseTokenBalance, totalEthBalance, baseToken, quoteToken } = this.props;\n        const { makerAmount, price, tab, orderType, error } = this.state;\n\n        const buySellInnerTabs = [\n            {\n                active: orderType === OrderType.Limit,\n                onClick: this._switchToLimit,\n                text: 'Limit',\n            },\n            {\n                active: orderType === OrderType.Market,\n                onClick: this._switchToMarket,\n                text: 'Market',\n            },\n        ];\n        const decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n        const quoteDecimals = getKnownTokens().getTokenBySymbol(currencyPair.quote).decimals;\n        // Configs\n        const pricePrecision = currencyPair.config.pricePrecision;\n        const minAmount = currencyPair.config.minAmount;\n        const minAmountUnits = unitsInTokenAmount(String(currencyPair.config.minAmount), decimals);\n\n        const basePrecision = currencyPair.config.basePrecision;\n        const isWethQuote = quoteTokenBalance && isWeth(quoteTokenBalance.token?.symbol);\n        const isWethBase = baseTokenBalance && isWeth(baseTokenBalance.token?.symbol);\n\n        const quoteUnits = isWethQuote\n            ? tokenAmountInUnitsToBigNumber(totalEthBalance || ZERO, 18)\n            : tokenAmountInUnitsToBigNumber((quoteTokenBalance && quoteTokenBalance.balance) || ZERO, quoteDecimals);\n\n        const baseBalance = isWethBase ? totalEthBalance : (baseTokenBalance && baseTokenBalance.balance) || ZERO;\n\n        const amount = makerAmount || minAmountUnits;\n        const makerAmountUnits = tokenAmountInUnitsToBigNumber(amount, decimals);\n        const isMakerAmountEmpty = amount === null || amount.isZero();\n        const isMakerAmountMin = amount === null || amount.isLessThan(minAmountUnits);\n\n        const isPriceEmpty = price === null || price.isZero();\n        const isPriceMin =\n            price === null || price.isLessThan(new BigNumber(1).div(new BigNumber(10).pow(pricePrecision)));\n        const isOrderTypeLimitIsEmpty =\n            orderType === OrderType.Limit && (isMakerAmountEmpty || isPriceEmpty || isPriceMin);\n        const isBuy = tab === OrderSide.Buy;\n        const isOrderTypeLimitOverflow =\n            (orderType === OrderType.Limit && isBuy && makerAmountUnits.multipliedBy(price || ZERO).gt(quoteUnits)) ||\n            (!isBuy && amount.gt(baseBalance));\n\n        const isOrderTypeMarketIsEmpty = orderType === OrderType.Market && (isMakerAmountEmpty || isMakerAmountMin);\n        const baseSymbol = formatTokenSymbol(currencyPair.base);\n        const btnPrefix = tab === OrderSide.Buy ? 'Buy ' : 'Sell ';\n        const btnText = error && error.btnMsg ? 'Error' : btnPrefix + baseSymbol;\n\n        return (\n            <Card>\n                <TabsContainer className=\"d-flex align-items-center justify-content-between\">\n                    <TabWrapper>\n                        <Tab variant={tab === OrderSide.Buy ? 'secondary-light' : 'light-secondary-light'} onClick={this.changeTab(OrderSide.Buy)}>\n                            Buy\n                        </Tab>\n                    </TabWrapper>\n                    <TabWrapper>\n                        <Tab variant={tab === OrderSide.Sell ? 'secondary-light' : 'light-secondary-light'} onClick={this.changeTab(OrderSide.Sell)}>\n                            Sell\n                        </Tab>\n                    </TabWrapper>\n                </TabsContainer>\n                <Content>\n                    <MarketType>\n                        {buySellInnerTabs.map((tab, index) => {\n                            return (\n                                <>\n                                    <MarketButton className=\"btn btn-link px-0\" disabled={tab.active} onClick={tab.onClick}>{tab.text}</MarketButton>\n                                    {index < buySellInnerTabs.length - 1 && (<span className={'px-2'}>/</span>)}\n                                </>\n                            )\n                        })}\n                    </MarketType>\n                    <SpotInputPanel\n                        token={baseToken}\n                        decimals={decimals}\n                        value={amount}\n                        onUserInput={this.updateMakerAmount}\n                        selected={currencyPair.base}\n                        valueFixedDecimals={basePrecision}\n                        label={`Amount (Min: ${minAmount})`}\n                        balanceText={this.getAmountAvailableLabel}\n                        showBalance={true}\n                        min={minAmountUnits}\n                    />\n                    {orderType === OrderType.Limit && (\n                        <QuoteContainer>\n                            <SpotInputPanel\n                                token={quoteToken}\n                                decimals={0}\n                                min={ZERO}\n                                value={price}\n                                onUserInput={this.updatePrice}\n                                selected={currencyPair.quote}\n                                valueFixedDecimals={pricePrecision}\n                                label={`Price per Token`}\n                                showBalance={false}\n                            />\n                        </QuoteContainer>\n                    )}\n                    <DetailsContainer className=\"d-flex flex-column\">\n                        <OrderDetailsContainer\n                            orderType={orderType}\n                            orderSide={tab}\n                            tokenAmount={amount}\n                            tokenPrice={price || new BigNumber(1).div(new BigNumber(10).pow(pricePrecision))}\n                            currencyPair={currencyPair}\n                        />\n                    </DetailsContainer>\n                    <div className=\"d-flex flex-column align-items-xl-center align-items-stretch justify-content-center mt-auto\">\n                        <Button\n                            disabled={\n                                isOrderTypeLimitIsEmpty ||\n                                isOrderTypeMarketIsEmpty ||\n                                isOrderTypeLimitOverflow\n                            }\n                            onClick={this.submit}\n                            variant={'primary'}\n                            style={{\n                                minWidth: 250,\n                                height: 56,\n                                marginTop: 10,\n                                fontSize: 20,\n                                fontWeight: 700\n                            }}\n                        >\n                            {btnText}\n                        </Button>\n                    </div>\n                </Content>\n            </Card>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        quoteToken: state.spot.quoteToken,\n        currencyPair: getCurrencyPair(state),\n        orderPriceSelected: getOrderPriceSelected(state),\n        makerAmountSelected: getMakerAmountSelected(state),\n        openSellOrders: getOpenSellOrders(state),\n        openBuyOrders: getOpenBuyOrders(state),\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onSubmitLimitOrder: (amount, price, side, orderFeeData, tokensBalance, wethBalance) =>\n            dispatch(startBuySellLimitSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance)),\n        onSubmitLimitOrderMatching: (\n            amount,\n            price,\n            side,\n            orderFeeData,\n            tokensBalance,\n            wethBalance,\n            ethBalance\n        ) => dispatch(startBuySellLimitMatchingSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance, ethBalance)),\n        onSubmitMarketOrder: (\n            amount,\n            side,\n            tokensBalance,\n            wethBalance,\n            ethBalance\n        ) =>\n            dispatch(startBuySellMarketSteps(amount, side, tokensBalance, wethBalance, ethBalance)),\n        onFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n            dispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n    };\n};\n\n\nexport default withBalance(connect(mapStateToProps, mapDispatchToProps)(withWeb3Account(BuySell)));\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {createSignedOrder} from \"../../../../../state/spotUI/actions\";\nimport {getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {submitLimitOrder} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(process.env.REACT_APP_WSS_URL);\nconst SignOrderStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step } = props;\n    const { amount, price, side } = step;\n\n    const submitOrder = async () => {\n\n        try {\n            const signedOrder = await props.createSignedOrder(amount, price, side, account, web3.givenProvider || window.ethereum, library);\n            await props.submitLimitOrder(signedOrder, amount, side)\n\n            props.onDone();\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        submitLimitOrder: (signedOrder, amount, side, account, library) =>\n            dispatch(submitLimitOrder(signedOrder, amount, side, account, library)),\n        createSignedOrder: (amount, price, side, account, web3, library) =>\n            dispatch(createSignedOrder(amount, price, side, account, web3, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignOrderStepContainer);\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {getCurrencyPair, getQuoteToken, getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {\n    getOrderbookAndUserOrders,\n    submitLimitMatchingOrder,\n} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(process.env.REACT_APP_WSS_URL);\nconst BuySellTokenMatchingStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step, onSubmitLimitMatchingOrder } = props;\n    const { amount, side, price } = step;\n\n    const submitOrder = async () => {\n        try {\n            const { txHash, amountInReturn } = await onSubmitLimitMatchingOrder(amount, price, side, account, web3.givenProvider || window.ethereum);\n            props.onDone(txHash);\n            props.refreshOrders();\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state),\n        currencyPair: getCurrencyPair(state),\n        quoteToken: getQuoteToken(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmitLimitMatchingOrder: (amount, price, side, account, library) =>\n            dispatch(submitLimitMatchingOrder(amount, price, side, account, library)),\n        refreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {getCurrencyPair, getQuoteToken, getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {\n    getOrderbookAndUserOrders,\n    submitMarketOrder\n} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(process.env.REACT_APP_WSS_URL);\nconst BuySellTokenMatchingStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step, onSubmitMarketOrder } = props;\n    const { amount, side, context } = step;\n\n    const submitOrder = async () => {\n        try {\n            if(context === 'order') {\n                const { txHash, amountInReturn } = await onSubmitMarketOrder(amount, side, account, web3.givenProvider || window.ethereum);\n                props.onDone(txHash);\n                props.refreshOrders();\n            }\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state),\n        currencyPair: getCurrencyPair(state),\n        quoteToken: getQuoteToken(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmitMarketOrder: (amount, side, account, library) =>\n            dispatch(submitMarketOrder(amount, side, account, library)),\n        refreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { Modal } from 'react-bootstrap';\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {setStepsModalCurrentStep} from \"../../../../state/spotUI/actions\";\nimport {CHAIN_ID, StepKind} from \"../../../../constants\";\n\nimport UnlockToken from \"../../../Borrow/ModalProvider/modals/UnlockToken\";\nimport SignOrderStepContainer from \"./modals/SignOrderStepContainer\";\nimport BuySellTokenMatchingStepContainer from \"./modals/BuySellTokenMatchingStepContainer\";\nimport BuySellTokenStepContainer from \"./modals/BuySellTokenStepContainer\";\nimport React, {useState} from \"react\";\nimport {TransactionSubmittedContent} from \"../../../../components/TransactionConfirmationModal\";\n\n\nconst ModalProvider = props => {\n    const [submitted, setSubmitted] = useState(false);\n    const [txHash, setTxHash] = useState(null)\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const dispatch = useDispatch();\n    const isOpen = currentStep !== null;\n\n    const hideModal = () => {\n        setSubmitted(false);\n        setTxHash(null);\n        dispatch(setStepsModalCurrentStep(null))\n    }\n\n    const onDone = (tx) => {\n        setSubmitted(true);\n        setTxHash(tx);\n    }\n\n    return (\n        <>\n            {props.children}\n            <Modal show={isOpen} centered onHide={hideModal}>\n                <Modal.Body className={'px-0 py-0'}>\n                    {!submitted ? (\n\n                        <>\n                            {currentStep && currentStep.kind === StepKind.ToggleTokenLock && (\n                                (<UnlockToken onDismiss={hideModal}/>)\n                            )}\n\n                            {currentStep && currentStep.kind === StepKind.BuySellLimit && (\n                                <SignOrderStepContainer onDismiss={hideModal} onDone={onDone} />\n                            )}\n                            {currentStep && currentStep.kind === StepKind.BuySellLimitMatching && (\n                                <BuySellTokenMatchingStepContainer onDismiss={hideModal} onDone={onDone}/>\n                            )}\n                            {currentStep && currentStep.kind === StepKind.BuySellMarket && (\n                                <BuySellTokenStepContainer onDismiss={hideModal} onDone={onDone}/>\n                            )}\n                        </>\n                    ) : (\n                        <TransactionSubmittedContent chainId={CHAIN_ID} hash={txHash} onDismiss={hideModal}/>\n                    )}\n                </Modal.Body>\n            </Modal>\n        </>\n\n    )\n}\n\nexport default ModalProvider;\n","import TradingViewWidget, { Themes } from 'react-tradingview-widget';\nimport {useEffect, useState} from 'react';\nimport styled from \"styled-components\";\n\nimport Page from \"../../components/Page\";\nimport CheckBalance from '../../components/CheckBalance';\nimport StyledCard, { ResponsiveCard } from \"../../components/Card\";\nimport marketTokens from \"../../constants/marketTokens.json\";\nimport MarketStats from \"./components/MarketStats\";\nimport MarketDetails from \"./components/MarketDetails\";\nimport Orderbook from \"./components/Orderbook\";\nimport Provider from './components/Provider';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport MarketFills from \"./components/MarketFills\";\nimport OrderHistory from \"./components/OrderHistory\";\nimport BuySell from \"./components/BuySell\";\nimport ModalProvider from \"./components/BuySell/ModalProvider\";\nimport {updateGasInfo} from \"../../state/currency/actions\";\n\n\nconst Row = styled.div`\n  display: ${({ justMobile }) => justMobile ? 'none' : \"flex\"};\n  margin-left: -5px;\n  margin-right: -5px;\n  \n  @media (max-width: 1400px) {\n    flex-direction: column;\n    display: ${({ justDesktop }) => justDesktop ? 'none' : \"flex\"};\n  }\n`\nconst Col = styled.div`\n  padding: 0 5px;\n  display: flex;\n  flex-direction: column;\n`\n\nconst Card = styled(StyledCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  overflow: hidden;\n  \n    & .card-body {\n      padding: 0;\n    }\n    @media (min-width: 1400px) {\n      margin-bottom: 10px;\n      width: 570px;\n      height: 373px;\n    }\n`\n\nconst ContainerCard = styled(ResponsiveCard)`\n  display: flex;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 582px;\n    height: 486px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 12px 20px 20px;\n      display: flex;\n    }\n`\n\nconst Spot = props => {\n    const [pair, setPair] = useState('BINANCE:ETHDAI');\n    const { baseToken, quoteToken } = useSelector(state => state.spot);\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if(!baseToken || !quoteToken) {\n            setPair('BINANCE:ETHDAI');\n        } else {\n            const quote = quoteToken && quoteToken.symbol.toLowerCase() === 'weth' ? 'ETH' : quoteToken.symbol.toUpperCase();\n            const base = baseToken && baseToken.symbol.toLowerCase() === 'weth' ? 'ETH' : baseToken.symbol.toUpperCase();\n            setPair(`BINANCE:${base}${quote}`)\n        }\n    }, [baseToken, quoteToken])\n\n    useEffect(() => {\n        dispatch(updateGasInfo())\n    }, [dispatch]);\n\n    return (\n        <Page title={false} morePadding size={'xl'}>\n            <Provider>\n                <ModalProvider>\n                    <Row justDesktop>\n                        <Col>\n                            <MarketStats />\n                        </Col>\n                        <Col>\n                            <MarketDetails isTradingGraphic={true}/>\n                            <Card>\n                                <TradingViewWidget\n                                    symbol={pair}\n                                    theme={Themes.DARK}\n                                    allow_symbol_change={false}\n                                    width={'100%'}\n                                    height={373}\n                                />\n                            </Card>\n                        </Col>\n                        <Col>\n                            <ContainerCard>\n                                <Orderbook />\n                                <MarketFills />\n                            </ContainerCard>\n                        </Col>\n                    </Row>\n                    <Row className={'justify-content-end'} justDesktop>\n                        <Col>\n                            <OrderHistory/>\n                        </Col>\n                        <Col>\n                            <BuySell/>\n                        </Col>\n                    </Row>\n                    <Row justMobile>\n                        <Col>\n                            <MarketDetails isMobile={true} isTradingGraphic={true}/>\n                            <Card>\n                                <TradingViewWidget\n                                    symbol={pair}\n                                    theme={Themes.DARK}\n                                    allow_symbol_change={false}\n                                    width={'100%'}\n                                    height={528}\n                                />\n                            </Card>\n                        </Col>\n\n                        <Col>\n                            <BuySell/>\n                        </Col>\n\n                        <Col>\n                            <ContainerCard>\n                                <Orderbook isMobile={true} />\n                            </ContainerCard>\n                        </Col>\n                        <Col>\n                            <ContainerCard>\n                                <MarketFills isMobile={true} />\n                            </ContainerCard>\n                        </Col>\n                        <Col>\n                            <MarketStats isMobile={true} />\n                        </Col>\n\n                        <Col>\n                            <OrderHistory isMobile={true}/>\n                        </Col>\n                    </Row>\n                </ModalProvider>\n            </Provider>\n        </Page>\n    )\n}\n\nexport default Spot;\n"],"sourceRoot":""}