{"version":3,"sources":["components/NumericalInput/index.tsx","../node_modules/react-feather/dist/icons/arrow-up-circle.js","components/TransactionConfirmationModal/index.tsx","../node_modules/react-bootstrap/esm/TabContainer.js","../node_modules/react-bootstrap/esm/TabContent.js","../node_modules/react-bootstrap/esm/TabPane.js","../node_modules/react-bootstrap/esm/Tab.js","components/WalletCard/styleds.tsx","../node_modules/react-i18next/dist/es/withTranslation.js","../node_modules/react-feather/dist/icons/alert-triangle.js","pages/Borrow/Provider/index.js","pages/Borrow/GlobalOverall/index.js","services/aave/gql.js","hooks/useTokenToBalance.js","components/hoc/withBalance.js","components/BorrowInputPanel/index.js","pages/Borrow/LendingBalance/LendingModalContainer.js","pages/Borrow/LendingBalance/index.js","pages/Borrow/BorrowBalance/BorrowTokenModal.js","pages/Borrow/BorrowBalance/RepayTokenModal.js","pages/Borrow/BorrowBalance/index.js","pages/Borrow/Common/index.js","pages/Borrow/ModalProvider/index.js","pages/Borrow/ModalProvider/modals/UnlockToken.js","pages/Borrow/ModalProvider/modals/WrapEth.js","pages/Borrow/ModalProvider/modals/LendingToken.js","state/defi/actions.js","pages/Borrow/ModalProvider/modals/BorrowToken.js","pages/Borrow/index.js"],"names":["StyledInput","styled","input","error","theme","red1","text1","bg1","align","size","reverse","noBorder","modalBG","text3","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ArrowUpCircle","forwardRef","_ref","ref","_ref$color","color","_ref$size","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","points","x1","y1","x2","y2","propTypes","PropTypes","string","oneOfType","number","displayName","Wrapper","div","Section","AutoColumn","BottomSection","ConfirmedIcon","ColumnCenter","ConfirmationPendingContent","onDismiss","pendingText","useTheme","t","useTranslation","Row","onClick","Loading","id","active","gap","justify","fontWeight","fontSize","textAlign","text2","TransactionSubmittedContent","chainId","hash","useContext","ThemeContext","primary","href","getEtherscanLink","style","margin","className","ConfirmationModalContent","bottomContent","topContent","TransactionErrorContent","message","marginTop","padding","Button","TransactionConfirmationModal","isOpen","attemptingTxn","content","useActiveWeb3React","Modal","maxHeight","TabContainer","props","_useUncontrolled","useUncontrolled","activeKey","generateCustomChildId","generateChildId","onSelect","transition","mountOnEnter","unmountOnExit","children","useMemo","tabContext","getControlledId","getControllerId","TabContext","Provider","SelectableContext","TabContent","bsPrefix","_ref$as","as","Component","decoratedBsPrefix","useBootstrapPrefix","classNames","TabPane","_useTabContext","context","shouldTransition","makeEventKey","eventKey","Fade","useTabContext","onEnter","onEntering","onEntered","onExit","onExiting","onExited","Transition","_useTabContext$as","prefix","pane","role","in","Tab","_React$Component","_inheritsLoose","render","Error","Container","Content","Pane","CustomNavItem","Nav","Item","CustomInputGroup","InputGroup","CustomNavLink","Link","primaryLight","LogoContainer","Title","span","CustomText","PoolsButton","TradeButton","variant","StyledLink","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","withTranslation","ns","options","undefined","WrappedComponent","I18nextWithTranslation","forwardedRef","_useTranslation","_useTranslation2","_slicedToArray","i18n","ready","passDownProps","tReady","withRef","concat","getDisplayName","AlertTriangle","d","GraphQlProvider","client","getAaveGraphClient","StyledCard","Card","Text","GlobalOverall","account","isNative","useSelector","getAaveCurrency","dispatch","useDispatch","userAccountData","getAaveUserAccountData","ethUsd","getEthInUsd","fetchAaveGlobal","a","getAaveOverall","userAcc","setAaveUserAccountData","useEffect","loadingLendingPoolData","useInterval","formatETHField","field","dividedBy","toFixed","multipliedBy","totalLiquidity","totalCollateralETH","totalBorrowsETH","availableBorrowsETH","currentLiquidationThreshold","ltv","healthFactor","gt","BigNumber","columns","dataField","text","formatter","cellContent","row","rowIndex","wrapperClasses","bordered","classes","bootstrap4","keyField","remote","data","ResponsiveTable","breakpoint","direction","withoutBorder","GET_AAVE_RESERVES","gql","useSpotBalances","library","baseToken","getBaseToken","quoteToken","getQuoteToken","knownTokens","getKnownTokens","tokens","getTokens","wethToken","getWethToken","allBalances","address","useState","balances","setBalances","fetchBalances","tokensToTokenBalances","res","useTokenToBalance","window","ethereum","ethBalance","useETHBalances","wethBalance","find","b","token","symbol","tokensBalance","ethereumBalance","ETH","toExact","bn","currency","balance","totalEthBalance","total","plus","baseTokenBalance","searchToken","tokenBalances","wethTokenBalance","tokenToFind","quoteTokenBalance","withBalance","InputRow","flexRowNoWrap","Label","InputContainer","LabelRow","Aligner","InputPanel","flexColumnNoWrap","StyledTokenName","CurrencySelect","button","BalanceRow","BorrowInputPanel","state","valueStr","tokenAmountInUnits","decimals","valueFixedDecimals","_updateValue","newValue","unitsInTokenAmount","min","isLessThan","setState","label","disable","selected","hideInput","showBalance","balanceText","Token","name","borderRadius","CurrencyLogo","Boolean","slice","toUpperCase","NumericalInput","getDerivedStateFromProps","eq","h4","SummaryRow","CustomTypeBlack","TYPE","Black","StyledButton","LendingModalContainer","amount","btnMsg","cardMsg","componentDidMount","TX_DEFAULTS_TRANSFER","gasTransferToken","toast","submit","tokenBalance","isEth","aToken","isLending","onSubmit","_reset","_closeModal","setMax","maxBalance","updateAmount","coinSymbol","displayDecimals","closeModal","show","liquidityRate","tokenSymbolToDisplayString","btnPrefix","balanceInUnits","btnText","isSubmitAllowed","isGreaterThan","onHide","centered","Body","Col","xs","max","pow","toString","marginBottom","disabled","contextType","Symbol","Name","CellText","isEthState","setIsEthState","isHideZeroBalance","isStableCoin","isModalOpenState","setIsModalOpenState","isSubmittingState","setIsSubmittingState","aTokenDataState","setATokenDataState","isLendingState","setIsLendingState","tokenBalanceState","setTokenBalanceState","order","sort","setSort","aTokensData","getATokensData","tokensPrice","getTokensPrice","ethTotalBalance","currencySelector","getAaveLoadingState","tokensRow","map","tokenD","isEthToken","isWethToken","tb","isEqualTo","displayBalance","displayDepositBalance","tokB","formattedLendBalance","formattedBalance","tokenPrice","c_id","Number","price_usd","toNumber","apy","tokenName","tokenSymbol","sortedData","handleSubmit","startLendingTokenSteps","Protocol","Aave","startUnLendingTokenSteps","wethPlusEthBalance","openLendingModal","openUnLendingModal","bind","warning","isAction","formatExtraData","onTableChange","sortField","sortOrder","isSubmitting","BorrowTokenModal","availableForBorrow","setError","setAmount","variableBorrowRate","RepayTokenModal","borrowedBalance","setIsNotEnoughBalance","isLessThanOrEqualTo","balanceInShort","minus","balanceBorrowedInUnits","amountSubmit","isModalBorrowOpenState","setIsModalBorrowOpenState","isModalRepayOpenState","setIsModalRepayOpenState","isBorrowState","setIsBorrowState","availableForBorrowState","setAvailableForBorrowState","borrowBalanceState","setBorrowBalanceState","reserves","getAaveReservesGQLResponse","borrowBalance","reserve","displayAvailableForBorrowBalance","displayBorrowedBalance","availableBalanceForBorrowToken","priceInEth","price","totalAvailableForBorrowETH","integerValue","ROUND_DOWN","formattedBorrowedBalance","formattedAvailableForBorrowBalance","closeBorrowModal","closeRepayModal","startBorrowTokenSteps","startRepayTokenSteps","openBorrowModal","openRepayModal","modals","web3","web3Wrapper","HeaderCol","CustomNav","BorrowCommon","useQuery","pollInterval","loading","aaveLoadingState","setAaveReservesGQLResponse","AaveLoadingState","NotLoaded","initAave","fetchAave","defaultActiveKey","UnlockToken","unlocking","setUnlocking","currentStep","getStepsModalCurrentStep","unlockToken","getContractWrappers","getProvider","contractWrappers","approveAddress","contractAddresses","erc20Proxy","erc20Token","ERC20TokenContract","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","approve","sendTransactionAsync","from","tx","awaitTransactionSuccessAsync","stepsModalAdvanceStep","wrapping","setWrapping","currentWethBalance","newWethBalance","convertingFrom","wrapEthereum","updateWethBalance","convertTxHash","connect","step","gasInfo","getGasInfo","onSubmitLendingToken","defiToken","getState","protocol","getDefiProtocol","txHash","lendingAToken","lendingDefiToken","onSubmitUnLendingToken","unLendingAToken","unLendingDefiToken","setLoading","amountOfTokenString","Lending","onDone","onSubmitBorrowToken","borrowAToken","borrowDefiToken","onSubmitRepayToken","repayAToken","repayDefiToken","isBorrow","Borrowing","ModalProvider","submitted","setSubmitted","setTxHash","Web3","givenProvider","providers","HttpProvider","process","currentProvider","Web3Wrapper","hideModal","setStepsModalCurrentStep","CHAIN_ID","kind","StepKind","ToggleTokenLock","WrapEth","LendingToken","UnLendingToken","RepayToken","BorrowToken","Borrow","Page","networkSensitive"],"mappings":"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","file":"static/js/27.cb49babe.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { escapeRegExp } from \"../../utils\";\n\nconst StyledInput = styled.input<{\n\terror?: boolean;\n\tfontSize?: string;\n\talign?: string;\n\tnoBorder?: boolean;\n\treverse?: boolean;\n\tsize?: string;\n}>`\n\tcolor: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n\twidth: 0;\n\tposition: relative;\n\tfont-weight: 500;\n\tfont-family: inherit;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tfont-size: 1rem;\n\ttext-align: ${({ align }) => align && align};\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\theight: ${({ size }) => (size === \"sm\" ? \"48px\" : \"56px\")};\n\tborder-bottom-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-top-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-bottom-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tborder-top-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tpadding-right: 0.625rem;\n\tpadding-left: 0.625rem;\n\t// padding-left: ${({ noBorder, reverse }) => (reverse ? \"1.375rem\" : noBorder ? \"0.625rem\" : `1.5rem`)};\n\t-webkit-appearance: textfield;\n\t// border-left: ${({ theme, noBorder }) => (noBorder ? \"none\" : `3px solid ${theme.modalBG}`)};\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t[type=\"number\"] {\n\t\t-moz-appearance: textfield;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n`;\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`); // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n\tvalue,\n\tonUserInput,\n\tplaceholder,\n\tsize,\n\t...rest\n}: {\n\tvalue: string | number;\n\tonUserInput: (input: string) => void;\n\terror?: boolean;\n\tfontSize?: string;\n\tsize?: string;\n\talign?: \"right\" | \"left\";\n} & Omit<React.HTMLProps<HTMLInputElement>, \"ref\" | \"onChange\" | \"as\">) {\n\tconst enforcer = (nextUserInput: string) => {\n\t\tif (nextUserInput === \"\" || inputRegex.test(escapeRegExp(nextUserInput))) {\n\t\t\tonUserInput(nextUserInput);\n\t\t}\n\t};\n\n\treturn (\n\t\t<StyledInput\n\t\t\t{...rest}\n\t\t\tvalue={value}\n\t\t\tonChange={(event) => {\n\t\t\t\t// replace commas with periods, because uniswap exclusively uses period as the decimal separator\n\t\t\t\tenforcer(event.target.value.replace(/,/g, \".\"));\n\t\t\t}}\n\t\t\t// universal input options\n\t\t\tinputMode=\"decimal\"\n\t\t\ttitle=\"Token Amount\"\n\t\t\tautoComplete=\"off\"\n\t\t\tautoCorrect=\"off\"\n\t\t\tsize={size}\n\t\t\t// text-specific options\n\t\t\ttype=\"text\"\n\t\t\tpattern=\"^[0-9]*[.,]?[0-9]*$\"\n\t\t\tplaceholder={placeholder || \"0.0\"}\n\t\t\tminLength={1}\n\t\t\tmaxLength={79}\n\t\t\tspellCheck=\"false\"\n\t\t/>\n\t);\n});\n\nexport default Input;\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ArrowUpCircle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 12 12 8 8 12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"8\"\n  }));\n});\nArrowUpCircle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nArrowUpCircle.displayName = 'ArrowUpCircle';\nexport default ArrowUpCircle;","import { ChainId } from \"@uniswap/sdk\";\nimport React, { useContext } from \"react\";\nimport styled, { ThemeContext } from \"styled-components\";\nimport Modal from \"../Modal\";\nimport { ExternalLink } from \"../../theme\";\nimport { Text } from \"rebass\";\nimport { CloseIcon } from \"../../theme/components\";\nimport { RowBetween } from \"../Row\";\nimport { AlertTriangle, ArrowUpCircle } from \"react-feather\";\nimport { ButtonPrimary } from \"../Button\";\nimport { AutoColumn, ColumnCenter } from \"../Column\";\nimport Loading from \"../Loading\";\nimport Button from \"../UI/Button\";\n\nimport { getEtherscanLink } from \"../../utils\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport useTheme from \"../../hooks/useTheme\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Wrapper = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n`;\nconst Section = styled(AutoColumn)`\n\tpadding: 30px;\n`;\n\nconst BottomSection = styled(Section)`\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tborder-bottom-left-radius: 20px;\n\tborder-bottom-right-radius: 20px;\n\tflex: 1;\n\n\t@media (max-width: 1199px) {\n\t\tborder-radius: 0;\n\t}\n`;\n\nconst ConfirmedIcon = styled(ColumnCenter)`\n\tpadding: 60px 0;\n`;\n\nexport function ConfirmationPendingContent({ onDismiss, pendingText }: { onDismiss: () => void; pendingText: string }) {\n\tconst theme = useTheme();\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Section>\n\t\t\t\t<RowBetween>\n\t\t\t\t\t<div />\n\t\t\t\t\t<CloseIcon onClick={onDismiss} />\n\t\t\t\t</RowBetween>\n\t\t\t\t<ConfirmedIcon>\n\t\t\t\t\t<Loading width={90} height={90} id={\"confirmation_pending\"} active />\n\t\t\t\t</ConfirmedIcon>\n\t\t\t\t<AutoColumn gap=\"12px\" justify={\"center\"}>\n\t\t\t\t\t<Text fontWeight={500} fontSize={20}>\n\t\t\t\t\t\t{t(\"waitingForConfirmation\")}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<AutoColumn gap=\"12px\" justify={\"center\"}>\n\t\t\t\t\t\t<Text fontWeight={600} fontSize={14} color=\"\" textAlign=\"center\">\n\t\t\t\t\t\t\t{pendingText}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</AutoColumn>\n\t\t\t\t\t<Text fontSize={12} color={theme.text2} textAlign=\"center\">\n\t\t\t\t\t\t{t(\"confirmMessage\")}\n\t\t\t\t\t</Text>\n\t\t\t\t</AutoColumn>\n\t\t\t</Section>\n\t\t</Wrapper>\n\t);\n}\n\nexport function TransactionSubmittedContent({\n\tonDismiss,\n\tchainId,\n\thash,\n}: {\n\tonDismiss: () => void;\n\thash: string | undefined;\n\tchainId: ChainId | undefined;\n}) {\n\tconst theme = useContext(ThemeContext);\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Section>\n\t\t\t\t<RowBetween>\n\t\t\t\t\t<div />\n\t\t\t\t\t<CloseIcon onClick={onDismiss} />\n\t\t\t\t</RowBetween>\n\t\t\t\t<ConfirmedIcon>\n\t\t\t\t\t<ArrowUpCircle strokeWidth={0.5} size={90} color={theme.primary} />\n\t\t\t\t</ConfirmedIcon>\n\t\t\t\t<AutoColumn gap=\"12px\" justify={\"center\"}>\n\t\t\t\t\t<Text fontWeight={500} fontSize={20}>\n\t\t\t\t\t\t{t(\"txnSubmitted\")}\n\t\t\t\t\t</Text>\n\t\t\t\t\t{chainId && hash && (\n\t\t\t\t\t\t<ExternalLink href={getEtherscanLink(chainId, hash, \"transaction\")}>\n\t\t\t\t\t\t\t<Text fontWeight={500} fontSize={14} color={theme.primary}>\n\t\t\t\t\t\t\t\t{t(\"viewOnEtherscan\")}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t)}\n\t\t\t\t\t<Button onClick={onDismiss} style={{ margin: \"20px 0 0 0\" }} className={\"btn-block\"}>\n\t\t\t\t\t\t{t(\"close\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</AutoColumn>\n\t\t\t</Section>\n\t\t</Wrapper>\n\t);\n}\n\nexport function ConfirmationModalContent({\n\ttitle,\n\tbottomContent,\n\tonDismiss,\n\ttopContent,\n}: {\n\ttitle: string;\n\tonDismiss: () => void;\n\ttopContent: () => React.ReactNode;\n\tbottomContent: () => React.ReactNode;\n}) {\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Section>\n\t\t\t\t<RowBetween>\n\t\t\t\t\t<Text fontWeight={500} fontSize={20}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<CloseIcon onClick={onDismiss} className={\"d-none d-xl-flex\"} />\n\t\t\t\t</RowBetween>\n\t\t\t\t{topContent()}\n\t\t\t</Section>\n\t\t\t<BottomSection gap=\"12px\">{bottomContent()}</BottomSection>\n\t\t</Wrapper>\n\t);\n}\n\nexport function TransactionErrorContent({ message, onDismiss }: { message: string; onDismiss: () => void }) {\n\tconst theme = useContext(ThemeContext);\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Section>\n\t\t\t\t<RowBetween>\n\t\t\t\t\t<Text fontWeight={500} fontSize={20}>\n\t\t\t\t\t\t{t(\"error\")}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<CloseIcon onClick={onDismiss} />\n\t\t\t\t</RowBetween>\n\t\t\t\t<AutoColumn style={{ marginTop: 20, padding: \"2rem 0\" }} gap=\"24px\" justify=\"center\">\n\t\t\t\t\t<AlertTriangle color={theme.red1} style={{ strokeWidth: 1.5 }} size={64} />\n\t\t\t\t\t<Text\n\t\t\t\t\t\tfontWeight={500}\n\t\t\t\t\t\tfontSize={16}\n\t\t\t\t\t\tcolor={theme.red1}\n\t\t\t\t\t\tstyle={{ textAlign: \"center\", width: \"85%\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Text>\n\t\t\t\t</AutoColumn>\n\t\t\t</Section>\n\t\t\t<BottomSection gap=\"12px\">\n\t\t\t\t<ButtonPrimary onClick={onDismiss}>{t(\"dismiss\")}</ButtonPrimary>\n\t\t\t</BottomSection>\n\t\t</Wrapper>\n\t);\n}\n\ninterface ConfirmationModalProps {\n\tisOpen: boolean;\n\tonDismiss: () => void;\n\thash: string | undefined;\n\tcontent: () => React.ReactNode;\n\tattemptingTxn: boolean;\n\tpendingText: string;\n}\n\nexport default function TransactionConfirmationModal({\n\tisOpen,\n\tonDismiss,\n\tattemptingTxn,\n\thash,\n\tpendingText,\n\tcontent,\n}: ConfirmationModalProps) {\n\tconst { chainId } = useActiveWeb3React();\n\n\tif (!chainId) return null;\n\n\t// confirmation screen\n\treturn (\n\t\t<Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={90}>\n\t\t\t{attemptingTxn ? (\n\t\t\t\t<ConfirmationPendingContent onDismiss={onDismiss} pendingText={pendingText} />\n\t\t\t) : hash ? (\n\t\t\t\t<TransactionSubmittedContent chainId={chainId} hash={hash} onDismiss={onDismiss} />\n\t\t\t) : (\n\t\t\t\tcontent()\n\t\t\t)}\n\t\t</Modal>\n\t);\n}\n","import React, { useMemo } from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport TabContext from './TabContext';\nimport SelectableContext from './SelectableContext';\n\nvar TabContainer = function TabContainer(props) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      id = _useUncontrolled.id,\n      generateCustomChildId = _useUncontrolled.generateChildId,\n      onSelect = _useUncontrolled.onSelect,\n      activeKey = _useUncontrolled.activeKey,\n      transition = _useUncontrolled.transition,\n      mountOnEnter = _useUncontrolled.mountOnEnter,\n      unmountOnExit = _useUncontrolled.unmountOnExit,\n      children = _useUncontrolled.children;\n\n  var generateChildId = useMemo(function () {\n    return generateCustomChildId || function (key, type) {\n      return id ? id + \"-\" + type + \"-\" + key : null;\n    };\n  }, [id, generateCustomChildId]);\n  var tabContext = useMemo(function () {\n    return {\n      onSelect: onSelect,\n      activeKey: activeKey,\n      transition: transition,\n      mountOnEnter: mountOnEnter || false,\n      unmountOnExit: unmountOnExit || false,\n      getControlledId: function getControlledId(key) {\n        return generateChildId(key, 'tabpane');\n      },\n      getControllerId: function getControllerId(key) {\n        return generateChildId(key, 'tab');\n      }\n    };\n  }, [onSelect, activeKey, transition, mountOnEnter, unmountOnExit, generateChildId]);\n  return /*#__PURE__*/React.createElement(TabContext.Provider, {\n    value: tabContext\n  }, /*#__PURE__*/React.createElement(SelectableContext.Provider, {\n    value: onSelect || null\n  }, children));\n};\n\nexport default TabContainer;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar TabContent = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"as\", \"className\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'tab-content');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix)\n  }));\n});\nexport default TabContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport TabContext from './TabContext';\nimport SelectableContext, { makeEventKey } from './SelectableContext';\nimport Fade from './Fade';\n\nfunction useTabContext(props) {\n  var context = useContext(TabContext);\n  if (!context) return props;\n\n  var activeKey = context.activeKey,\n      getControlledId = context.getControlledId,\n      getControllerId = context.getControllerId,\n      rest = _objectWithoutPropertiesLoose(context, [\"activeKey\", \"getControlledId\", \"getControllerId\"]);\n\n  var shouldTransition = props.transition !== false && rest.transition !== false;\n  var key = makeEventKey(props.eventKey);\n  return _extends({}, props, {\n    active: props.active == null && key != null ? makeEventKey(activeKey) === key : props.active,\n    id: getControlledId(props.eventKey),\n    'aria-labelledby': getControllerId(props.eventKey),\n    transition: shouldTransition && (props.transition || rest.transition || Fade),\n    mountOnEnter: props.mountOnEnter != null ? props.mountOnEnter : rest.mountOnEnter,\n    unmountOnExit: props.unmountOnExit != null ? props.unmountOnExit : rest.unmountOnExit\n  });\n}\n\nvar TabPane = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useTabContext = useTabContext(props),\n      bsPrefix = _useTabContext.bsPrefix,\n      className = _useTabContext.className,\n      active = _useTabContext.active,\n      onEnter = _useTabContext.onEnter,\n      onEntering = _useTabContext.onEntering,\n      onEntered = _useTabContext.onEntered,\n      onExit = _useTabContext.onExit,\n      onExiting = _useTabContext.onExiting,\n      onExited = _useTabContext.onExited,\n      mountOnEnter = _useTabContext.mountOnEnter,\n      unmountOnExit = _useTabContext.unmountOnExit,\n      Transition = _useTabContext.transition,\n      _useTabContext$as = _useTabContext.as,\n      Component = _useTabContext$as === void 0 ? 'div' : _useTabContext$as,\n      _ = _useTabContext.eventKey,\n      rest = _objectWithoutPropertiesLoose(_useTabContext, [\"bsPrefix\", \"className\", \"active\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"mountOnEnter\", \"unmountOnExit\", \"transition\", \"as\", \"eventKey\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'tab-pane');\n  if (!active && !Transition && unmountOnExit) return null;\n  var pane = /*#__PURE__*/React.createElement(Component, _extends({}, rest, {\n    ref: ref,\n    role: \"tabpanel\",\n    \"aria-hidden\": !active,\n    className: classNames(className, prefix, {\n      active: active\n    })\n  }));\n  if (Transition) pane = /*#__PURE__*/React.createElement(Transition, {\n    in: active,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited,\n    mountOnEnter: mountOnEnter,\n    unmountOnExit: unmountOnExit\n  }, pane); // We provide an empty the TabContext so `<Nav>`s in `<TabPane>`s don't\n  // conflict with the top level one.\n\n  return /*#__PURE__*/React.createElement(TabContext.Provider, {\n    value: null\n  }, /*#__PURE__*/React.createElement(SelectableContext.Provider, {\n    value: null\n  }, pane));\n});\nTabPane.displayName = 'TabPane';\nexport default TabPane;","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport TabContainer from './TabContainer';\nimport TabContent from './TabContent';\nimport TabPane from './TabPane';\n\n/* eslint-disable react/require-render-return, react/no-unused-prop-types */\nvar Tab = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Tab, _React$Component);\n\n  function Tab() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Tab.prototype;\n\n  _proto.render = function render() {\n    throw new Error('ReactBootstrap: The `Tab` component is not meant to be rendered! ' + \"It's an abstract component that is only valid as a direct Child of the `Tabs` Component. \" + 'For custom tabs components use TabPane and TabsContainer directly');\n    return null;\n  };\n\n  return Tab;\n}(React.Component);\n\nTab.Container = TabContainer;\nTab.Content = TabContent;\nTab.Pane = TabPane;\nexport default Tab;","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Nav } from \"react-bootstrap\";\nimport { InputGroup } from \"../Form\";\n\nexport const CustomNavItem = styled(Nav.Item)`\n\tmargin-right: 0.5rem;\n`;\n\nexport const CustomInputGroup = styled(InputGroup)`\n\tmargin-bottom: 2rem;\n`;\n\nexport const CustomNavLink = styled(Nav.Link)`\n\tborder-radius: 18px !important;\n\tcolor: ${({ theme }) => theme.primary};\n\tbackground-color: ${({ theme }) => theme.primaryLight};\n\twhite-space: nowrap;\n\tpadding: 0.75rem 1.5rem;\n\tmin-height: 56px;\n\tfont-weight: 500;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (max-width: 767px) {\n\t\tpadding: 6px 15px;\n\t\tfont-size: 1rem;\n\t\tmin-height: 32px;\n\t\tborder-radius: 12px !important;\n\t}\n\n\t&:hover {\n\t\tcolor: ${({ theme }) => theme.primary};\n\t}\n\n\t&.active {\n\t\tcolor: ${({ theme }) => theme.text1};\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t}\n`;\n\nexport const LogoContainer = styled.div`\n\tmax-width: 24px;\n\tmax-height: 24px;\n\theight: 24px;\n\twidth: 24px;\n\tmin-width: 24px;\n\tmargin-left: 1rem;\n\n\t@media (min-width: 992px) {\n\t\tmax-width: 32px;\n\t\tmax-height: 32px;\n\t\theight: 32px;\n\t\twidth: 32px;\n\t\tmin-width: 32px;\n\t\tmargin-right: 1.5rem;\n\t\tmargin-left: 0;\n\t}\n`;\n\nexport const Title = styled.span`\n\tfont-weight: bold;\n\tfont-size: 1rem;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n`;\n\nexport const CustomText = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.75rem;\n\t}\n`;\n\nexport const PoolsButton = styled(Button)`\n\tborder-radius: 12px;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tpadding: 6px 20px;\n\tmax-height: 40px;\n\tmin-height: 40px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twhite-space: nowrap;\n\tfont-size: 1rem;\n\tfont-family: inherit;\n\tfont-weight: 500;\n\tborder: none;\n\toutline: none;\n\ttext-decoration: none;\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n`;\n\nexport const TradeButton = styled(PoolsButton)<{ variant: string }>`\n\tcolor: ${({ theme, variant }) => (variant ? variant : theme.primary)} !important;\n\tmargin-left: 8px;\n\n\t@media (max-width: 991px) {\n\t\twidth: 100%;\n\t\tmargin-bottom: 0.5rem;\n\t}\n\n\t&:not(:disabled):hover {\n\t\tcolor: ${({ theme }) => theme.bg1} !important;\n\t\tbackground-color: ${({ theme, variant }) => (variant ? variant : theme.primary)};\n\t}\n\n\t&:disabled {\n\t\tcursor: not-allowed;\n\t\topacity: 0.5;\n\t}\n`;\n\nexport const StyledLink = styled(Link)`\n\ttext-decoration: none;\n\tdisplay: inline-flex;\n\tmargin-right: 20px;\n\n\t&:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tmargin-right: 0;\n\t\t&:not(:last-child) {\n\t\t\tmargin-bottom: 14px;\n\t\t}\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n`;\n","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { useTranslation } from './useTranslation';\nimport { getDisplayName } from './utils';\nexport function withTranslation(ns) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function Extend(WrappedComponent) {\n    function I18nextWithTranslation(_ref) {\n      var forwardedRef = _ref.forwardedRef,\n          rest = _objectWithoutProperties(_ref, [\"forwardedRef\"]);\n\n      var _useTranslation = useTranslation(ns, rest),\n          _useTranslation2 = _slicedToArray(_useTranslation, 3),\n          t = _useTranslation2[0],\n          i18n = _useTranslation2[1],\n          ready = _useTranslation2[2];\n\n      var passDownProps = _objectSpread(_objectSpread({}, rest), {}, {\n        t: t,\n        i18n: i18n,\n        tReady: ready\n      });\n\n      if (options.withRef && forwardedRef) {\n        passDownProps.ref = forwardedRef;\n      } else if (!options.withRef && forwardedRef) {\n        passDownProps.forwardedRef = forwardedRef;\n      }\n\n      return React.createElement(WrappedComponent, passDownProps);\n    }\n\n    I18nextWithTranslation.displayName = \"withI18nextTranslation(\".concat(getDisplayName(WrappedComponent), \")\");\n    I18nextWithTranslation.WrappedComponent = WrappedComponent;\n\n    var forwardRef = function forwardRef(props, ref) {\n      return React.createElement(I18nextWithTranslation, Object.assign({}, props, {\n        forwardedRef: ref\n      }));\n    };\n\n    return options.withRef ? React.forwardRef(forwardRef) : I18nextWithTranslation;\n  };\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar AlertTriangle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }));\n});\nAlertTriangle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nAlertTriangle.displayName = 'AlertTriangle';\nexport default AlertTriangle;","import { ApolloProvider } from \"@apollo/react-hooks\";\n\nimport { getAaveGraphClient } from \"../../../services/aave/aave\";\n\nconst GraphQlProvider = (props) => {\n\treturn <ApolloProvider client={getAaveGraphClient()}>{props.children}</ApolloProvider>;\n};\n\nexport default GraphQlProvider;\n","import { BigNumber } from \"@0x/utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport \"./styles.scss\";\nimport { useActiveWeb3React } from \"../../../hooks\";\nimport { getAaveCurrency, getAaveUserAccountData, getEthInUsd } from \"../../../state/selectors\";\nimport { getAaveOverall } from \"../../../services/aave/aave\";\nimport { setAaveUserAccountData } from \"../../../state/aave/actions\";\nimport React, { useEffect } from \"react\";\nimport useInterval from \"../../../hooks/useInterval\";\nimport Card from \"../../../components/Card\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ResponsiveTable from \"../../../components/ResponsiveTable\";\nimport styled from \"styled-components\";\nimport { useTranslation } from \"react-i18next\";\n\nconst StyledCard = styled(Card)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\n\t& .card-body {\n\t\tpadding: 24px 20px 20px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\t& .card-body {\n\t\t\tpadding: 24px;\n\t\t}\n\t}\n`;\n\nconst Text = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 1rem;\n\tfont-weight: 700;\n`;\n\nconst GlobalOverall = (props) => {\n\tconst { account } = useActiveWeb3React();\n\tconst currencySelector = useSelector(getAaveCurrency);\n\tconst isNative = currencySelector === \"NATIVE\";\n\tconst dispatch = useDispatch();\n\tconst userAccountData = useSelector(getAaveUserAccountData);\n\tconst ethUsd = useSelector(getEthInUsd);\n\tconst { t } = useTranslation();\n\n\tconst fetchAaveGlobal = async () => {\n\t\tconst userAcc = await getAaveOverall(account);\n\t\tdispatch(setAaveUserAccountData(userAcc));\n\t};\n\n\t// initial loading\n\tuseEffect(() => {\n\t\tconst loadingLendingPoolData = async () => {\n\t\t\tif (account) {\n\t\t\t\tawait fetchAaveGlobal();\n\t\t\t}\n\t\t};\n\n\t\tloadingLendingPoolData();\n\t}, [account]);\n\n\t// Update global state\n\tuseInterval(async () => {\n\t\tif (account) {\n\t\t\tawait fetchAaveGlobal();\n\t\t}\n\t}, 30 * 1000);\n\n\tconst formatETHField = (field = undefined) => {\n\t\tif (field) {\n\t\t\treturn isNative\n\t\t\t\t? `${field.dividedBy(\"1e18\").toFixed(3)} ETH`\n\t\t\t\t: ethUsd\n\t\t\t\t? `${field.dividedBy(\"1e18\").multipliedBy(ethUsd).toFixed(3)} USD`\n\t\t\t\t: \"- USD\";\n\t\t} else {\n\t\t\treturn \"-\";\n\t\t}\n\t};\n\n\tconst totalLiquidity = formatETHField(userAccountData && userAccountData.totalLiquidity);\n\tconst totalCollateralETH = formatETHField(userAccountData && userAccountData.totalCollateralETH);\n\tconst totalBorrowsETH = formatETHField(userAccountData && userAccountData.totalBorrowsETH);\n\tconst availableBorrowsETH = formatETHField(userAccountData && userAccountData.availableBorrowsETH);\n\tconst currentLiquidationThreshold =\n\t\t(userAccountData && `${userAccountData.currentLiquidationThreshold.toFixed(0)} %`) || \"-\";\n\tconst ltv = (userAccountData && `${userAccountData.ltv.toFixed(0)} %`) || \"-\";\n\tlet healthFactor = \"-\";\n\tlet healtFactorValue;\n\t// const healthFactor = (userAccountData && userAccountData.healthFactor.toFixed(3)) || '-';;\n\tif (userAccountData && userAccountData.totalBorrowsETH.gt(0)) {\n\t\thealthFactor = userAccountData && userAccountData.healthFactor.dividedBy(\"1e18\").toFixed(3);\n\t\thealtFactorValue = new BigNumber(healthFactor);\n\t}\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"total_liquidity\",\n\t\t\ttext: t(\"borrow.totalLiquidity\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.totalLiquidity}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"total_collateral\",\n\t\t\ttext: t(\"borrow.totalCollateral\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.totalCollateralETH}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"total_borrows\",\n\t\t\ttext: t(\"borrow.totalBorrows\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.totalBorrowsETH}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"available\",\n\t\t\ttext: t(\"borrow.available\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.availableBorrowsETH}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"liquidation_threshold\",\n\t\t\ttext: t(\"borrow.liquidationThreshold\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.currentLiquidationThreshold}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"ltv\",\n\t\t\ttext: \"LTV\",\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.ltv}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"health_factor\",\n\t\t\ttext: t(\"borrow.healthFactor\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.healthFactor}</Text>;\n\t\t\t},\n\t\t},\n\t];\n\n\treturn (\n\t\t<StyledCard>\n\t\t\t<BootstrapTable\n\t\t\t\twrapperClasses=\"d-none d-lg-block\"\n\t\t\t\tbordered={false}\n\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden global-overall__table mb-0\"\n\t\t\t\tbootstrap4\n\t\t\t\tkeyField={\"id\"}\n\t\t\t\tremote\n\t\t\t\tdata={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttotalLiquidity,\n\t\t\t\t\t\ttotalCollateralETH,\n\t\t\t\t\t\ttotalBorrowsETH,\n\t\t\t\t\t\tavailableBorrowsETH,\n\t\t\t\t\t\tcurrentLiquidationThreshold,\n\t\t\t\t\t\tltv,\n\t\t\t\t\t\thealthFactor,\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\tcolumns={columns}\n\t\t\t/>\n\t\t\t<ResponsiveTable\n\t\t\t\tbreakpoint={\"lg\"}\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttotalLiquidity,\n\t\t\t\t\t\ttotalCollateralETH,\n\t\t\t\t\t\ttotalBorrowsETH,\n\t\t\t\t\t\tavailableBorrowsETH,\n\t\t\t\t\t\tcurrentLiquidationThreshold,\n\t\t\t\t\t\tltv,\n\t\t\t\t\t\thealthFactor,\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\tdirection={\"rtl\"}\n\t\t\t\twithoutBorder\n\t\t\t/>\n\t\t</StyledCard>\n\t);\n};\n\nexport default GlobalOverall;\n","/**\n * GraphQl Queries\n *\n */\nimport { gql } from \"apollo-boost\";\n\nexport const GET_AAVE_RESERVES = gql`\n\t{\n\t\treserves {\n\t\t\tid\n\t\t\tname\n\t\t\tsymbol\n\t\t\tdecimals\n\t\t\tliquidityRate\n\t\t\tvariableBorrowRate\n\t\t\tprice {\n\t\t\t\tpriceInEth\n\t\t\t}\n\t\t\tstableBorrowRate\n\t\t\taverageStableBorrowRate\n\t\t\taToken {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n\n/*export const GET_USER_AAVE_DATA = gql`\n{\n    query UserData($userAddress: String! ){\n        user(id: $userAddress){\n           id,\n           reserves{\n            id,\n            userBalanceIndex,\n            principalATokenBalance,\n            redirectedBalance,\n            principalBorrows,\n            borrowRateMode,\n            borrowRate,\n            usageAsCollateralEnabledOnUser,\n           }\n     }\n   }\n`;*/\n","import { useMemo, useState, useEffect } from \"react\";\nimport { tokensToTokenBalances } from \"../utils/spot/tokens\";\nimport { useActiveWeb3React } from \"./index\";\nimport { useSelector } from \"react-redux\";\nimport { getBaseToken, getQuoteToken, searchToken } from \"../state/selectors\";\nimport { getKnownTokens } from \"../utils/known_tokens\";\nimport { useETHBalances } from \"../state/wallet/hooks\";\nimport { BigNumber } from \"@0x/utils\";\n\nexport const useTokenToBalance = (tokens, address, library) => {\n\tconst [balances, setBalances] = useState([]);\n\n\tconst fetchBalances = async () => {\n\t\tif (address) {\n\t\t\tconst res = await tokensToTokenBalances(tokens, address, library);\n\t\t\tsetBalances(res);\n\t\t}\n\t};\n\tuseEffect(() => {\n\t\tfetchBalances();\n\t}, [address, tokens]);\n\n\treturn useMemo(() => {\n\t\tif (balances.length > 0) {\n\t\t\treturn balances;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}, [address, balances, tokens]);\n};\n\nexport const useSpotBalances = () => {\n\tconst { account, library } = useActiveWeb3React();\n\n\tconst baseToken = useSelector(getBaseToken);\n\tconst quoteToken = useSelector(getQuoteToken);\n\n\tconst knownTokens = useMemo(() => {\n\t\treturn getKnownTokens();\n\t}, []);\n\tconst tokens = useMemo(() => {\n\t\treturn knownTokens.getTokens();\n\t}, []);\n\n\tconst wethToken = useMemo(() => {\n\t\treturn knownTokens.getWethToken();\n\t}, []);\n\n\tconst t = useMemo(() => {\n\t\treturn [...tokens, wethToken];\n\t}, [wethToken, tokens]);\n\tconst allBalances = useTokenToBalance(t, account, window.ethereum || library);\n\n\tconst ethBalance = useETHBalances([account]);\n\n\tconst wethBalance = useMemo(() => {\n\t\treturn allBalances.find((b) => b.token.symbol === wethToken.symbol);\n\t}, [allBalances]);\n\n\tconst tokensBalance = useMemo(() => {\n\t\treturn allBalances.filter((b) => b.token.symbol !== wethToken.symbol);\n\t}, [allBalances]);\n\n\tconst ethereumBalance = useMemo(() => {\n\t\tconst ETH = ethBalance[account] ? ethBalance[account].toExact() : null;\n\t\tconst bn = new BigNumber(ETH * 10 ** 18);\n\n\t\treturn {\n\t\t\ttoken: ethBalance[account] ? ethBalance[account].currency : undefined,\n\t\t\tbalance: bn,\n\t\t};\n\t}, [ethBalance]);\n\n\tconst totalEthBalance = useMemo(() => {\n\t\tif (wethBalance && ethereumBalance) {\n\t\t\tlet total = wethBalance.balance;\n\t\t\tif (ethereumBalance.token !== undefined) {\n\t\t\t\ttotal = ethereumBalance.balance.plus(wethBalance.balance);\n\t\t\t}\n\n\t\t\treturn total;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}, [ethereumBalance, wethBalance]);\n\n\tconst baseTokenBalance = useMemo(() => {\n\t\treturn searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n\t}, [baseToken, tokensBalance, wethBalance]);\n\n\tconst quoteTokenBalance = useMemo(() => {\n\t\treturn searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: quoteToken });\n\t}, [quoteToken, tokensBalance, wethBalance]);\n\n\treturn useMemo(() => {\n\t\treturn {\n\t\t\tquoteTokenBalance,\n\t\t\tbaseTokenBalance,\n\t\t\ttotalEthBalance,\n\t\t\tethBalance: ethereumBalance,\n\t\t\twethBalance,\n\t\t\ttokensBalance,\n\t\t};\n\t}, [account, baseToken, quoteToken, allBalances, baseTokenBalance, quoteTokenBalance]);\n};\n","import { useSpotBalances } from \"../../hooks/useTokenToBalance\";\n\nconst withBalance = (Component) => {\n\treturn (props) => {\n\t\tconst balances = useSpotBalances();\n\t\treturn <Component {...props} {...balances} />;\n\t};\n};\n\nexport default withBalance;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { RowBetween } from \"../Row\";\nimport { Input as NumericalInput } from \"../NumericalInput\";\nimport { tokenAmountInUnits, unitsInTokenAmount } from \"../../utils/spot/tokens\";\nimport { Token } from \"@uniswap/sdk\";\nimport CurrencyLogo from \"../CurrencyLogo\";\n\nconst InputRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\n\tpadding: 0.625rem 0 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding-top: 0.75rem;\n\t}\n`;\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 34px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 36px;\n\t}\n`;\n\nconst Label = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t\tfont-weight: 700;\n\t}\n`;\n\nconst InputContainer = styled.div`\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tflex: 1;\n`;\n\nconst LabelRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding: 0;\n`;\n\nconst Aligner = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (min-width: 768px) {\n\t\tjustify-content: space-between;\n\t}\n`;\n\nconst InputPanel = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap};\n\tposition: relative;\n\tborder-radius: 0.42rem;\n`;\n\nconst StyledTokenName = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tmargin-left: 15px;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t\tmargin-right: auto;\n\t}\n`;\n\nconst CurrencySelect = styled.button`\n\talign-items: center;\n\theight: 56px;\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tcolor: ${({ theme }) => theme.text1};\n\tborder-bottom-left-radius: 18px;\n\tborder-top-left-radius: 18px;\n\tbox-shadow: none;\n\toutline: none;\n\tcursor: pointer;\n\tuser-select: none;\n\tborder: none;\n\tpadding: 0.875rem 0.625rem;\n\tmin-width: 116px;\n\twidth: 116px;\n\ttext-align: center;\n\n\t@media (min-width: 768px) {\n\t\tmin-width: 116px;\n\t\twidth: 116px;\n\t\tpadding: 0.625rem 1rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 700;\n\t\ttext-align: left;\n\t}\n\n\t:focus,\n\t:hover {\n\t\tbackground-color: ${({ theme }) => theme.bg1};\n\t\toutline: none;\n\t}\n`;\n\nlet BalanceRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tmargin-top: 10px;\n\tcolor: ${({ theme }) => theme.text1};\n\topacity: 0.5;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tline-height: 1rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t}\n`;\n\nexport default class BorrowInputPanel extends React.Component {\n\tstate = {\n\t\tvalueStr: this.props.value\n\t\t\t? tokenAmountInUnits(this.props.value, this.props.decimals, this.props.valueFixedDecimals)\n\t\t\t: \"\",\n\t};\n\n\t_updateValue = (value) => {\n\t\tconst newValue = unitsInTokenAmount(value || \"0\", this.props.decimals);\n\t\tconst invalidValue = this.props.min && newValue.isLessThan(this.props.min);\n\t\tif (invalidValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.props.onUserInput(newValue);\n\t\tthis.setState({\n\t\t\tvalueStr: value,\n\t\t});\n\t};\n\n\tstatic getDerivedStateFromProps = (props, state) => {\n\t\tconst { decimals, value, valueFixedDecimals } = props;\n\t\tconst { valueStr } = state;\n\n\t\tif (!value) {\n\t\t\treturn {\n\t\t\t\tvalueStr: \"\",\n\t\t\t};\n\t\t} else if (value && !unitsInTokenAmount(valueStr || \"0\", decimals).eq(value)) {\n\t\t\treturn {\n\t\t\t\tvalueStr: tokenAmountInUnits(value, decimals, valueFixedDecimals),\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tlabel = \"Input\",\n\t\t\tdisable = false,\n\t\t\tselected,\n\t\t\thideInput = false,\n\t\t\tid,\n\t\t\tshowBalance = true,\n\t\t\tbalanceText,\n\t\t\ttoken = undefined,\n\t\t} = this.props;\n\t\tconst { valueStr } = this.state;\n\n\t\tconst currency = token ? new Token(1, token.address, token.decimals, token.symbol, token.name) : undefined;\n\n\t\treturn (\n\t\t\t<InputPanel id={id}>\n\t\t\t\t<Container>\n\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t<LabelRow>\n\t\t\t\t\t\t\t<RowBetween>\n\t\t\t\t\t\t\t\t<Label>{label}</Label>\n\t\t\t\t\t\t\t</RowBetween>\n\t\t\t\t\t\t</LabelRow>\n\t\t\t\t\t)}\n\t\t\t\t\t<InputRow style={hideInput ? { padding: \"0\", borderRadius: \"0.42rem\" } : {}} selected={disable}>\n\t\t\t\t\t\t<CurrencySelect selected={!!selected} className=\"open-currency-select-button\">\n\t\t\t\t\t\t\t<Aligner>\n\t\t\t\t\t\t\t\t{token && <CurrencyLogo currency={currency} size={24} />}\n\t\t\t\t\t\t\t\t<StyledTokenName className=\"token-symbol-container\" active={Boolean(selected)}>\n\t\t\t\t\t\t\t\t\t{(selected && selected?.length > 20\n\t\t\t\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\t\t\t\tselected?.slice(0, 4) +\n\t\t\t\t\t\t\t\t\t\t\t\t\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\tselected?.slice(selected?.length - 5, selected?.length)\n\t\t\t\t\t\t\t\t\t\t  ).toUpperCase()\n\t\t\t\t\t\t\t\t\t\t: selected.toUpperCase()) || `Select`}\n\t\t\t\t\t\t\t\t</StyledTokenName>\n\t\t\t\t\t\t\t</Aligner>\n\t\t\t\t\t\t</CurrencySelect>\n\n\t\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t\t<InputContainer>\n\t\t\t\t\t\t\t\t<NumericalInput\n\t\t\t\t\t\t\t\t\tclassName=\"token-amount-input pl-3 \"\n\t\t\t\t\t\t\t\t\tvalue={valueStr}\n\t\t\t\t\t\t\t\t\tonUserInput={this._updateValue}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InputRow>\n\t\t\t\t\t{selected && showBalance && <BalanceRow>{balanceText()}</BalanceRow>}\n\t\t\t\t</Container>\n\t\t\t</InputPanel>\n\t\t);\n\t}\n}\n","import React from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled, { ThemeContext } from \"styled-components\";\n\nimport { Modal } from \"../../../components/Modal/bootstrap\";\nimport { TX_DEFAULTS_TRANSFER } from \"../../../constants\";\nimport { tokenAmountInUnits, tokenSymbolToDisplayString } from \"../../../utils/spot/tokens\";\nimport BorrowInputPanel from \"../../../components/BorrowInputPanel\";\nimport { AutoColumn } from \"../../../components/Column\";\nimport { RowFixed } from \"../../../components/Row\";\nimport { Field } from \"../../../state/swap/actions\";\nimport { TYPE } from \"../../../theme\";\nimport { toast } from \"react-hot-toast\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Title = styled.h4`\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n`;\n\nexport const SummaryRow = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n\tfont-size: 1rem;\n\tfont-weight: 500;\n`;\n\nconst CustomTypeBlack = styled(TYPE.Black)`\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n`;\n\nconst StyledButton = styled.button`\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n`;\n\nclass LendingModalContainer extends React.Component {\n\tstatic contextType = ThemeContext;\n\tstate = {\n\t\tamount: null,\n\t\terror: {\n\t\t\tbtnMsg: null,\n\t\t\tcardMsg: null,\n\t\t},\n\t};\n\n\tcomponentDidMount = () => {\n\t\tconst { ethBalance, t } = this.props;\n\t\tif (ethBalance.isLessThan(TX_DEFAULTS_TRANSFER.gasTransferToken)) {\n\t\t\ttoast.error(t(\"errors.notEnoughGas\"));\n\t\t\tthis.setState({\n\t\t\t\terror: {\n\t\t\t\t\tbtnMsg: \"Error\",\n\t\t\t\t\tcardMsg: t(\"errors.notEnoughGas\"),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\tconst theme = this.context;\n\t\tconst {\n\t\t\ttokenBalance,\n\t\t\tcloseModal,\n\t\t\tethBalance,\n\t\t\tisEth,\n\t\t\twethToken,\n\t\t\taToken,\n\t\t\tisLending,\n\t\t\tshow,\n\t\t\tt,\n\t\t\t...restProps\n\t\t} = this.props;\n\t\tconst { error, amount } = this.state;\n\t\tconst { liquidityRate } = aToken;\n\t\tlet coinSymbol;\n\t\tlet maxBalance;\n\t\tlet decimals;\n\t\tlet displayDecimals;\n\n\t\tif (isEth) {\n\t\t\tdisplayDecimals = wethToken.displayDecimals;\n\t\t\tdecimals = 18;\n\t\t\tmaxBalance = isLending ? ethBalance : aToken.balance || new BigNumber(0);\n\t\t\tcoinSymbol = tokenSymbolToDisplayString(\"ETH\");\n\t\t} else if (tokenBalance) {\n\t\t\tconst { token, balance } = tokenBalance;\n\t\t\tdisplayDecimals = token.displayDecimals;\n\t\t\tdecimals = token.decimals;\n\t\t\tmaxBalance = isLending ? balance : aToken.balance || new BigNumber(0);\n\t\t\tcoinSymbol = tokenSymbolToDisplayString(token.symbol);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { token } = tokenBalance;\n\t\tconst btnPrefix = isLending ? \"Deposit \" : \"Withdraw \";\n\t\tconst balanceInUnits = tokenAmountInUnits(maxBalance, decimals, displayDecimals);\n\t\tconst btnText = error && error.btnMsg ? \"Error\" : btnPrefix + coinSymbol;\n\t\tconst isSubmitAllowed = amount === null || (amount && amount.isGreaterThan(maxBalance));\n\n\t\treturn (\n\t\t\t<Modal show={show} onHide={closeModal} centered>\n\t\t\t\t<Modal.Body style={{ padding: 30 }}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<Title>\n\t\t\t\t\t\t\t\t{isLending ? t(\"Deposit\") : t(\"withdraw\")} {coinSymbol}\n\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<BorrowInputPanel\n\t\t\t\t\t\t\t\tdecimals={decimals}\n\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\tmax={maxBalance}\n\t\t\t\t\t\t\t\tonUserInput={this.updateAmount}\n\t\t\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\t\t\ttoken={token}\n\t\t\t\t\t\t\t\tselected={coinSymbol}\n\t\t\t\t\t\t\t\tshowBalance={false}\n\t\t\t\t\t\t\t\tlabel={isLending ? t(\"wantToDeposit\") : t(\"wantToWithdraw\")}\n\t\t\t\t\t\t\t\tplaceholder={new BigNumber(1).div(new BigNumber(10).pow(displayDecimals)).toString()}\n\t\t\t\t\t\t\t\tvalueFixedDecimals={displayDecimals}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={12} style={{ marginBottom: 56 }}>\n\t\t\t\t\t\t\t<AutoColumn>\n\t\t\t\t\t\t\t\t<SummaryRow>\n\t\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t\t<CustomTypeBlack fontWeight={500} color={theme.text1}>\n\t\t\t\t\t\t\t\t\t\t\t{t(\"interestAPR\")}\n\t\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t\t<CustomTypeBlack color={theme.text1} fontWeight={500}>\n\t\t\t\t\t\t\t\t\t\t\t{liquidityRate.div(\"1e27\").multipliedBy(100).toFixed(5)} %\n\t\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t\t</SummaryRow>\n\t\t\t\t\t\t\t\t<SummaryRow>\n\t\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t\t<CustomTypeBlack fontWeight={500} color={theme.text1}>\n\t\t\t\t\t\t\t\t\t\t\t{t(\"amount\")}\n\t\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t\t<CustomTypeBlack color={theme.text1} fontWeight={500}>\n\t\t\t\t\t\t\t\t\t\t\t{balanceInUnits}\n\t\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t\t</SummaryRow>\n\t\t\t\t\t\t\t</AutoColumn>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StyledButton\n\t\t\t\t\t\t\t\tclassName={`btn btn-${isLending ? \"primary\" : \"warning\"}`}\n\t\t\t\t\t\t\t\tdisabled={isSubmitAllowed}\n\t\t\t\t\t\t\t\tonClick={this.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{btnText}\n\t\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t);\n\t}\n\n\tsubmit = async () => {\n\t\tconst { tokenBalance, isEth, wethToken, aToken, isLending } = this.props;\n\t\tlet token;\n\t\tif (isEth) {\n\t\t\ttoken = {\n\t\t\t\t...wethToken,\n\t\t\t\tsymbol: \"ETH\",\n\t\t\t};\n\t\t} else if (tokenBalance) {\n\t\t\ttoken = tokenBalance.token;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\tconst amount = this.state.amount || new BigNumber(0);\n\t\tthis.props.onSubmit(amount, token, aToken, isEth, isLending);\n\t};\n\n\t_reset = () => {\n\t\tthis.setState({\n\t\t\tamount: null,\n\t\t});\n\t};\n\n\t_closeModal = () => {\n\t\tthis._reset();\n\t};\n\n\tsetMax = () => {\n\t\tconst { tokenBalance, isEth, ethBalance, isLending, aToken } = this.props;\n\t\tif (isEth) {\n\t\t\tconst maxBalance = isLending ? ethBalance : aToken.balance || new BigNumber(0);\n\t\t\tthis.setState({\n\t\t\t\tamount: maxBalance,\n\t\t\t});\n\t\t} else if (tokenBalance) {\n\t\t\tthis.setState({\n\t\t\t\tamount: isLending ? tokenBalance.balance : aToken.balance || new BigNumber(0),\n\t\t\t});\n\t\t}\n\t};\n\n\tupdateAmount = (newValue) => {\n\t\tthis.setState({\n\t\t\tamount: newValue,\n\t\t});\n\t};\n}\n\nexport default withTranslation()(LendingModalContainer);\n","import React, { useMemo, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\nimport { Token } from \"@uniswap/sdk\";\n\nimport { getAaveCurrency, getAaveLoadingState, getATokensData, getTokensPrice } from \"../../../state/selectors\";\nimport withBalance from \"../../../components/hoc/withBalance\";\nimport { useActiveWeb3React } from \"../../../hooks\";\nimport { setAaveCurrency } from \"../../../state/aave/actions\";\nimport { getKnownTokens, isWethToken } from \"../../../utils/known_tokens\";\nimport { tokenAmountInUnits } from \"../../../utils/spot/tokens\";\nimport { Protocol } from \"../../../utils/aave/types\";\nimport { startLendingTokenSteps, startUnLendingTokenSteps } from \"../../../state/spotUI/actions\";\nimport CurrencyLogo from \"../../../components/CurrencyLogo\";\nimport { StyledLink, TradeButton } from \"../../../components/WalletCard/styleds\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ResponsiveTable from \"../../../components/ResponsiveTable\";\nimport LendingModalContainer from \"./LendingModalContainer\";\nimport { sortedData } from \"../../../lib/helper\";\nimport { useTranslation } from \"react-i18next\";\nimport useTheme from \"../../../hooks/useTheme\";\n\nconst LogoContainer = styled.div`\n\twidth: 32px;\n\theight: 32px;\n\tborder-radius: 32px;\n\tbackground-color: ${({ theme }) => theme.text1};\n\n\t@media (max-width: 991px) {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder-radius: 24px;\n\t}\n`;\n\nconst Symbol = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 1rem;\n\tmargin-right: 10px;\n\tfont-weight: 700;\n`;\n\nconst Name = styled.span`\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.875rem;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 400;\n\t}\n`;\n\nconst CellText = styled.span`\n\tfont-weight: 500;\n\tfont-size: 0.875rem;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t&.font-size-base {\n\t\tfont-size: 1rem;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 700;\n\n\t\t&.label {\n\t\t\tfont-weight: 500;\n\t\t}\n\t}\n`;\n\nconst LendingBalance = (props) => {\n\tconst theme = useTheme();\n\tconst [isEthState, setIsEthState] = useState(false);\n\tconst [isHideZeroBalance, setIsHideZeroBalance] = useState(false);\n\tconst [isStableCoin, setIsStableCoin] = useState(false);\n\tconst [isModalOpenState, setIsModalOpenState] = useState(false);\n\tconst [isSubmittingState, setIsSubmittingState] = useState(false);\n\tconst [aTokenDataState, setATokenDataState] = useState();\n\tconst [isLendingState, setIsLendingState] = useState(true);\n\tconst [tokenBalanceState, setTokenBalanceState] = useState();\n\tconst [sort, setSort] = useState({\n\t\tfield: false,\n\t\torder: \"desc\",\n\t});\n\tconst { t } = useTranslation();\n\n\tconst { account } = useActiveWeb3React();\n\tconst dispatch = useDispatch();\n\tconst aTokensData = useSelector(getATokensData);\n\tconst tokensPrice = useSelector(getTokensPrice);\n\tconst tokenBalances = props.tokensBalance;\n\tconst ethBalance = props.ethBalance;\n\tconst ethTotalBalance = props.totalEthBalance;\n\tconst wethTokenBalance = props.wethBalance;\n\tconst aaveLoadingState = useSelector(getAaveLoadingState);\n\tconst currencySelector = useSelector(getAaveCurrency);\n\n\tconst innerTabs = [\n\t\t{\n\t\t\tactive: currencySelector === \"NATIVE\",\n\t\t\tonClick: () => dispatch(setAaveCurrency(\"NATIVE\")),\n\t\t\ttext: \"Native\",\n\t\t},\n\t\t{\n\t\t\tactive: currencySelector === \"USD\",\n\t\t\tonClick: () => dispatch(setAaveCurrency(\"USD\")),\n\t\t\ttext: \"USD\",\n\t\t},\n\t];\n\n\tconst openLendingModal = (...rest) => {\n\t\tconst [tokenD, isEthToken, tokB, token] = rest;\n\t\tsetATokenDataState(tokenD);\n\t\tsetIsModalOpenState(true);\n\t\tif (isEthToken) {\n\t\t\tsetIsEthState(true);\n\t\t\tsetTokenBalanceState({ ...wethTokenBalance, balance: tokB });\n\t\t} else {\n\t\t\tsetIsEthState(false);\n\t\t\tsetTokenBalanceState(tokenBalances.find((tb) => tb.token === token));\n\t\t}\n\t\tsetIsLendingState(true);\n\t};\n\n\tconst openUnLendingModal = (...rest) => {\n\t\tconst [tokenD, isEthToken, tokB, token] = rest;\n\t\tsetATokenDataState(tokenD);\n\t\tif (isEthToken) {\n\t\t\tsetIsEthState(true);\n\t\t\tsetTokenBalanceState({ ...wethTokenBalance, balance: tokB });\n\t\t} else {\n\t\t\tsetIsEthState(false);\n\t\t\tsetTokenBalanceState(tokenBalances.find((tb) => tb.token === token));\n\t\t}\n\t\tsetIsModalOpenState(true);\n\t\tsetIsLendingState(false);\n\t};\n\n\tconst tokensRow = useMemo(() => {\n\t\tconst data = aTokensData.map((tokenD) => {\n\t\t\tconst { token, balance } = tokenD;\n\n\t\t\tconst { symbol } = token;\n\t\t\tconst isEthToken = isWethToken(token);\n\t\t\tconst tokenBalance = tokenBalances.find((tb) => tb.token.symbol === symbol);\n\t\t\tif (isHideZeroBalance) {\n\t\t\t\tif (isEthToken && ethTotalBalance.isEqualTo(0) && balance && balance.isEqualTo(0)) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tif (tokenBalance && tokenBalance.balance.isEqualTo(0) && balance && balance.isEqualTo(0)) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isStableCoin) {\n\t\t\t\tif (!token.isStableCoin) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst tokB = isEthToken\n\t\t\t\t? ethTotalBalance || new BigNumber(0)\n\t\t\t\t: (tokenBalance && tokenBalance.balance) || new BigNumber(0);\n\t\t\tlet displayBalance;\n\t\t\tlet displayDepositBalance;\n\n\t\t\tif (account && balance) {\n\t\t\t\tconst formattedLendBalance = tokenAmountInUnits(balance, token.decimals, token.displayDecimals);\n\t\t\t\tconst formattedBalance = tokenAmountInUnits(tokB, token.decimals, token.displayDecimals);\n\t\t\t\tconst tokenPrice = tokensPrice && tokensPrice.find((t) => t.c_id === token.c_id);\n\t\t\t\tif (currencySelector === \"NATIVE\") {\n\t\t\t\t\tdisplayBalance = Number(formattedBalance);\n\t\t\t\t\tdisplayDepositBalance = Number(formattedLendBalance);\n\t\t\t\t} else {\n\t\t\t\t\tdisplayBalance = tokenPrice\n\t\t\t\t\t\t? tokenPrice.price_usd.multipliedBy(new BigNumber(formattedBalance)).toNumber()\n\t\t\t\t\t\t: \"-\";\n\t\t\t\t\tdisplayDepositBalance = tokenPrice\n\t\t\t\t\t\t? tokenPrice.price_usd.multipliedBy(new BigNumber(formattedLendBalance)).toNumber()\n\t\t\t\t\t\t: \"-\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdisplayBalance = \"-\";\n\t\t\t\tdisplayDepositBalance = \"-\";\n\t\t\t}\n\n\t\t\tconst apy = tokenD.liquidityRate.dividedBy(\"1e27\").multipliedBy(100).toNumber();\n\n\t\t\tconst tokenName = isEthToken ? \"Ethereum\" : token.name;\n\t\t\tconst tokenSymbol = isEthToken ? \"ETH\" : token.symbol.toUpperCase();\n\n\t\t\treturn {\n\t\t\t\ttoken,\n\t\t\t\tsymbol,\n\t\t\t\ttokenSymbol,\n\t\t\t\ttokenName,\n\t\t\t\tdisplayBalance,\n\t\t\t\tdisplayDepositBalance,\n\t\t\t\tapy,\n\t\t\t\tbalance,\n\t\t\t\ttokB,\n\t\t\t\tisEthToken,\n\t\t\t\ttokenD,\n\t\t\t};\n\t\t});\n\n\t\treturn sortedData(data, sort);\n\t}, [aTokensData, sort]);\n\n\tconst closeModal = () => {\n\t\tsetIsModalOpenState(false);\n\t};\n\n\tconst handleSubmit = async (amount, token, aToken, isEth, isLending) => {\n\t\tsetIsSubmittingState(true);\n\n\t\ttry {\n\t\t\tif (isLending) {\n\t\t\t\tawait dispatch(\n\t\t\t\t\tstartLendingTokenSteps(\n\t\t\t\t\t\tamount,\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\taToken,\n\t\t\t\t\t\tisEth,\n\t\t\t\t\t\tProtocol.Aave,\n\t\t\t\t\t\tethBalance,\n\t\t\t\t\t\twethTokenBalance,\n\t\t\t\t\t\tethTotalBalance\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tawait dispatch(startUnLendingTokenSteps(amount, token, aToken, isEth));\n\t\t\t}\n\t\t} finally {\n\t\t\tsetIsSubmittingState(false);\n\t\t\tcloseModal();\n\t\t}\n\t};\n\n\tconst wethToken = getKnownTokens().getWethToken();\n\tconst onHideZeroBalance = () => {\n\t\tsetIsHideZeroBalance(!isHideZeroBalance);\n\t};\n\tconst onIsStableCoin = () => {\n\t\tsetIsStableCoin(!isStableCoin);\n\t};\n\n\tconst wethPlusEthBalance = wethTokenBalance ? wethTokenBalance.balance.plus(ethBalance) : new BigNumber(0);\n\n\tconst onTableChange = (type, context) => {\n\t\tif (type === \"sort\") {\n\t\t\tsetSort({\n\t\t\t\tfield: context.sortField,\n\t\t\t\torder: context.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"tokenName\",\n\t\t\ttext: t(\"token\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tconst currency = new Token(1, row.token.address, row.token.decimals, row.token.symbol, row.token.name);\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={rowIndex}\n\t\t\t\t\t\tclassName=\"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<LogoContainer>\n\t\t\t\t\t\t\t<CurrencyLogo currency={currency} />\n\t\t\t\t\t\t</LogoContainer>\n\t\t\t\t\t\t<div className=\"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0\">\n\t\t\t\t\t\t\t<Symbol>{row.tokenSymbol}</Symbol>\n\t\t\t\t\t\t\t<Name>{row.tokenName}</Name>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t\tsort: true,\n\t\t},\n\t\t{\n\t\t\tdataField: \"displayBalance\",\n\t\t\ttext: t(\"borrow.balance\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<CellText>\n\t\t\t\t\t\t{typeof row.displayBalance === \"number\"\n\t\t\t\t\t\t\t? `${row.displayBalance} ${row.tokenSymbol}`\n\t\t\t\t\t\t\t: row.displayBalance}\n\t\t\t\t\t</CellText>\n\t\t\t\t);\n\t\t\t},\n\t\t\tsort: true,\n\t\t},\n\t\t{\n\t\t\tdataField: \"displayDepositBalance\",\n\t\t\ttext: t(\"borrow.depositBalance\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<CellText>\n\t\t\t\t\t\t{typeof row.displayDepositBalance === \"number\"\n\t\t\t\t\t\t\t? `${row.displayDepositBalance} ${row.tokenSymbol}`\n\t\t\t\t\t\t\t: row.displayDepositBalance}\n\t\t\t\t\t</CellText>\n\t\t\t\t);\n\t\t\t},\n\t\t\tsort: true,\n\t\t},\n\t\t{\n\t\t\tdataField: \"apy\",\n\t\t\ttext: \"APY\",\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <CellText>{row.apy.toFixed(6)} %</CellText>;\n\t\t\t},\n\t\t\tsort: true,\n\t\t},\n\t\t{\n\t\t\tdataField: \"actions\",\n\t\t\ttext: t(\"table.actions\"),\n\t\t\tformatter: (cellContent, row, rowIndex, { openLendingModal, openUnLendingModal }) => {\n\t\t\t\tconst { balance, tokB, tokenD, isEthToken, token } = row;\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\"d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StyledLink>\n\t\t\t\t\t\t\t<TradeButton\n\t\t\t\t\t\t\t\tonClick={openLendingModal.bind(this, tokenD, isEthToken, tokB, token)}\n\t\t\t\t\t\t\t\tdisabled={tokB.isEqualTo(0)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"deposit\")}\n\t\t\t\t\t\t\t</TradeButton>\n\t\t\t\t\t\t</StyledLink>\n\n\t\t\t\t\t\t<StyledLink>\n\t\t\t\t\t\t\t<TradeButton\n\t\t\t\t\t\t\t\tvariant={theme.warning}\n\t\t\t\t\t\t\t\tonClick={openUnLendingModal.bind(this, tokenD, isEthToken, tokB, token)}\n\t\t\t\t\t\t\t\tdisabled={balance && balance.isEqualTo(0)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"withdraw\")}\n\t\t\t\t\t\t\t</TradeButton>\n\t\t\t\t\t\t</StyledLink>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t\tisAction: true,\n\t\t\tformatExtraData: {\n\t\t\t\topenLendingModal,\n\t\t\t\topenUnLendingModal,\n\t\t\t},\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className=\"d-flex flex-column\">\n\t\t\t<BootstrapTable\n\t\t\t\twrapperClasses=\"table-responsive d-none d-lg-block\"\n\t\t\t\tbordered={false}\n\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table\"\n\t\t\t\tbootstrap4\n\t\t\t\tremote\n\t\t\t\tkeyField=\"id\"\n\t\t\t\tdata={tokensRow}\n\t\t\t\tcolumns={columns}\n\t\t\t\tonTableChange={onTableChange}\n\t\t\t></BootstrapTable>\n\t\t\t<ResponsiveTable breakpoint={\"lg\"} columns={columns} data={tokensRow} direction={\"rtl\"} />\n\n\t\t\t{isModalOpenState && aTokenDataState && (\n\t\t\t\t<LendingModalContainer\n\t\t\t\t\tshow={isModalOpenState}\n\t\t\t\t\ttokenBalance={tokenBalanceState}\n\t\t\t\t\tisSubmitting={isSubmittingState}\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\taToken={aTokenDataState}\n\t\t\t\t\tcloseModal={closeModal}\n\t\t\t\t\tethBalance={wethPlusEthBalance}\n\t\t\t\t\tisEth={isEthState}\n\t\t\t\t\twethToken={wethToken}\n\t\t\t\t\tisLending={isLendingState}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default withBalance(LendingBalance);\n","import { Row, Col } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { BigNumber } from \"@0x/utils\";\n\nimport { Modal } from \"../../../components/Modal/bootstrap\";\nimport { TX_DEFAULTS_TRANSFER } from \"../../../constants\";\nimport { tokenAmountInUnits, tokenSymbolToDisplayString } from \"../../../utils/spot/tokens\";\nimport styled from \"styled-components\";\nimport BorrowInputPanel from \"../../../components/BorrowInputPanel\";\nimport { AutoColumn } from \"../../../components/Column\";\nimport { RowFixed } from \"../../../components/Row\";\nimport { TYPE } from \"../../../theme\";\nimport { toast } from \"react-hot-toast\";\nimport { useTranslation } from \"react-i18next\";\nimport useTheme from \"../../../hooks/useTheme\";\n\nconst Title = styled.h4`\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n`;\n\nexport const SummaryRow = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n\tfont-size: 1rem;\n\tfont-weight: 500;\n`;\n\nconst CustomTypeBlack = styled(TYPE.Black)`\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n`;\n\nconst StyledButton = styled.button`\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n`;\n\nconst BorrowTokenModal = (props) => {\n\tconst {\n\t\ttokenBalance,\n\t\tcloseModal,\n\t\tethBalance,\n\t\tisEth,\n\t\twethToken,\n\t\taToken,\n\t\tavailableForBorrow,\n\t\tshow,\n\t\t...restProps\n\t} = props;\n\tconst [error, setError] = useState({\n\t\tbtnMsg: null,\n\t\tcardMsg: null,\n\t});\n\tconst [amount, setAmount] = useState(new BigNumber(0));\n\tconst { t } = useTranslation();\n\n\tconst theme = useTheme();\n\n\tuseEffect(() => {\n\t\tif (ethBalance.isLessThan(TX_DEFAULTS_TRANSFER.gasTransferToken)) {\n\t\t\ttoast.error(t(\"errors.notEnoughGas\"));\n\t\t\tsetError({\n\t\t\t\tbtnMsg: \"Error\",\n\t\t\t\tcardMsg: t(\"errors.notEnoughGas\"),\n\t\t\t});\n\t\t}\n\t}, [ethBalance]);\n\n\tconst { variableBorrowRate } = aToken;\n\tconst { token } = tokenBalance;\n\tlet coinSymbol;\n\tlet maxBalance = availableForBorrow;\n\tlet decimals;\n\tlet displayDecimals;\n\n\tif (isEth) {\n\t\tdisplayDecimals = wethToken.displayDecimals;\n\t\tdecimals = 18;\n\t\tcoinSymbol = tokenSymbolToDisplayString(\"ETH\");\n\t} else if (tokenBalance) {\n\t\tdisplayDecimals = token.displayDecimals;\n\t\tdecimals = token.decimals;\n\t\tmaxBalance = availableForBorrow;\n\t\tcoinSymbol = tokenSymbolToDisplayString(token.symbol);\n\t} else {\n\t\treturn null;\n\t}\n\n\tconst btnPrefix = \"Borrow \";\n\tconst balanceInUnits = tokenAmountInUnits(maxBalance, decimals, displayDecimals);\n\tconst btnText = error && error.btnMsg ? \"Error\" : btnPrefix + coinSymbol;\n\tconst isSubmitAllowed = amount === null || (amount && amount.isGreaterThan(maxBalance));\n\tconst onUpdateAmount = (newValue) => {\n\t\tsetAmount(newValue);\n\t};\n\tconst onSetMax = () => {\n\t\tsetAmount(availableForBorrow);\n\t};\n\tconst onSubmit = () => {\n\t\tlet token;\n\t\tif (isEth) {\n\t\t\ttoken = {\n\t\t\t\t...wethToken,\n\t\t\t\tsymbol: \"ETH\",\n\t\t\t};\n\t\t} else if (tokenBalance) {\n\t\t\ttoken = tokenBalance.token;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\n\t\tprops.onSubmit(amount, token, aToken, isEth);\n\t};\n\n\treturn (\n\t\t<Modal show={show} onHide={closeModal} centered>\n\t\t\t<Modal.Body style={{ padding: 30 }}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<Title>\n\t\t\t\t\t\t\t{t(\"borrow.title\")} {coinSymbol}\n\t\t\t\t\t\t</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<BorrowInputPanel\n\t\t\t\t\t\t\tdecimals={decimals}\n\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\tmax={maxBalance}\n\t\t\t\t\t\t\tonUserInput={onUpdateAmount}\n\t\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\t\ttoken={token}\n\t\t\t\t\t\t\tselected={coinSymbol}\n\t\t\t\t\t\t\tshowBalance={false}\n\t\t\t\t\t\t\tlabel={t(\"wantToBorrow\")}\n\t\t\t\t\t\t\tplaceholder={new BigNumber(1).div(new BigNumber(10).pow(displayDecimals)).toString()}\n\t\t\t\t\t\t\tvalueFixedDecimals={displayDecimals}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={12} style={{ marginBottom: 56 }}>\n\t\t\t\t\t\t<AutoColumn>\n\t\t\t\t\t\t\t<SummaryRow>\n\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t<CustomTypeBlack fontWeight={500} color={theme.text1}>\n\t\t\t\t\t\t\t\t\t\t{t(\"borrow.borrowRate\")}\n\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t<CustomTypeBlack color={theme.text1} fontWeight={500}>\n\t\t\t\t\t\t\t\t\t\t{variableBorrowRate.div(\"1e27\").multipliedBy(100).toFixed(5)} %\n\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t</SummaryRow>\n\t\t\t\t\t\t\t<SummaryRow>\n\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t<CustomTypeBlack fontWeight={500} color={theme.text1}>\n\t\t\t\t\t\t\t\t\t\t{t(\"borrow.available\")}\n\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t<CustomTypeBlack color={theme.text1} fontWeight={500}>\n\t\t\t\t\t\t\t\t\t\t{balanceInUnits}\n\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t</SummaryRow>\n\t\t\t\t\t\t</AutoColumn>\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t<Col\n\t\t\t\t\t\txs={12}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StyledButton\n\t\t\t\t\t\t\tclassName={`btn btn-${error && error.btnMsg ? \"danger\" : \"primary\"}`}\n\t\t\t\t\t\t\tdisabled={isSubmitAllowed}\n\t\t\t\t\t\t\tonClick={onSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{btnText}\n\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Modal.Body>\n\t\t</Modal>\n\t);\n};\n\nexport default BorrowTokenModal;\n","import { Row, Col } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { BigNumber } from \"@0x/utils\";\nimport { useDispatch } from \"react-redux\";\n\nimport { Modal } from \"../../../components/Modal/bootstrap\";\nimport { TX_DEFAULTS_TRANSFER } from \"../../../constants\";\nimport { tokenAmountInUnits, tokenSymbolToDisplayString } from \"../../../utils/spot/tokens\";\nimport styled from \"styled-components\";\nimport { TYPE } from \"../../../theme\";\nimport BorrowInputPanel from \"../../../components/BorrowInputPanel\";\nimport { AutoColumn } from \"../../../components/Column\";\nimport { RowFixed } from \"../../../components/Row\";\nimport { toast } from \"react-hot-toast\";\nimport { useTranslation } from \"react-i18next\";\nimport useTheme from \"../../../hooks/useTheme\";\n\nconst Title = styled.h4`\n\tfont-size: 1.25rem;\n\tfont-weight: 500;\n\tmargin-top: 0;\n\tmargin-bottom: 2.25rem;\n`;\n\nexport const SummaryRow = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 1rem 0;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n\tfont-size: 1rem;\n\tfont-weight: 500;\n`;\n\nconst CustomTypeBlack = styled(TYPE.Black)`\n\tfont-size: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n`;\n\nconst StyledButton = styled.button`\n\theight: 56px;\n\tmin-height: 56px;\n\tmin-width: 250px;\n`;\n\nconst RepayTokenModal = (props) => {\n\tconst {\n\t\ttokenBalance,\n\t\tcloseModal,\n\t\tethBalance,\n\t\tisEth,\n\t\twethToken,\n\t\taToken,\n\t\tborrowedBalance,\n\t\tshow,\n\t\t...restProps\n\t} = props;\n\tconst [error, setError] = useState({\n\t\tbtnMsg: null,\n\t\tcardMsg: null,\n\t});\n\tconst [amount, setAmount] = useState(null);\n\tconst [isNotEnoughBalance, setIsNotEnoughBalance] = useState(false);\n\tconst dispatch = useDispatch();\n\tconst { t } = useTranslation();\n\tconst theme = useTheme();\n\n\tuseEffect(() => {\n\t\tif (ethBalance.isLessThan(TX_DEFAULTS_TRANSFER.gasTransferToken)) {\n\t\t\ttoast.error(t(\"errors.notEnoughGas\"));\n\t\t\tsetError({\n\t\t\t\tbtnMsg: \"Error\",\n\t\t\t\tcardMsg: t(\"errors.notEnoughGas\"),\n\t\t\t});\n\t\t}\n\t\tif (isEth) {\n\t\t\tsetIsNotEnoughBalance(ethBalance.isLessThanOrEqualTo(borrowedBalance));\n\t\t} else {\n\t\t\tsetIsNotEnoughBalance(tokenBalance.balance.isLessThanOrEqualTo(borrowedBalance));\n\t\t}\n\t}, [ethBalance, tokenBalance]);\n\n\tlet coinSymbol;\n\tlet maxBalance = new BigNumber(0);\n\tlet balance = new BigNumber(0);\n\tlet decimals;\n\tlet displayDecimals;\n\tlet balanceInShort;\n\n\tconst { token } = tokenBalance;\n\tif (isEth) {\n\t\tdisplayDecimals = wethToken.displayDecimals;\n\t\tdecimals = 18;\n\t\tmaxBalance = borrowedBalance || new BigNumber(0);\n\t\tcoinSymbol = tokenSymbolToDisplayString(\"ETH\");\n\t\tbalance = ethBalance;\n\t\tbalanceInShort = maxBalance.minus(ethBalance);\n\t} else if (tokenBalance) {\n\t\tdisplayDecimals = token.displayDecimals;\n\t\tdecimals = token.decimals;\n\t\tmaxBalance = borrowedBalance || new BigNumber(0);\n\t\tcoinSymbol = tokenSymbolToDisplayString(token.symbol);\n\t\tbalanceInShort = maxBalance.minus(tokenBalance.balance);\n\t\tbalance = tokenBalance.balance;\n\t} else {\n\t\treturn null;\n\t}\n\n\tconst btnPrefix = \"Repay \";\n\tconst balanceBorrowedInUnits = tokenAmountInUnits(maxBalance, decimals, displayDecimals);\n\tconst balanceInUnits = tokenAmountInUnits(balance, decimals, displayDecimals);\n\tconst displayBalanceInShort = tokenAmountInUnits(balanceInShort, decimals, displayDecimals + 1);\n\tconst btnText = error && error.btnMsg ? \"Error\" : btnPrefix + coinSymbol;\n\tconst isSubmitAllowed =\n\t\tamount === null || (amount && amount.isGreaterThan(maxBalance)) || (amount && amount.isEqualTo(0));\n\tconst onUpdateAmount = (newValue) => {\n\t\tsetAmount(newValue);\n\t};\n\tconst onSetMax = () => {\n\t\tif (isEth) {\n\t\t\tconst bal = ethBalance.isLessThanOrEqualTo(maxBalance) ? ethBalance : maxBalance;\n\t\t\tsetAmount(bal);\n\t\t} else if (tokenBalance) {\n\t\t\tconst bal = tokenBalance.balance.isLessThanOrEqualTo(maxBalance) ? tokenBalance.balance : maxBalance;\n\t\t\tsetAmount(bal);\n\t\t}\n\t};\n\n\tconst onSubmit = () => {\n\t\tlet token;\n\t\tif (isEth) {\n\t\t\ttoken = {\n\t\t\t\t...wethToken,\n\t\t\t\tsymbol: \"ETH\",\n\t\t\t};\n\t\t} else if (tokenBalance) {\n\t\t\ttoken = tokenBalance.token;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\tconst amountSubmit = amount || new BigNumber(0);\n\t\tprops.onSubmit(amountSubmit, token, aToken, isEth);\n\t};\n\n\treturn (\n\t\t<Modal show={show} onHide={closeModal} centered>\n\t\t\t<Modal.Body style={{ padding: 30 }}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<Title>\n\t\t\t\t\t\t\t{t(\"repay\")} {coinSymbol}\n\t\t\t\t\t\t</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<BorrowInputPanel\n\t\t\t\t\t\t\tdecimals={decimals}\n\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\tmax={maxBalance}\n\t\t\t\t\t\t\tonUserInput={onUpdateAmount}\n\t\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\t\ttoken={token}\n\t\t\t\t\t\t\tselected={coinSymbol}\n\t\t\t\t\t\t\tshowBalance={false}\n\t\t\t\t\t\t\tlabel={t(\"wantToRepay\")}\n\t\t\t\t\t\t\tplaceholder={new BigNumber(1).div(new BigNumber(10).pow(displayDecimals)).toString()}\n\t\t\t\t\t\t\tvalueFixedDecimals={displayDecimals}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t<Col xs={12} style={{ marginBottom: 56 }}>\n\t\t\t\t\t\t<AutoColumn>\n\t\t\t\t\t\t\t<SummaryRow>\n\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t<CustomTypeBlack fontWeight={500} color={theme.text1}>\n\t\t\t\t\t\t\t\t\t\t{t(\"borrow.amountBorrowed\")}\n\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t<CustomTypeBlack color={theme.text1} fontWeight={500}>\n\t\t\t\t\t\t\t\t\t\t{balanceBorrowedInUnits}\n\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t</SummaryRow>\n\t\t\t\t\t\t\t<SummaryRow>\n\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t<CustomTypeBlack fontWeight={500} color={theme.text1}>\n\t\t\t\t\t\t\t\t\t\t{t(\"borrow.amountAvailable\")}\n\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t\t<RowFixed>\n\t\t\t\t\t\t\t\t\t<CustomTypeBlack color={theme.text1} fontWeight={500}>\n\t\t\t\t\t\t\t\t\t\t{balanceInUnits}\n\t\t\t\t\t\t\t\t\t</CustomTypeBlack>\n\t\t\t\t\t\t\t\t</RowFixed>\n\t\t\t\t\t\t\t</SummaryRow>\n\t\t\t\t\t\t</AutoColumn>\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t<Col\n\t\t\t\t\t\txs={12}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\"d-flex align-items-stretch align-items-lg-center justify-content-center flex-column\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StyledButton\n\t\t\t\t\t\t\tclassName={`btn btn-${error && error.btnMsg ? \"danger\" : \"primary\"}`}\n\t\t\t\t\t\t\tdisabled={isSubmitAllowed}\n\t\t\t\t\t\t\tonClick={onSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{btnText}\n\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Modal.Body>\n\t\t</Modal>\n\t);\n};\n\nexport default RepayTokenModal;\n","import React, { useMemo, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\n\nimport {\n\tgetAaveCurrency,\n\tgetAaveLoadingState,\n\tgetAaveReservesGQLResponse,\n\tgetAaveUserAccountData,\n\tgetATokensData,\n\tgetTokensPrice,\n} from \"../../../state/selectors\";\nimport withBalance from \"../../../components/hoc/withBalance\";\nimport { useActiveWeb3React } from \"../../../hooks\";\nimport { setAaveCurrency } from \"../../../state/aave/actions\";\nimport { getKnownTokens, isWethToken } from \"../../../utils/known_tokens\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../utils/spot/tokens\";\nimport { Protocol } from \"../../../utils/aave/types\";\nimport {\n\tstartBorrowTokenSteps,\n\tstartLendingTokenSteps,\n\tstartRepayTokenSteps,\n\tstartUnLendingTokenSteps,\n} from \"../../../state/spotUI/actions\";\nimport CurrencyLogo from \"../../../components/CurrencyLogo\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { StyledLink, TradeButton } from \"../../../components/WalletCard/styleds\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ResponsiveTable from \"../../../components/ResponsiveTable\";\nimport BorrowTokenModal from \"./BorrowTokenModal\";\nimport RepayTokenModal from \"./RepayTokenModal\";\nimport { Token } from \"@uniswap/sdk\";\nimport { sortedData } from \"../../../lib/helper\";\nimport { useTranslation } from \"react-i18next\";\nimport useTheme from \"../../../hooks/useTheme\";\n\nconst LogoContainer = styled.div`\n\twidth: 32px;\n\theight: 32px;\n\tborder-radius: 32px;\n\tbackground-color: ${({ theme }) => theme.text1};\n\n\t@media (max-width: 991px) {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder-radius: 24px;\n\t}\n`;\n\nconst Symbol = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 1rem;\n\tmargin-right: 10px;\n\tfont-weight: 500;\n`;\n\nconst Name = styled.span`\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 400;\n\t}\n`;\n\nconst CellText = styled.span`\n\tfont-weight: 500;\n\tfont-size: 0.875rem;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t&.font-size-base {\n\t\tfont-size: 1rem;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 700;\n\n\t\t&.label {\n\t\t\tfont-weight: 500;\n\t\t}\n\t}\n`;\n\nconst BorrowBalance = (props) => {\n\tconst theme = useTheme();\n\tconst [isEthState, setIsEthState] = useState(false);\n\tconst [isHideZeroBalance, setIsHideZeroBalance] = useState(false);\n\tconst [isStableCoin, setIsStableCoin] = useState(false);\n\tconst { t } = useTranslation();\n\tconst [isModalBorrowOpenState, setIsModalBorrowOpenState] = useState(false);\n\tconst [isModalRepayOpenState, setIsModalRepayOpenState] = useState(false);\n\tconst [isSubmittingState, setIsSubmittingState] = useState(false);\n\tconst [aTokenDataState, setATokenDataState] = useState();\n\tconst [isBorrowState, setIsBorrowState] = useState(true);\n\tconst [tokenBalanceState, setTokenBalanceState] = useState();\n\tconst [availableForBorrowState, setAvailableForBorrowState] = useState(new BigNumber(0));\n\tconst [borrowBalanceState, setBorrowBalanceState] = useState(new BigNumber(0));\n\tconst [sort, setSort] = useState({\n\t\tfield: false,\n\t\torder: \"desc\",\n\t});\n\n\tconst { account } = useActiveWeb3React();\n\tconst reserves = useSelector(getAaveReservesGQLResponse);\n\tconst userAccountData = useSelector(getAaveUserAccountData);\n\tconst dispatch = useDispatch();\n\tconst aTokensData = useSelector(getATokensData);\n\tconst tokensPrice = useSelector(getTokensPrice);\n\tconst tokenBalances = props.tokensBalance;\n\tconst ethBalance = props.ethBalance;\n\tconst ethTotalBalance = props.totalEthBalance;\n\tconst wethTokenBalance = props.wethBalance;\n\tconst aaveLoadingState = useSelector(getAaveLoadingState);\n\tconst currencySelector = useSelector(getAaveCurrency);\n\n\tconst innerTabs = [\n\t\t{\n\t\t\tactive: currencySelector === \"NATIVE\",\n\t\t\tonClick: () => dispatch(setAaveCurrency(\"NATIVE\")),\n\t\t\ttext: \"Native\",\n\t\t},\n\t\t{\n\t\t\tactive: currencySelector === \"USD\",\n\t\t\tonClick: () => dispatch(setAaveCurrency(\"USD\")),\n\t\t\ttext: \"USD\",\n\t\t},\n\t];\n\n\tconst openBorrowModal = (...rest) => {\n\t\tconst [tokenD, isEthToken, tokB, token, availableBalanceForBorrowToken] = rest;\n\t\tsetATokenDataState(tokenD);\n\t\tsetIsModalBorrowOpenState(true);\n\t\tif (isEthToken) {\n\t\t\tsetIsEthState(true);\n\t\t\tsetTokenBalanceState({ ...wethTokenBalance, balance: tokB });\n\t\t} else {\n\t\t\tsetIsEthState(false);\n\t\t\tsetTokenBalanceState(tokenBalances.find((tb) => tb.token === token));\n\t\t}\n\t\tsetAvailableForBorrowState(availableBalanceForBorrowToken);\n\t\tsetIsBorrowState(true);\n\t};\n\n\tconst openRepayModal = (...rest) => {\n\t\tconst [tokenD, isEthToken, tokB, token, borrowBalance] = rest;\n\t\tsetATokenDataState(tokenD);\n\t\tif (isEthToken) {\n\t\t\tsetIsEthState(true);\n\t\t\tsetTokenBalanceState({ ...wethTokenBalance, balance: tokB });\n\t\t} else {\n\t\t\tsetIsEthState(false);\n\t\t\tsetTokenBalanceState(tokenBalances.find((tb) => tb.token === token));\n\t\t}\n\t\tsetBorrowBalanceState(borrowBalance || new BigNumber(0));\n\t\tsetIsModalRepayOpenState(true);\n\t\tsetIsBorrowState(false);\n\t};\n\n\tconst tokensRow = useMemo(() => {\n\t\tconst data = aTokensData.map((tokenD) => {\n\t\t\tconst { token, balance, borrowBalance } = tokenD;\n\n\t\t\tconst { symbol } = token;\n\t\t\tconst reserve = reserves.find((r) => r.aToken.id === tokenD.address);\n\t\t\tconst isEthToken = isWethToken(token);\n\t\t\tconst tokenBalance = tokenBalances.find((tb) => tb.token.symbol === symbol);\n\t\t\tif (isHideZeroBalance) {\n\t\t\t\t/* if ((isEthToken && ethTotalBalance.isEqualTo(0)) && (balance && balance.isEqualTo(0))) {\n                     return null;\n                 }*/\n\n\t\t\t\tif (borrowBalance && borrowBalance.isEqualTo(0)) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isStableCoin) {\n\t\t\t\tif (!token.isStableCoin) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst tokB = isEthToken\n\t\t\t\t? ethTotalBalance || new BigNumber(0)\n\t\t\t\t: (tokenBalance && tokenBalance.balance) || new BigNumber(0);\n\t\t\tlet displayAvailableForBorrowBalance;\n\t\t\tlet displayBorrowedBalance;\n\t\t\tlet availableForBorrow = new BigNumber(0);\n\t\t\tlet availableBalanceForBorrowToken = new BigNumber(0);\n\n\t\t\tif (account && borrowBalance && reserve && userAccountData) {\n\t\t\t\tconst priceInEth = reserve.price.priceInEth;\n\t\t\t\tconst totalAvailableForBorrowETH = userAccountData.availableBorrowsETH;\n\t\t\t\tavailableForBorrow = userAccountData.availableBorrowsETH;\n\t\t\t\tavailableBalanceForBorrowToken = totalAvailableForBorrowETH\n\t\t\t\t\t.dividedBy(new BigNumber(priceInEth).div(new BigNumber(10).pow(token.decimals)))\n\t\t\t\t\t.integerValue(BigNumber.ROUND_DOWN);\n\t\t\t\tconst formattedBorrowedBalance = tokenAmountInUnits(\n\t\t\t\t\tborrowBalance,\n\t\t\t\t\ttoken.decimals,\n\t\t\t\t\ttoken.displayDecimals\n\t\t\t\t);\n\t\t\t\tconst formattedAvailableForBorrowBalance = tokenAmountInUnits(\n\t\t\t\t\tavailableBalanceForBorrowToken,\n\t\t\t\t\ttoken.decimals,\n\t\t\t\t\ttoken.displayDecimals\n\t\t\t\t);\n\t\t\t\tconst tokenPrice = tokensPrice && tokensPrice.find((t) => t.c_id === token.c_id);\n\t\t\t\tif (currencySelector === \"NATIVE\") {\n\t\t\t\t\tdisplayAvailableForBorrowBalance = Number(formattedAvailableForBorrowBalance);\n\t\t\t\t\tdisplayBorrowedBalance = Number(formattedBorrowedBalance);\n\t\t\t\t} else {\n\t\t\t\t\tdisplayAvailableForBorrowBalance = tokenPrice\n\t\t\t\t\t\t? tokenPrice.price_usd\n\t\t\t\t\t\t\t\t.multipliedBy(new BigNumber(formattedAvailableForBorrowBalance))\n\t\t\t\t\t\t\t\t.toNumber()\n\t\t\t\t\t\t: \"-\";\n\t\t\t\t\tdisplayBorrowedBalance = tokenPrice\n\t\t\t\t\t\t? tokenPrice.price_usd.multipliedBy(new BigNumber(formattedBorrowedBalance)).toNumber()\n\t\t\t\t\t\t: \"-\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdisplayAvailableForBorrowBalance = \"-\";\n\t\t\t\tdisplayBorrowedBalance = \"-\";\n\t\t\t}\n\n\t\t\tconst apy = tokenD.variableBorrowRate.dividedBy(\"1e27\").multipliedBy(100).toNumber();\n\n\t\t\tconst tokenName = isEthToken ? \"Ethereum\" : token.name;\n\t\t\tconst tokenSymbol = isEthToken ? \"ETH\" : token.symbol.toUpperCase();\n\n\t\t\treturn {\n\t\t\t\ttoken,\n\t\t\t\tsymbol,\n\t\t\t\ttokenSymbol,\n\t\t\t\ttokenName,\n\t\t\t\tdisplayAvailableForBorrowBalance,\n\t\t\t\tavailableBalanceForBorrowToken,\n\t\t\t\tdisplayBorrowedBalance,\n\t\t\t\tavailableForBorrow,\n\t\t\t\tborrowBalance,\n\t\t\t\tapy,\n\t\t\t\tbalance,\n\t\t\t\ttokB,\n\t\t\t\tisEthToken,\n\t\t\t\ttokenD,\n\t\t\t};\n\t\t});\n\n\t\treturn sortedData(data, sort);\n\t}, [aTokensData, sort]);\n\n\n\tconst closeBorrowModal = () => {\n\t\tsetIsModalBorrowOpenState(false);\n\t};\n\tconst closeRepayModal = () => {\n\t\tsetIsModalRepayOpenState(false);\n\t};\n\n\tconst handleSubmit = async (amount, token, aToken, isEth) => {\n\t\tsetIsSubmittingState(true);\n\n\t\ttry {\n\t\t\tif (isBorrowState) {\n\t\t\t\tawait dispatch(\n\t\t\t\t\tstartBorrowTokenSteps(\n\t\t\t\t\t\tamount,\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\taToken,\n\t\t\t\t\t\tisEth,\n\t\t\t\t\t\tProtocol.Aave,\n\t\t\t\t\t\tethBalance,\n\t\t\t\t\t\twethTokenBalance,\n\t\t\t\t\t\tethTotalBalance\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tawait dispatch(\n\t\t\t\t\tstartRepayTokenSteps(\n\t\t\t\t\t\tamount,\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\taToken,\n\t\t\t\t\t\tisEth,\n\t\t\t\t\t\tProtocol.Aave,\n\t\t\t\t\t\tethBalance,\n\t\t\t\t\t\twethTokenBalance,\n\t\t\t\t\t\tethTotalBalance\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t} finally {\n\t\t\tsetIsSubmittingState(false);\n\t\t\tif (isBorrowState) {\n\t\t\t\tcloseBorrowModal();\n\t\t\t} else {\n\t\t\t\tcloseRepayModal();\n\t\t\t}\n\t\t}\n\t};\n\tconst wethToken = getKnownTokens().getWethToken();\n\tconst onHideZeroBalance = () => {\n\t\tsetIsHideZeroBalance(!isHideZeroBalance);\n\t};\n\tconst onIsStableCoin = () => {\n\t\tsetIsStableCoin(!isStableCoin);\n\t};\n\n\tconst wethPlusEthBalance = wethTokenBalance ? wethTokenBalance.balance.plus(ethBalance) : new BigNumber(0);\n\n\tconst onTableChange = (type, context) => {\n\t\tif (type === \"sort\") {\n\t\t\tsetSort({\n\t\t\t\tfield: context.sortField,\n\t\t\t\torder: context.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"tokenName\",\n\t\t\ttext: t(\"token\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tconst currency = new Token(1, row.token.address, row.token.decimals, row.token.symbol, row.token.name);\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={rowIndex}\n\t\t\t\t\t\tclassName=\"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<LogoContainer>\n\t\t\t\t\t\t\t<CurrencyLogo currency={currency} />\n\t\t\t\t\t\t</LogoContainer>\n\t\t\t\t\t\t<div className=\"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0\">\n\t\t\t\t\t\t\t<Symbol className={\"font-weight-bold\"}>{row.tokenSymbol}</Symbol>\n\t\t\t\t\t\t\t<Name className={\"font-weight-bold\"}>{row.tokenName}</Name>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t\tsort: true,\n\t\t},\n\t\t{\n\t\t\tdataField: \"displayAvailableForBorrowBalance\",\n\t\t\ttext: t(\"borrow.available\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <CellText>{typeof row.displayAvailableForBorrowBalance === 'number' ? `${row.displayAvailableForBorrowBalance} ${row.tokenSymbol}` : row.displayAvailableForBorrowBalance}</CellText>;\n\t\t\t},\n\t\t\tsort: true,\n\t\t},\n\t\t{\n\t\t\tdataField: \"displayBorrowedBalance\",\n\t\t\ttext: t(\"borrow.borrowBalance\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <CellText>{typeof row.displayBorrowedBalance === 'number' ? `${row.displayBorrowedBalance} ${row.tokenSymbol}` : row.displayBorrowedBalance}</CellText>;\n\t\t\t},\n\t\t\tsort: true,\n\t\t},\n\t\t{\n\t\t\tdataField: \"apy\",\n\t\t\ttext: t(\"borrow.borrowRate\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <CellText>{row.apy.toFixed(6)} %</CellText>;\n\t\t\t},\n\t\t\tsort: true,\n\t\t},\n\t\t{\n\t\t\tdataField: \"actions\",\n\t\t\ttext: t(\"table.actions\"),\n\t\t\tformatter: (cellContent, row, rowIndex, { openBorrowModal, openRepayModal }) => {\n\t\t\t\tconst {\n\t\t\t\t\ttokB,\n\t\t\t\t\ttokenD,\n\t\t\t\t\tisEthToken,\n\t\t\t\t\ttoken,\n\t\t\t\t\tborrowBalance,\n\t\t\t\t\tavailableBalanceForBorrowToken,\n\t\t\t\t\tavailableForBorrow,\n\t\t\t\t} = row;\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\"d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StyledLink>\n\t\t\t\t\t\t\t<TradeButton\n\t\t\t\t\t\t\t\tonClick={openBorrowModal.bind(\n\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\ttokenD,\n\t\t\t\t\t\t\t\t\tisEthToken,\n\t\t\t\t\t\t\t\t\ttokB,\n\t\t\t\t\t\t\t\t\ttoken,\n\t\t\t\t\t\t\t\t\tavailableBalanceForBorrowToken\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tdisabled={availableForBorrow.isEqualTo(0) || !account}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"borrow.title\")}\n\t\t\t\t\t\t\t</TradeButton>\n\t\t\t\t\t\t</StyledLink>\n\n\t\t\t\t\t\t<StyledLink>\n\t\t\t\t\t\t\t<TradeButton\n\t\t\t\t\t\t\t\tvariant={theme.warning}\n\t\t\t\t\t\t\t\tonClick={openRepayModal.bind(this, tokenD, isEthToken, tokB, token, borrowBalance)}\n\t\t\t\t\t\t\t\tdisabled={(borrowBalance && borrowBalance.isEqualTo(0)) || !account}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"repay\")}\n\t\t\t\t\t\t\t</TradeButton>\n\t\t\t\t\t\t</StyledLink>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t\tisAction: true,\n\t\t\tformatExtraData: {\n\t\t\t\topenBorrowModal,\n\t\t\t\topenRepayModal,\n\t\t\t},\n\t\t},\n\t];\n\n\tconst modals = (\n\t\t<>\n\t\t\t{isModalBorrowOpenState && aTokenDataState && (\n\t\t\t\t<BorrowTokenModal\n\t\t\t\t\tshow={isModalBorrowOpenState}\n\t\t\t\t\ttokenBalance={tokenBalanceState}\n\t\t\t\t\tisSubmitting={isSubmittingState}\n\t\t\t\t\tavailableForBorrow={availableForBorrowState}\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\taToken={aTokenDataState}\n\t\t\t\t\tcloseModal={closeBorrowModal}\n\t\t\t\t\tethBalance={wethPlusEthBalance}\n\t\t\t\t\tisEth={isEthState}\n\t\t\t\t\twethToken={wethToken}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{isModalRepayOpenState && aTokenDataState && (\n\t\t\t\t<RepayTokenModal\n\t\t\t\t\tshow={isModalRepayOpenState}\n\t\t\t\t\ttokenBalance={tokenBalanceState}\n\t\t\t\t\tisSubmitting={isSubmittingState}\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\tborrowedBalance={borrowBalanceState}\n\t\t\t\t\taToken={aTokenDataState}\n\t\t\t\t\tcloseModal={closeRepayModal}\n\t\t\t\t\tethBalance={wethPlusEthBalance}\n\t\t\t\t\tisEth={isEthState}\n\t\t\t\t\twethToken={wethToken}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n\n\treturn (\n\t\t<div className=\"d-flex flex-column\">\n\t\t\t<BootstrapTable\n\t\t\t\twrapperClasses=\"table-responsive d-none d-lg-block\"\n\t\t\t\tbordered={false}\n\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table\"\n\t\t\t\tbootstrap4\n\t\t\t\tremote\n\t\t\t\tkeyField=\"id\"\n\t\t\t\tdata={tokensRow}\n\t\t\t\tcolumns={columns}\n\t\t\t\tonTableChange={onTableChange}\n\t\t\t></BootstrapTable>\n\t\t\t<ResponsiveTable breakpoint={\"lg\"} columns={columns} data={tokensRow} direction={\"rtl\"} />\n\n\t\t\t{modals}\n\t\t</div>\n\t);\n};\n\nexport default withBalance(BorrowBalance);\n","import { Col, Nav, Row, Tab } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nimport { ResponsiveCard } from \"../../../components/Card\";\nimport React, { useEffect } from \"react\";\nimport { GET_AAVE_RESERVES } from \"../../../services/aave/gql\";\nimport { useQuery } from \"@apollo/client\";\nimport { getAaveGraphClient } from \"../../../services/aave/aave\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useActiveWeb3React } from \"../../../hooks\";\nimport { getAaveLoadingState } from \"../../../state/selectors\";\nimport { fetchAave, initAave, setAaveReservesGQLResponse } from \"../../../state/aave/actions\";\nimport { AaveLoadingState } from \"../../../utils/aave/types\";\nimport useInterval from \"../../../hooks/useInterval\";\nimport LendingBalance from \"../LendingBalance\";\nimport BorrowBalance from \"../BorrowBalance\";\nimport { useTranslation } from \"react-i18next\";\n\nconst HeaderCol = styled(Col)`\n\tmargin: -10px 0 20px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 25px;\n\t}\n`;\n\nconst CustomNav = styled(Nav)`\n\tmargin-left: -30px !important;\n\tmargin-right: -30px !important;\n\toverflow: auto;\n\n\t@media (min-width: 768px) {\n\t\tmargin-left: -10px !important;\n\t\tmargin-right: -10px !important;\n\t}\n`;\n\nconst CustomNavItem = styled(Nav.Item)`\n\tflex-grow: initial !important;\n\n\tpadding: 0 10px 10px;\n\n\t@media (max-width: 767px) {\n\t\tpadding: 0 5px 10px;\n\t}\n\n\t&:first-child {\n\t\t@media (max-width: 767px) {\n\t\t\tpadding-left: 30px;\n\t\t}\n\t}\n\t&:last-child {\n\t\t@media (max-width: 767px) {\n\t\t\tpadding-right: 30px;\n\t\t}\n\t}\n`;\nconst CustomNavLink = styled(Nav.Link)`\n\tborder-radius: 18px !important;\n\tcolor: ${({ theme }) => theme.primary};\n\tbackground-color: ${({ theme }) => theme.primaryLight};\n\twhite-space: nowrap;\n\tpadding: 14px 24px;\n\tmin-height: 56px;\n\tfont-weight: 500;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (max-width: 767px) {\n\t\tpadding: 6px 15px;\n\t\tfont-size: 1rem;\n\t\tmin-height: 32px;\n\t\tborder-radius: 12px !important;\n\t}\n\n\t&:hover {\n\t\tcolor: ${({ theme }) => theme.primary};\n\t}\n\n\t&.active {\n\t\tcolor: ${({ theme }) => theme.text1};\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t}\n`;\n\nconst BorrowCommon = (props) => {\n\tconst { account } = useActiveWeb3React();\n\tconst { loading, error, data } = useQuery(GET_AAVE_RESERVES, {\n\t\tclient: getAaveGraphClient(),\n\t\tpollInterval: 1000,\n\t});\n\tconst dispatch = useDispatch();\n\tconst aaveLoadingState = useSelector(getAaveLoadingState);\n\tconst { t } = useTranslation();\n\n\tuseEffect(() => {\n\t\tif (!loading && !error && data) {\n\t\t\tdispatch(setAaveReservesGQLResponse(data.reserves));\n\t\t\tif (aaveLoadingState === AaveLoadingState.NotLoaded) {\n\t\t\t\tdispatch(initAave(account));\n\t\t\t} else {\n\t\t\t\tdispatch(fetchAave(account));\n\t\t\t}\n\t\t}\n\t}, [loading, data, account]);\n\n\t// Update Aaave state each 60 seconds\n\tuseInterval(async () => {\n\t\tif (account && data && !loading && !error) {\n\t\t\tdispatch(fetchAave(account));\n\t\t}\n\t}, 60 * 1000);\n\n\treturn (\n\t\t<ResponsiveCard>\n\t\t\t<Tab.Container defaultActiveKey=\"deposit\">\n\t\t\t\t<Row>\n\t\t\t\t\t<HeaderCol\n\t\t\t\t\t\txs={12}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\"d-flex flex-column-reverse flex-lg-row align-items-stretch align-items-lg-start justify-content-start justify-content-lg-between\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CustomNav fill variant=\"pills\" className={\"d-flex flex-row align-items-center flex-nowrap\"}>\n\t\t\t\t\t\t\t<CustomNavItem>\n\t\t\t\t\t\t\t\t<CustomNavLink eventKey=\"deposit\">{t(\"deposit\")}</CustomNavLink>\n\t\t\t\t\t\t\t</CustomNavItem>\n\t\t\t\t\t\t\t<CustomNavItem>\n\t\t\t\t\t\t\t\t<CustomNavLink eventKey=\"borrow\">{t(\"borrow.title\")}</CustomNavLink>\n\t\t\t\t\t\t\t</CustomNavItem>\n\t\t\t\t\t\t</CustomNav>\n\t\t\t\t\t</HeaderCol>\n\n\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t<Tab.Content className={\"bg-transparent\"}>\n\t\t\t\t\t\t\t<Tab.Pane eventKey=\"deposit\">\n\t\t\t\t\t\t\t\t<LendingBalance />\n\t\t\t\t\t\t\t</Tab.Pane>\n\t\t\t\t\t\t\t<Tab.Pane eventKey=\"borrow\">\n\t\t\t\t\t\t\t\t<BorrowBalance />\n\t\t\t\t\t\t\t</Tab.Pane>\n\t\t\t\t\t\t</Tab.Content>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Tab.Container>\n\t\t</ResponsiveCard>\n\t);\n};\n\nexport default BorrowCommon;\n","import { Modal } from \"../../../components/Modal/bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Web3 from \"web3\";\nimport { Web3Wrapper } from \"@0x/web3-wrapper\";\n\nimport { getStepsModalCurrentStep } from \"../../../state/selectors\";\nimport { setStepsModalCurrentStep } from \"../../../state/spotUI/actions\";\nimport { CHAIN_ID, StepKind } from \"../../../constants\";\n\nimport UnlockToken from \"./modals/UnlockToken\";\nimport React, { useEffect, useState } from \"react\";\nimport { TransactionSubmittedContent } from \"../../../components/TransactionConfirmationModal\";\nimport WrapEth from \"./modals/WrapEth\";\nimport LendingToken from \"./modals/LendingToken\";\nimport BorrowToken from \"./modals/BorrowToken\";\n\nlet web3;\nlet web3Wrapper;\n\nconst ModalProvider = (props) => {\n\tconst [submitted, setSubmitted] = useState(false);\n\tconst [txHash, setTxHash] = useState(null);\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst dispatch = useDispatch();\n\tconst isOpen = currentStep !== null;\n\n\tuseEffect(() => {\n\t\tweb3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\t\tif (web3.currentProvider) {\n\t\t\tweb3Wrapper = new Web3Wrapper(web3.currentProvider);\n\t\t}\n\t}, []);\n\n\tconst hideModal = () => {\n\t\tsetSubmitted(false);\n\t\tsetTxHash(null);\n\t\tdispatch(setStepsModalCurrentStep(null));\n\t};\n\n\tconst onDone = (tx) => {\n\t\tsetSubmitted(true);\n\t\tsetTxHash(tx);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{props.children}\n\t\t\t<Modal show={isOpen} centered onHide={hideModal}>\n\t\t\t\t<Modal.Body className={\"px-0 py-0\"}>\n\t\t\t\t\t{!submitted ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.ToggleTokenLock && (\n\t\t\t\t\t\t\t\t<UnlockToken onDismiss={hideModal} web3={web3Wrapper} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.WrapEth && (\n\t\t\t\t\t\t\t\t<WrapEth onDismiss={hideModal} web3={web3Wrapper} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.LendingToken && (\n\t\t\t\t\t\t\t\t<LendingToken onDismiss={hideModal} onDone={onDone} web3={web3Wrapper} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.UnLendingToken && (\n\t\t\t\t\t\t\t\t<LendingToken onDismiss={hideModal} onDone={onDone} web3={web3Wrapper} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.RepayToken && (\n\t\t\t\t\t\t\t\t<BorrowToken onDismiss={hideModal} onDone={onDone} web3={web3Wrapper} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BorrowToken && (\n\t\t\t\t\t\t\t\t<BorrowToken onDismiss={hideModal} onDone={onDone} web3={web3Wrapper} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TransactionSubmittedContent chainId={CHAIN_ID} hash={txHash} onDismiss={hideModal} />\n\t\t\t\t\t)}\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default ModalProvider;\n","import { ConfirmationPendingContent } from \"../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { UNLIMITED_ALLOWANCE_IN_BASE_UNITS } from \"../../../../constants\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { getContractWrappers } from \"../../../../utils/spot/contractWrapper\";\nimport { ERC20TokenContract } from \"@0x/contract-wrappers\";\nimport { stepsModalAdvanceStep } from \"../../../../state/spotUI/actions\";\n\nconst UnlockToken = (props) => {\n\tconst [unlocking, setUnlocking] = useState(false);\n\tconst { account, library } = useActiveWeb3React();\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst { address, token } = currentStep;\n\tconst web3 = props.web3;\n\tconst dispatch = useDispatch();\n\n\tconst unlockToken = async () => {\n\t\ttry {\n\t\t\tconst contractWrappers = await getContractWrappers(web3.getProvider());\n\t\t\tconst approveAddress = address ? address : contractWrappers.contractAddresses.erc20Proxy;\n\n\t\t\tconst erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n\t\t\tconst amount = UNLIMITED_ALLOWANCE_IN_BASE_UNITS;\n\n\t\t\tconst tx = await erc20Token.approve(approveAddress, amount).sendTransactionAsync({\n\t\t\t\tfrom: account,\n\t\t\t});\n\t\t\tsetUnlocking(true);\n\t\t\tawait web3.awaitTransactionSuccessAsync(tx);\n\n\t\t\tif (tx) {\n\t\t\t\tsetUnlocking(false);\n\t\t\t\tdispatch(stepsModalAdvanceStep());\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetUnlocking(false);\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tunlockToken();\n\t}, [currentStep]);\n\n\treturn (\n\t\t<ConfirmationPendingContent\n\t\t\tonDismiss={unlocking ? () => null : props.onDismiss}\n\t\t\tpendingText={unlocking ? \"Unlocking\" : \"Waiting for confirmation\"}\n\t\t/>\n\t);\n};\n\nexport default UnlockToken;\n","import { ConfirmationPendingContent } from \"../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { UNLIMITED_ALLOWANCE_IN_BASE_UNITS } from \"../../../../constants\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { getContractWrappers } from \"../../../../utils/spot/contractWrapper\";\nimport { ERC20TokenContract } from \"@0x/contract-wrappers\";\nimport { stepsModalAdvanceStep, updateWethBalance } from \"../../../../state/spotUI/actions\";\nimport withBalance from \"../../../../components/hoc/withBalance\";\nimport {\n\tINSUFFICIENT_ETH_BALANCE_FOR_DEPOSIT,\n\tUNEXPECTED_ERROR,\n\tUSER_DENIED_TRANSACTION_SIGNATURE_ERR,\n} from \"../../../../lib/exceptions/common\";\nimport { tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport { ConvertBalanceMustNotBeEqualException } from \"../../../../lib/exceptions/convertBalance\";\n\nconst WrapEth = (props) => {\n\tconst [wrapping, setWrapping] = useState(false);\n\tconst { account } = useActiveWeb3React();\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst { wethBalance } = props;\n\tconst { currentWethBalance, newWethBalance } = currentStep;\n\tconst web3 = props.web3;\n\tconst dispatch = useDispatch();\n\n\tconst amount = newWethBalance.minus(currentWethBalance);\n\tconst isEthToWeth = amount.isGreaterThan(0);\n\tconst convertingFrom = isEthToWeth ? \"ETH\" : \"wETH\";\n\n\tconst wrapEthereum = async () => {\n\t\ttry {\n\t\t\tconst convertTxHash = await dispatch(\n\t\t\t\tupdateWethBalance(wethBalance, newWethBalance, account, web3.getProvider())\n\t\t\t);\n\t\t\tsetWrapping(true);\n\t\t\tconst tx = await web3.awaitTransactionSuccessAsync(convertTxHash);\n\n\t\t\tif (tx) {\n\t\t\t\tsetWrapping(false);\n\t\t\t\tdispatch(stepsModalAdvanceStep());\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetWrapping(false);\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\twrapEthereum();\n\t}, [currentStep]);\n\n\treturn (\n\t\t<ConfirmationPendingContent\n\t\t\tonDismiss={wrapping ? () => null : props.onDismiss}\n\t\t\tpendingText={wrapping ? \"Wrapping...\" : `Convert ${convertingFrom}`}\n\t\t/>\n\t);\n};\n\nexport default withBalance(WrapEth);\n","import { ConfirmationPendingContent } from \"../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { tokenAmountInUnits, tokenSymbolToDisplayString } from \"../../../../utils/spot/tokens\";\nimport { getGasInfo, getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { lendingDefiToken, unLendingDefiToken } from \"../../../../state/defi/actions\";\n\nconst LendingToken = (props) => {\n\tconst [loading, setLoading] = useState(false);\n\tconst { account } = useActiveWeb3React();\n\n\tconst { step, onSubmitLendingToken, onSubmitUnLendingToken } = props;\n\tconst { amount, token, isEth, defiToken, isLending } = step;\n\n\tconst coinSymbol = isEth ? tokenSymbolToDisplayString(\"ETH\") : tokenSymbolToDisplayString(token.symbol);\n\tconst decimals = isEth ? 18 : step.token.decimals;\n\tconst amountOfTokenString = `${tokenAmountInUnits(\n\t\tstep.amount,\n\t\tdecimals,\n\t\tstep.token.displayDecimals\n\t).toString()} ${coinSymbol}`;\n\n\tconst web3 = props.web3;\n\n\tconst Lending = async () => {\n\t\ttry {\n\t\t\tconst txHash = isLending\n\t\t\t\t? await onSubmitLendingToken(token, defiToken, amount, isEth, account)\n\t\t\t\t: await onSubmitUnLendingToken(token, defiToken, amount, isEth, account);\n\t\t\tsetLoading(true);\n\t\t\tconst tx = await web3.awaitTransactionSuccessAsync(txHash);\n\t\t\tif (tx) {\n\t\t\t\tsetLoading(false);\n\t\t\t\tprops.onDone(txHash);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tLending();\n\t}, [step]);\n\n\treturn (\n\t\t<ConfirmationPendingContent\n\t\t\tonDismiss={loading ? () => null : props.onDismiss}\n\t\t\tpendingText={\n\t\t\t\tloading\n\t\t\t\t\t? `Pending Transaction...`\n\t\t\t\t\t: `Confirm on ${account} to ${isLending ? \"deposit\" : \"withdraw\"} ${amountOfTokenString}.`\n\t\t\t}\n\t\t/>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t\tgasInfo: getGasInfo(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitLendingToken: (token, defiToken, amount, isEth, account) =>\n\t\t\tdispatch(lendingDefiToken(token, defiToken, amount, isEth, account)),\n\t\tonSubmitUnLendingToken: (token, defiToken, amount, isEth, account) =>\n\t\t\tdispatch(unLendingDefiToken(token, defiToken, amount, isEth, account)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LendingToken);\n","import { getUpdateAToken } from \"../../services/aave/aave\";\nimport { Protocol } from \"../../utils/aave/types\";\nimport { borrowAToken, lendingAToken, repayAToken, setATokenBalance, unLendingAToken } from \"../aave/actions\";\nimport { getDefiProtocol } from \"../selectors\";\n\nexport const lendingDefiToken = (token, defiToken, amount, isEth, account) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst protocol = getDefiProtocol(state);\n\t\tswitch (protocol) {\n\t\t\tcase Protocol.Aave:\n\t\t\t\tconst txHash = dispatch(lendingAToken(token, defiToken, amount, isEth, account));\n\t\t\t\treturn txHash;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n};\n\nexport const borrowDefiToken = (token, defiToken, amount, isEth, account) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst protocol = getDefiProtocol(state);\n\t\tswitch (protocol) {\n\t\t\tcase Protocol.Aave:\n\t\t\t\tconst txHash = dispatch(borrowAToken(token, defiToken, amount, isEth, account));\n\t\t\t\treturn txHash;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n};\n\nexport const repayDefiToken = (token, defiToken, amount, isEth, account) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst protocol = getDefiProtocol(state);\n\t\tswitch (protocol) {\n\t\t\tcase Protocol.Aave:\n\t\t\t\tconst txHash = dispatch(repayAToken(token, defiToken, amount, isEth, account));\n\t\t\t\treturn txHash;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n};\n\nexport const unLendingDefiToken = (token, defiToken, amount, isEth, account) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst protocol = getDefiProtocol(state);\n\t\tswitch (protocol) {\n\t\t\tcase Protocol.Aave:\n\t\t\t\tconst txHash = dispatch(unLendingAToken(token, defiToken, amount, isEth, account));\n\t\t\t\treturn txHash;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n};\n\nexport const updateDefiTokenBalance = (defiToken, ethAccount) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst protocol = getDefiProtocol(state);\n\t\tswitch (protocol) {\n\t\t\tcase Protocol.Aave:\n\t\t\t\tconst token = await getUpdateAToken(ethAccount, defiToken);\n\t\t\t\tdispatch(setATokenBalance(token));\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n};\n","import { ConfirmationPendingContent } from \"../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { tokenAmountInUnits, tokenSymbolToDisplayString } from \"../../../../utils/spot/tokens\";\nimport { getGasInfo, getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { borrowDefiToken, repayDefiToken } from \"../../../../state/defi/actions\";\n\nconst LendingToken = (props) => {\n\tconst [loading, setLoading] = useState(false);\n\tconst { account } = useActiveWeb3React();\n\n\tconst { step, onSubmitBorrowToken, onSubmitRepayToken } = props;\n\tconst { amount, token, isEth, defiToken, isBorrow } = step;\n\n\tconst coinSymbol = isEth ? tokenSymbolToDisplayString(\"ETH\") : tokenSymbolToDisplayString(token.symbol);\n\tconst decimals = isEth ? 18 : step.token.decimals;\n\n\tconst amountOfTokenString = `${tokenAmountInUnits(\n\t\tstep.amount,\n\t\tdecimals,\n\t\tstep.token.displayDecimals\n\t).toString()} ${coinSymbol}`;\n\n\tconst web3 = props.web3;\n\n\tconst Borrowing = async () => {\n\t\ttry {\n\t\t\tconst txHash = isBorrow\n\t\t\t\t? await onSubmitBorrowToken(token, defiToken, amount, isEth, account)\n\t\t\t\t: await onSubmitRepayToken(token, defiToken, amount, isEth, account);\n\n\t\t\tsetLoading(true);\n\t\t\tconst tx = await web3.awaitTransactionSuccessAsync(txHash);\n\t\t\tif (tx) {\n\t\t\t\tsetLoading(false);\n\t\t\t\tprops.onDone(txHash);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tBorrowing();\n\t}, [step]);\n\n\treturn (\n\t\t<ConfirmationPendingContent\n\t\t\tonDismiss={loading ? () => null : props.onDismiss}\n\t\t\tpendingText={\n\t\t\t\tloading\n\t\t\t\t\t? `Pending Transaction...`\n\t\t\t\t\t: `Confirm on ${account} to ${isBorrow ? \"Borrow\" : \"Repay\"} ${amountOfTokenString}.`\n\t\t\t}\n\t\t/>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t\tgasInfo: getGasInfo(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitBorrowToken: (token, defiToken, amount, isEth, account) =>\n\t\t\tdispatch(borrowDefiToken(token, defiToken, amount, isEth, account)),\n\t\tonSubmitRepayToken: (token, defiToken, amount, isEth, account) =>\n\t\t\tdispatch(repayDefiToken(token, defiToken, amount, isEth, account)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LendingToken);\n","import GraphQlProvider from \"./Provider\";\nimport Page from \"../../components/Page\";\nimport GlobalOverall from \"./GlobalOverall\";\nimport BorrowCommon from \"./Common\";\nimport \"./style.scss\";\nimport ModalProvider from \"./ModalProvider\";\n\nconst Borrow = () => {\n\treturn (\n\t\t<Page title={\"Loans\"} networkSensitive={true}>\n\t\t\t<GraphQlProvider>\n\t\t\t\t<ModalProvider />\n\t\t\t\t<GlobalOverall />\n\t\t\t\t<BorrowCommon />\n\t\t\t</GraphQlProvider>\n\t\t</Page>\n\t);\n};\n\nexport default Borrow;\n"],"sourceRoot":""}